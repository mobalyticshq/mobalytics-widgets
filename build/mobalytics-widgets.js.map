{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./lol/utils/build-data-format.utils.ts","webpack:///../node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/index.js","webpack:///./lol/components/images/tier.component.tsx","webpack:///../node_modules/@popperjs/core/lib/utils/format.js","webpack:///./common/types/sorting.ts","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack:///../node_modules/@popperjs/core/lib/utils/debounce.js","webpack:///../node_modules/marked/src/InlineLexer.js","webpack:///./common/utils/list.ts","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack:///./index.tsx","webpack:///./lol/ui/typography/index.ts","webpack:///../node_modules/marked/src/Slugger.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/offset.js","webpack:///../node_modules/@popperjs/core/lib/utils/getVariation.js","webpack:///./common/components/universal-game-subject-tooltip/universal-game-subject-tooltip.component.tsx","webpack:///./common/utils/graphql.ts","webpack:///./common/i18n/i18n.ts","webpack:///../node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack:///./lol/widgets/champion-build-widget/champion-build-widget-loading/champion-build-widget-loading.tsx","webpack:///../node_modules/@popperjs/core/lib/popper.js","webpack:///./lol/components/widget-footer/widget-footer.component.tsx","webpack:///../node_modules/marked/src/Lexer.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack:///./lol/config.ts","webpack:///./lol/components/is-compact/ic-compact-widget.component.tsx","webpack:///./lol/components/items-build/items-build.component.tsx","webpack:///./lol/types/gql-dynamic/globalTypes.ts","webpack:///../node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack:///../node_modules/@popperjs/core/lib/enums.js","webpack:///../node_modules/extract-files/public/ReactNativeFile.js","webpack:///./lol/api/static/queries/champion-ability-by-slug.gql.ts","webpack:///./common/utils/math.ts","webpack:///./lol/components/images/champion-ability.component.tsx","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack:///./lol/widgets/champion-tooltip-widget/champion-tooltip-widget-content/champion-tooltip.utils.ts","webpack:///./lol/api/api.ts","webpack:///./lol/components/items-build/items-build-chain.component.tsx","webpack:///./lol/components/loading-skeletons/build-header-skeleton/build-header-skeleton.component.tsx","webpack:///./common/utils/dom-scanner.ts","webpack:///../node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack:///./lol/format/order.ts","webpack:///../node_modules/marked/src/helpers.js","webpack:///./lol/widgets/champion-tooltip-widget/champion-tooltip-widget.utils.ts","webpack:///./lol/format/symbols.ts","webpack:///./lol/components/loading-skeletons/build-footer-skeleton/build-footer-skeleton.component.tsx","webpack:///../node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack:///../node_modules/dequal/dist/index.mjs","webpack:///./lol/components/perk-tooltip/perk-tooltip.component.tsx","webpack:///./common/format/images.ts","webpack:///./lol/widgets/champion-tooltip-widget/champion-tooltip-widget.component.tsx","webpack:///./lol/api/static/queries/game-item-by-riot-id.gql.ts","webpack:///../node_modules/extract-files/public/isExtractableFile.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack:///../node_modules/marked/src/TextRenderer.js","webpack:///./lol/components/champion-tooltip/champion-tooltip-footer.component.tsx","webpack:///./lol/components/champion-ability-tooltip/skill-progression-text.component.tsx","webpack:///./lol/api/dynamic/queries/champion-tooltip-query.gql.ts","webpack:///./lol/components/images/item-icon.component.tsx","webpack:///../node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack:///./lol/api/dynamic/queries/champion-build-query.gql.ts","webpack:///./common/components/game-item-rich-text/game-item-rich-text.utils.ts","webpack:///../node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack:///./lol/components/runes/runes-build-compact/runes-build-compact.component.tsx","webpack:///./lol/utils/abilities.ts","webpack:///./common/utils/sorting.ts","webpack:///../node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack:///../node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack:///../node_modules/marked/src/rules.js","webpack:///./common/components/tooltip-hook/tooltip-hook.ts","webpack:///./lol/components/loading-skeletons/champion-abilities-order-bar-skeleton/compact-champion-abilities-order-bar-skeleton.component.tsx","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack:///../node_modules/marked/src/Parser.js","webpack:///./common/components/triangle-with-rounded-corners/triangle-with-rounded-corners.component.tsx","webpack:///../node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack:///./common/types/champions.ts","webpack:///./lol/components/build-header/build-header.component.tsx","webpack:///./lol/utils/images.ts","webpack:///./lol/widgets/champion-build-widget/champion-build-widget-content/champion-build-widget-content.tsx","webpack:///./lol/widgets/champion-build-widget/champion-build-widget-error/champion-build-widget-error.tsx","webpack:///./lol/components/loading-skeletons/items-build-skeleton/items-build-skeleton.component.tsx","webpack:///../node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack:///./entrypoints/widgets-entrypoint.tsx","webpack:///../node_modules/clsx/dist/clsx.m.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack:///./lol/api/static/queries/champion-build-query.gql.ts","webpack:///../node_modules/@popperjs/core/lib/index.js","webpack:///../src/index.js","webpack:///./lol/utils/links.ts","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack:///./lol/format/colors.ts","webpack:///./common/components/game-item-rich-text/game-item-tooltip-rich-text.component.tsx","webpack:///../node_modules/extract-files/public/extractFiles.js","webpack:///../src/to-vdom.js","webpack:///../src/markup-to-vdom.js","webpack:///../src/parse-markup.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/hide.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/flip.js","webpack:///./common/components/metric-with-trend/metric-with-trend-chart.component.tsx","webpack:///./lol/components/runes/runes-build/runes-slots-block.component.tsx","webpack:///./lol/components/error-message/error-message.component.tsx","webpack:///../node_modules/marked/src/marked.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack:///./lol/components/champion-tooltip/champion-tooltip.component.tsx","webpack:///./lol/components/spell-tooltip/spell-tooltip.component.tsx","webpack:///./common/types/widgets.ts","webpack:///./lol/components/champion-tooltip/champion-tooltip-dynamic.component.tsx","webpack:///../node_modules/@popperjs/core/lib/createPopper.js","webpack:///./lol/components/champion-ability-tooltip/champion-ability-tooltip-wrapper.component.tsx","webpack:///../node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack:///./lol/components/loading-skeletons/runes-build-compact-skeleton/runes-build-compact-skeleton.component.tsx","webpack:///./common/format/number.ts","webpack:///./common/components/rich-text/rich-text.component.tsx","webpack:///../node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack:///./common/format/video.ts","webpack:///./lol/components/champion-abilities-order-bar/compact-champion-abilities-order-bar.component.tsx","webpack:///../node_modules/marked/src/defaults.js","webpack:///./lol/api/static/queries/perk-by-riot-id.gql.ts","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack:///./lol/api/static/queries/game-items-query.gql.ts","webpack:///./lol/components/champion-abilities-order/compact-champion-abilities-order.component.tsx","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack:///../node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack:///./lol/components/loading-skeletons/champion-abilities-order-skeleton/compact-champion-abilities-order-skeleton.component.tsx","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack:///../node_modules/marked/src/Renderer.js","webpack:///../node_modules/preact-markdown/index.js","webpack:///../node_modules/@popperjs/core/lib/utils/math.js","webpack:///./lol/utils/validation.ts","webpack:///../node_modules/extract-files/public/index.mjs","webpack:///../node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack:///./lol/widgets/champion-build-widget/champion-build-widget-body/champion-build-widget-body.tsx","webpack:///../src/util.js","webpack:///../src/create-element.js","webpack:///../src/component.js","webpack:///../src/diff/children.js","webpack:///../src/diff/props.js","webpack:///../src/diff/index.js","webpack:///../src/render.js","webpack:///../src/clone-element.js","webpack:///../src/create-context.js","webpack:///../src/constants.js","webpack:///../src/options.js","webpack:///../src/diff/catch-error.js","webpack:///../node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack:///./lol/api/static/queries/summoner-spell-by-slug.gql.ts","webpack:///./lol/components/champion-tooltip/champion-tooltip-static.component.tsx","webpack:///./entrypoints/tooltips-entrypoint.tsx","webpack:///./lol/components/item-tooltip/item-tooltip.component.tsx","webpack:///../node_modules/@popperjs/core/lib/utils/validateModifiers.js","webpack:///./lol/format/number.ts","webpack:///../node_modules/graphql-hooks/es/graphql-hooks.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack:///../src/PureComponent.js","webpack:///../src/memo.js","webpack:///../src/forwardRef.js","webpack:///../src/suspense.js","webpack:///../src/suspense-list.js","webpack:///../src/portals.js","webpack:///../src/scheduler.js","webpack:///../src/Children.js","webpack:///../src/utils.ts","webpack:///../src/dom-utils.ts","webpack:///../src/bindGlobalEventListeners.ts","webpack:///../src/props.ts","webpack:///../src/template.ts","webpack:///../src/constants.ts","webpack:///../src/createTippy.ts","webpack:///../src/index.ts","webpack:///../src/plugins/followCursor.ts","webpack:///../src/plugins/sticky.ts","webpack:///../src/addons/delegate.ts","webpack:///../src/browser.ts","webpack:///../src/addons/createSingleton.ts","webpack:///../src/plugins/animateFill.ts","webpack:///../src/plugins/inlinePositioning.ts","webpack:///../build/base.js","webpack:///../node_modules/@popperjs/core/lib/utils/uniqueBy.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js","webpack:///./lol/components/loading-skeletons/spells-skeleton/spells-skeleton.component.tsx","webpack:///./common/utils/lang.ts","webpack:///./lol/components/champion-abilities-order/champion-abilities-order.component.tsx","webpack:///./lol/components/metrics/win-rate/win-rate.component.tsx","webpack:///../node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack:///./lol/types/widget-props.ts","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack:///../node_modules/goober/dist/goober.esm.js","webpack:///../node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack:///../node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack:///./lol/components/runes/runes-build/runes-build.component.tsx","webpack:///./lol/components/spells/spells.component.tsx","webpack:///./lol/utils/squidex-data.utils.ts","webpack:///./lol/widgets/champion-tooltip-widget/champion-tooltip-widget-content/champion-tooltip-widget-content.component.tsx","webpack:///./lol/static/runes.tsx","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack:///./lol/components/champion-abilities-order-bar/champion-abilities-order-bar.component.tsx","webpack:///./lol/components/loading-skeletons/runes-build-skeleton/runes-build-skeleton.component.tsx","webpack:///./lol/components/images/spell-icon.component.tsx","webpack:///../node_modules/@popperjs/core/lib/popper-lite.js","webpack:///./lol/ui/global.mixin.ts","webpack:///../node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack:///./lol/widgets/champion-build-widget/champion-build-widget.component.tsx","webpack:///./lol/api/static/queries/champion-tooltip-query.gql.ts","webpack:///../node_modules/@popperjs/core/lib/utils/within.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack:///./lol/components/images/runes-icon.component.tsx","webpack:///./common/loader/loader.component.tsx","webpack:///./lol/components/runes/utils.ts","webpack:///../node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack:///./lol/format/texts.ts","webpack:///./lol/components/champion-ability-tooltip/champion-ability-tooltip.component.tsx","webpack:///./lol/components/loading-skeletons/champion-abilities-order-skeleton/champion-abilities-order-skeleton.component.tsx"],"names":["root","factory","exports","module","define","amd","a","i","window","__webpack_require__","moduleId","installedModules","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","itemsBuild","gameItems","map","it","type","items","LolChampionBuildItemsListType","Situational","item","find","riotId","isMythic","extractFromFlatList","slug","filter","filterNonNull","rawAbilities","abilities","activationKey","AbilityIndexToKey","validateStrEnumValue","SkillKey","skillOrder","order","skillMaxOrder","WidgetPropBuildType","LolChampionBuildType","MOST_POPULAR","HIGHEST_WIN_RATE","RECOMMENDED","enabled","phase","fn","_ref","_state$modifiersData$","state","options","arrowElement","elements","arrow","popperOffsets","modifiersData","basePlacement","placement","axis","len","left","right","indexOf","paddingObject","padding","rects","basePlacements","toPaddingObject","arrowRect","minProp","top","maxProp","bottom","endDiff","reference","popper","startDiff","arrowOffsetParent","clientSize","clientHeight","clientWidth","center","offset","centerOffset","effect","_ref2","_options$element","element","querySelector","requires","requiresIfExists","props","className","src","hexTierIcon","Icon","alt","loading","css","str","_len","arguments","length","args","Array","_key","concat","reduce","replace","SortDirection","isElement","ownerDocument","document","documentElement","parent","child","rootNode","getRootNode","contains","isShadowRoot","next","isSameNode","parentNode","host","pending","Promise","resolve","then","undefined","Renderer","require","defaults","inline","findClosingBracket","escape","links","this","rules","normal","renderer","Error","pedantic","gfm","breaks","output","InlineLexer","link","text","href","title","cap","prevCapZero","out","exec","substring","tag","inLink","test","inRawBlock","html","sanitize","sanitizer","lastParenIndex","linkLen","trim","slice","outputLink","escapes","reflink","nolink","toLowerCase","charAt","strong","em","code","codespan","br","del","autolink","mangle","url","smartypants","charCodeAt","_backpedal","_escapes","image","ch","Math","random","toString","list","isDef","scrollLeft","scrollTop","genFontLink","id","createElement","rel","as","onload","mountHostElements","widgetHosts","querySelectorAll","mountWidgetHostElements","tooltipHosts","mountTooltipHostElements","isRobotoConnected","getElementById","isOswaldConnected","isMobaTooltipDetected","robotoLink","head","append","oswaldLink","setup","h","addEventListener","seen","originalSlug","distanceAndSkiddingToXY","invertDistance","skidding","distance","x","y","_options$offset","data","placements","acc","_data$state$placement","split","iconUrl","description","ItemWrapper","ItemHeader","ItemHeaderIcon","ItemTitle","GameItemTooltipRichText","markdownText","Text18x400Mixin","literals","join","term","offsets","variation","commonX","width","commonY","height","mainAxis","start","end","isCompact","isSmall","BuildHeaderSkeleton","Content","Row","FlexEnd","CompactRunesWrapper","Col","Title","RunesBuildCompactBlockSkeleton","RunesBuildBlockSkeleton","SpellsSkeleton","ItemsBuildSkeleton","SkillOrderRow","ChampionAbilitiesOrderSkeleton","CompactChampionAbilitiesOrderBarSkeleton","AbilitiesOrder","CompactChampionAbilitiesOrderSkeleton","BuildFooterSkeleton","defaultModifiers","eventListeners","computeStyles","applyStyles","flip","preventOverflow","hide","popperGenerator","championName","championSlug","Wrapper","SmallWrapper","LinksWrapper","genChampionPath","MiddleDot","MOBA_WIDGET_REPO_URL","LogoWrapper","MOBA_HOME_URL","mobalyticsLogoSymbol","Name","Text12x500Mixin","Text12x400Mixin","block","rtrim","splitCells","tokens","lex","Lexer","token","loose","bull","b","listStart","listItems","space","isordered","istask","ischecked","newline","push","lastToken","trimRight","codeBlockStyle","fences","lang","heading","depth","nptable","header","align","cells","hr","blockquote","ordered","match","RegExp","bullet","smartLists","task","checked","pre","def","table","lheading","paragraph","getScrollParent","node","body","isHTMLElement","CompactWidget","LargeWidget","componentProps","Label","formatItemsBuildType","ItemIcon","Item","LolChampionELO","Region","Rolename","TierLevel","_getComputedStyle","overflow","overflowY","overflowX","auto","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","uri","STATIC_CHAMPION_ABILITY_BY_RIOT_ID","gql","wins","looses","k","useTooltipHook","isAsync","mountTooltip","triggerHandler","contentRef","contentClass","dataLoadedHandler","Fragment","championAbilityImage","role","onMouseEnter","ChampionAbilityTooltipWrapper","ref","onDataLoaded","win","visualViewport","navigator","userAgent","offsetLeft","offsetTop","history","reverse","curr","prev","isDown","matchupSlug","counterMetrics","winRate","calcWinRate","staticDataClient","GraphQLClient","headers","dynamicDataClient","ItemsBuild","ChampionImage","Text","attrs","attributes","keys","forEach","attr","startsWith","propName","all","letter","toUpperCase","nodeValue","script","getElementsByTagName","JSON","parse","innerHTML","e","dataMobaWidth","modifiers","sort","modifier","visited","add","dep","has","depModifier","result","Map","Set","set","orderedModifiers","modifierPhases","SkillKeyOrder","PASSIVE","Q","W","E","R","unescape","unescapeTest","_","String","fromCharCode","parseInt","resolveUrl","base","baseUrls","justDomain","relativeBase","protocol","domain","invert","suffLen","currChar","substr","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","caret","nonWordAndColonTest","originIndependentUrl","encode","edit","regex","opt","source","obj","val","getRegex","cleanUrl","prot","decodeURIComponent","encodeURI","noopTest","merge","target","tableRow","count","escaped","splice","level","checkSanitizeDeprecation","silent","console","warn","rect","iter","tar","dequal","foo","bar","ctor","tmp","constructor","Date","getTime","size","ArrayBuffer","Uint8Array","DataView","byteLength","getInt8","isView","PerkTooltip","forwardRef","useQuery","STATIC_PERK_BY_RIOT_ID","variables","client","lolApi","error","useEffect","perk","perks","flatData","UniversalGameSubjectTooltip","iconName","perkIcon","longDescription","shortDescription","customDescription","GlobalStyle","CDN_COMMON_ICON_PATH","hostElement","interactive","isTagNameValid","tagName","champion","extractChampionNameFromUrl","getAttribute","handler","removeEventListener","ChampionTooltipWidgetContent","STATIC_GAME_ITEM_BY_RIOT_ID","ReactNativeFile","File","Blob","defaultView","ChampionPageSection","BUILDS","GUIDE","PRO_BUILDS","COMBOS","COUNTERS","Value","CHAMPION_TOOLTIP_QUERY_GQL","gameItemIcon","Mythic","onMouseOver","ItemTooltip","DYNAMIC_CHAMPION_BUILD_QUERY_GQL","markdown","closeTagSymbol","closeMatchSymbol","allowedTags","includes","style","styles","removeAttribute","setAttribute","initialStyles","position","strategy","margin","attribute","keystone","subStyle","runes","primary","secondary","LineWrapper","getPerksColor","RunesIcon","MainIcon","isActive","isKeystones","KeystoneIcon","index","PerksIcon","color","accessFn","comparator","direction","safeCopy","ASC","matched","hash","_paragraph","_label","_title","_tag","_comment","_punctuation","_scheme","_email","_attribute","_href","_extended_email","vnode","createPortal","useState","triggerState","setTriggerState","triggerElementRef","useRef","tippyRef","propsRef","useCallback","current","currentTarget","setContent","show","rest","content","delay","onShow","instance","hideAll","duration","visibility","SkullWrapper","Separator","Text10x400Mixin","assignedSlot","Slugger","TextRenderer","slugger","Parser","inlineText","tok","pop","peek","parseText","row","cell","j","tablecell","tablerow","nextToken","checkbox","listitem","errMsg","log","transform","commonIcon","roleName","patch","gamesCount","championImage","roleNameIcon","formatRoleName","RoleIconCss","WinRate","CDN_LOL_IMG_PATH","CDN_COMMON_IMG_PATH","CDN_CGI_LOL_IMG_PATH","tier","widgetWidth","compact","region","buildID","dynamicLoading","dynamicError","dynamicData","STATIC_CHAMPION_BUILD_QUERY_GQL","staticData","ChampionBuildWidgetLoading","ChampionBuildWidgetError","imgSrc","amumuCrying","MOBA_APP_LINK","championStats","firstItem","championBuild","lol","build","itemsChunk1","itemsChunk2","spells","rawSkillOrder","rawSkillMaxOrder","stats","buildPatch","matchCount","formatAbilities","formatItemsBuild","formatSkillOrder","abilitiesOrder","formatAbilityOrder","formatSkillMaxOrder","isBuildAvailable","bgClass","Background","championPosterImage","BuildHeader","ChampionBuildWidgetBody","emoteImage","WidgetFooter","bg","ErrorMessage","Chain","mapToStyles","_Object$assign2","popperRect","gpuAcceleration","adaptive","roundOffsets","_ref3","dpr","devicePixelRatio","round","roundOffsetsByDPR","_ref3$x","_ref3$y","hasX","hasY","sideX","sideY","offsetParent","heightProp","widthProp","_Object$assign","commonStyles","unsetSides","_ref4","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","WidgetEntrypoint","useErrorBoundary","dataMobaWidget","dataMobaChampion","dataMobaChampionRole","dataMobaChampionRegion","dataMobaChampionPatch","dataMobaChampionBuildType","dataMobaChampionBuildId","Widgets","LOL_CHAMPION_BUILD","LOL_CHAMPION_BUILD_COMPACT","buildType","el","__isMobaMounted","collectPropsFromElement","render","toVal","mix","isArray","clientRect","offsetWidth","offsetHeight","abs","LolGameItemFragment","getHookState","currentComponent","currentHook","hooks","initialState","useReducer","invokeOrReturn","reducer","init","hookState","currentIndex","_reducer","nextValue","action","setState","useLayoutEffect","callback","argsChanged","useMemo","flushAfterPaintEffects","afterPaintEffects","component","invokeCleanup","invokeEffect","hook","comp","oldArgs","newArgs","some","arg","f","initialValue","createHandle","context","provider","sub","formatter","useDebugValue","cb","errState","componentDidCatch","err","prevRaf","oldBeforeDiff","oldBeforeRender","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","requestAnimationFrame","raf","done","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","setTimeout","commitQueue","section","getClientRectFromMixedType","clippingParent","viewport","clientTop","clientLeft","getInnerBoundingClientRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","getClippingParents","clippingRect","accRect","max","min","winRateColors","AVERAGE","POOR","GOOD","GREAT","processedMarkdown","processCustomHtmlTags","StyledLolRichText","RichText","defaultIsExtractableFile","extractFiles","path","isExtractableFile","addFile","paths","file","storedPaths","files","apply","clone","prefix","FileList","walk","arr","nodeType","textContent","isFirstOrLast","nodeName","allowScripts","children","allowEvents","Function","childNodes","exists","visitor","attrName","parserDoc","customReviver","EMPTY_OBJ","setReviver","shouldComponentUpdate","wrap","markup","setComponents","components","let","vdom","reviver","defaultReviver","dom","doc","parserError","wrappedMarkup","mime","DOMParser","parseFromString","implementation","createHTMLDocument","frame","cssText","appendChild","contentWindow","open","close","fc","firstChild","removeChild","lastChild","onError","cl","Component","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","referenceRect","referenceOverflow","elementContext","popperAltOverflow","altBoundary","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","elementOrVirtualElement","isFixed","isOffsetParentAnElement","scroll","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","_loop","_i","fittingPlacement","reset","symbol","valueFormatterFn","MetricValue","MetricMeta","TriangleWithRoundedCorners","Text20x400Mixin","slots","Header","PathIcon","formatRunesPath","Grid","rowIndex","KeystoneRow","runeSlug","Text14x700Mixin","Img","Link","Text16x500Mixin","Text14x400Mixin","Text14x500Mixin","marked","highlight","message","getDefaults","changeDefaults","setOptions","parser","lexer","inlineLexer","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offset","_min","_max","_preventedOffset","isLoading","counterChampions","pickRate","banRate","championType","ChampionTooltipStatic","ChampionTooltipDynamicData","Loader","ChampionTooltipFooter","SpellTooltip","STATIC_SPELL_FRAGMENT","summonerSpellIcon","Tooltips","MetricsWrapper","MetricWithTrend","formatIndicator","Counter","RoundedIcon","areValidElements","getBoundingClientRect","generatorOptions","_generatorOptions$def","_generatorOptions$def2","defaultOptions","DEFAULT_OPTIONS","cleanupModifierEffects","effectCleanupFns","isDestroyed","scrollParents","contextElement","_ref3$options","cleanupFn","update","forceUpdate","_state$elements","_state$orderedModifie","_state$orderedModifie2","destroy","onFirstUpdate","ChampionAbilityStatSlug","ability","ChampionAbilityTooltip","abilityKey","riotDesc","mobaDesc","range","findBySlug","Range","cost","Cost","cooldown","Cooldown","Element","HTMLElement","ShadowRoot","precision","toFixed","num","isNaN","Markdown","mp4","CDN_LOL_VIDEO_PATH","webm","placeholder","ChampionAbilityIcon","AbilityKey","getSkillKeyColor","baseUrl","headerIds","headerPrefix","langPrefix","xhtml","newDefaults","STATIC_PERK_FRAGMENT","_element$ownerDocumen","winScroll","scrollWidth","scrollHeight","Index","AbilityKeySymbol","Text12x700Mixin","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","_options$altBoundary","_options$padding","referenceElement","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","getComputedStyle","infostring","quote","raw","flags","preact","Markup","default","opts","markupOpts","markdownOpts","IDs","IsCompactBlock","formatRunesData","RunesBuildCompactBlock","RunesBuildBlock","Spells","SpellsStyle","ItemsBuildChain","TitleWrapper","ChampionAbilitiesOrderBar","skillsKeys","ChampionAbilitiesOrder","SkillPriority","CompactChampionAbilitiesOrderBar","CompactChampionAbilitiesOrder","assign","removeNode","normalizedProps","defaultProps","createVNode","original","getDomSibling","childIndex","sibling","updateParentDomPointers","enqueueRender","rerenderQueue","process","prevDebounce","debounceRendering","defer","queue","oldVNode","oldDom","parentDom","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","childVNode","newDom","firstChildDom","refs","oldChildren","EMPTY_ARR","oldChildrenLength","reorderChildren","placeChild","applyRef","nextDom","sibDom","outer","nextSibling","insertBefore","setStyle","setProperty","IS_NON_DIMENSIONAL","oldValue","useCapture","_listeners","eventProxyCapture","eventProxy","event","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","componentContext","newType","contextType","doRender","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","oldHtml","newHtml","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","hydrate","diffProps","parentVNode","skipRemove","componentWillUnmount","replaceNode","createRef","defaultValue","contextId","Consumer","contextValue","Provider","subs","ctx","_props","old","toChildArray","isValidElement","handled","getDerivedStateFromError","hashMap","SummonerSpellFragment","championPosterW400Image","CardBg","TierIcon","Tier","CardContent","ChampionType","championClassIcon","Text16x700Mixin","TooltipEntrypoint","dataMobaTooltip","LOL_CHAMPION_TOOLTIP","effectDescription","INVALID_MODIFIER_ERROR","VALID_PROPERTIES","requirement","mod","_defineProperty","configurable","writable","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","actionTypes","cacheHit","resetState","updateData","useClientRequest","query","initialOpts","contextClient","React","useContext","ClientContext","isMounted","activeCacheKey","operation","operationName","persisted","useGETForQueries","isMutation","fetchOptionsOverrides","method","cacheKey","getCacheKey","isDeferred","isManual","initialCacheHit","skipCache","cache","_React$useReducer","dispatch","stringifiedCacheKey","stringify","deps","fetchData","newOpts","revisedOpts","revisedOperation","revisedCacheKey","getCache","request","actionResult","useCache","ssrMode","cacheValue","saveCache","desiredState","allOpts","defaultOpts","_React$useState","calledDuringSSR","setCalledDuringSSR","_useClientRequest","queryReq","ssr","ssrPromises","stringifiedAllOpts","refetch","callbackRef","subscription","createSubscription","subscribe","unsubscribe","complete","createContext","displayName","isExtractableFileEnhanced","pipe","config","fetch","fetchOptions","FormData","logErrors","subscriptionClient","_proto","setHeader","setHeaders","removeHeader","logErrorResult","groupCollapsed","groupEnd","fetchError","httpError","graphQLErrors","generateResult","getFetchOptions","_extractFiles","operationJSON","form","_this","entries","v","encodeURIComponent","response","ok","json","_ref5","errors","status","statusText","catch","_this2","sink","shallowDiffers","PureComponent","memo","comparer","shouldUpdate","nextProps","updateRef","Memoed","isReactComponent","Forwarded","$$typeof","REACT_FORWARD_SYMBOL","Suspense","_suspenders","suspended","lazy","loader","Lazy","prom","SuspenseList","_next","_map","ContextProvider","Portal","container","_container","_temp","before","preactRender","preactHydrate","empty","isPropagationStopped","cancelBubble","isDefaultPrevented","defaultPrevented","createFactory","REACT_ELEMENT_TYPE","cloneElement","preactCloneElement","unmountComponentAtNode","findDOMNode","priority","isPureReactComponent","oldDiffHook","for","mapFn","Children","only","normalized","toArray","oldCatchError","oldUnmount","promise","suspendingVNode","suspendingComponent","resolved","onResolved","onSuspensionComplete","suspendedVNode","removeOriginal","detachedParent","originalParent","wasHydrating","detachedComponent","detachedClone","fallback","delete","revealOrder","delegated","u","wrappedUnsuspend","unsuspend","CAMEL_PROPS","onChangeInputType","oldEventHook","persist","nativeEvent","classNameDescriptor","class","oldVNodeHook","multiple","selected","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","readContext","unstable_now","performance","now","unstable_batchedUpdates","useImperativeHandle","version","StrictMode","getValueAtIndexOrReturn","isType","invokeWithArgsOrReturn","debounce","ms","removeProperties","normalizeToArray","pushIfUnique","getBasePlacement","arrayFrom","div","isMouseEvent","isReferenceElement","getArrayOfElements","isNodeList","setTransitionDuration","els","setVisibilityState","getOwnerDocument","updateTransitionEndListener","box","onDocumentTouchStart","currentInput","onDocumentMouseMove","lastMouseMoveTime","onWindowBlur","activeElement","getExtendedPassedProps","pluginProps","passedProps","plugin","evaluateProps","plugins","valueAsString","getDataAttributeProps","expanded","createArrowElement","getChildren","boxChildren","backdrop","prevProps","onUpdate","createTippy","touch","getNormalizedTouchSettings","getCurrentTarget","lastTriggerEvent","isShow","shouldInvokePropsHook","pluginsHooks","pluginHooks","aria","nodes","currentValue","hasAriaExpanded","getDocument","mouseMoveListeners","listener","didTouchMove","invokeHook","didHideDueToDocumentMouseDown","removeDocumentPress","getDefaultTemplateChildren","currentTransitionEndListener","listeners","eventType","getIsCustomTouchBehavior","on","onTrigger","passive","onMouseLeave","splitBySpaces","isIE","shouldScheduleClickHide","isEventListenerStopped","wasFocused","handleAriaExpandedAttribute","scheduleShow","isVisibleFromClick","scheduleHide","isCursorOverReferenceOrPopper","clientX","clientY","popperTreeData","popperState","interactiveBorder","isCursorOutsideInteractiveBorder","getNestedPopperTree","cleanupInteractiveMouseListeners","destroyPopperInstance","popperOptions","getReferenceClientRect","moveTransition","getIsDefaultRenderFn","computedReference","createPopper","addDocumentPress","getDelay","touchDelay","showTimeout","hideTimeout","scheduleHideAnimationFrame","ignoreOnFirstUpdate","debouncedOnMouseMove","onMouseMove","idCounter","popperInstance","isEnabled","isVisible","isShown","clearDelayTimeouts","setProps","removeListeners","ignoreAttributes","addListeners","handleStyles","createPopperInstance","nestedPopper","isAlreadyVisible","isDisabled","isTouchAndTouchDisabled","appendTo","handleAriaContentAttribute","mountedInstances","onTransitionEnd","onTransitionedIn","isAlreadyHidden","onTransitionedOut","hideWithInteractivity","enable","disable","tippy","optionalProps","instances","storeMouseCoords","mouseCoords","areRectsDifferent","rectA","rectB","targetNode","trigger","childProps","BUBBLING_EVENTS_MAP","childTippyInstances","disabled","nativeProps","parentProps","showOnCreate","returnValue","targets","normalizedReturnValue","originalDestroy","originalEnable","originalDisable","shouldDestroyChildInstances","addEventListeners","CONTENT_CLASS","BACKDROP_CLASS","ARROW_CLASS","SVG_ARROW_CLASS","TOUCH_OPTIONS","capture","isTouch","ua","animateFill","followCursor","inlinePositioning","sticky","hideOnClick","interactiveDebounce","onAfterUpdate","onBeforeUpdate","onCreate","onDestroy","onHidden","onHide","onMount","onShown","onUntrigger","onClickOutside","triggerTarget","allowHTML","animation","inertia","maxWidth","theme","zIndex","defaultKeys","partialProps","excludedReferenceOrInstance","exclude","isExcluded","originalDuration","applyStylesModifier","references","individualInstances","originalSetProps","singleton","overrideProps","overrides","interceptSetPropsCleanups","shownOnCreate","enableInstances","setReferences","prepareInstance","originalShow","first","last","interceptSetProps","mouseover","focusin","click","createBackdropElement","transitionDuration","Number","activeInstances","isInternalUpdate","isCursorOverReference","relativeX","relativeY","addMouseCoordsListener","removeMouseCoordsListener","wasFocusEvent","isUnmounted","getIsInitialBehavior","addListener","removeListener","unsetGetReferenceClientRect","clientRects","currentBasePlacement","cursorRectIndex","firstRect","lastRect","isTop","minLeft","maxRight","measureRects","getInlineBoundingClientRect","getProps","setInternalProps","cursorRect","currentRefRect","shouldCheck","currentPopRect","prevRefRect","prevPopRect","updatePosition","identifiers","identifier","pageXOffset","pageYOffset","Preact","interopDefault","firstElementChild","app","preRenderData","inlineDataElement","decodeURI","CLI_DATA","getStrEnumValues","getStrEnumKeys","isStrEnumValue","SkillsWrapper","SkillIcon","SkillsOrderWrapper","Line","formatWinRateColor","formatPercent","merged","existing","listScrollParents","scrollParent","isBody","updatedList","getTrueOffsetParent","isFirefox","currentNode","perspective","contain","willChange","getContainingBlock","unshift","g","_goober","shift","_options$allowedAutoP","allPlacements","variationPlacements","allowedPlacements","overflows","RunesSlotsBlock","RunesSlotsMapByID","SpellIcon","skillLevel","LOW","CHAMPION_TOOLTIP_STATIC_QUERY_GQL","staticLoading","championMeta","championTier","validateRolename","ChampionTooltip","dynamicChampionData","dynamicChampionRoleData","championsList","champions","roleData","riftTiers","countersOptions","winRateHistory","pickRateHistory","banRateHistory","sortBy","formatCounters","numberComparator","validateChampionType","formatMetric","BlockWrapper","RuneRound","GridRow","KeystoneRound","_options$scroll","_options$resize","resize","validatedRole","validatedRegion","validateRegion","validatedBuildTypeProp","validatedBuildType","formatBuildType","getWidgetHeight","ChampionBuildWidgetContent","Active","Dot","fade","keyframes","ADC","JUNGLE","MID","SUPPORT","TOP","UNKNOWN","Boots","Core","Early","FullBuild","Starter","FirstCore","SecondCore","FifthItem","FourthItem","SixthItem","championAbilityVideo","video","setVideo","marginTop","onVideoError","VideoStyled","loop","autoPlay","muted","ChampionAbilityKeySymbolStyled","Description","AbilityMetric","AbilityMetricValue","SkillProgressionText"],"mappings":"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","file":"mobalytics-widgets.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"mdyV\");\n","import { AbilityIndexToKey } from './abilities';\nimport { validateStrEnumValue } from '../../common/utils/lang';\nimport { LolChampionBuildItemsListType, LolChampionBuildType, SkillKey } from '../types/gql-dynamic/globalTypes';\nimport { filterNonNull } from '../../common/utils/list';\nimport { LolChampionWidgetDynamicQuery_lol_champion_build_items } from '../types/gql-dynamic/LolChampionWidgetDynamicQuery';\nimport { ItemsBuildT } from '../components/items-build/types';\nimport { LolChampionWidgetStaticQuery_champion_flatData_abilities } from '../types/gql-static/LolChampionWidgetStaticQuery';\nimport { Ability } from '../components/champion-abilities-order/types';\nimport { extractFromFlatList } from './squidex-data.utils';\nimport { Nullable } from '../../common/types/lang';\nimport { LolGameItemFragment } from '../types/gql-static/LolGameItemFragment';\nimport { WidgetPropBuildType } from '../types/widget-props';\n\nexport function formatItemsBuild(\n  itemsBuild: LolChampionWidgetDynamicQuery_lol_champion_build_items[],\n  gameItems: LolGameItemFragment[]\n): Nullable<ItemsBuildT[]> {\n  return itemsBuild\n    .map(it => {\n      const { type, items } = it;\n      if (items && type && type !== LolChampionBuildItemsListType.Situational) {\n        const connectedItems: Nullable<{ riotId: number; name: string; isMythic: boolean }[]> = items\n          .map(it => {\n            const item = gameItems.find(i => (i.riotId === it));\n            return it && item && item.name\n              ? {\n                riotId: it,\n                name: item.name,\n                isMythic: !!extractFromFlatList(item.type)?.find(type => type.slug === 'mythic'),\n              }\n              : null;\n          })\n          .filter(filterNonNull);\n        return { type, items: connectedItems };\n      }\n      return null;\n    })\n    .filter(filterNonNull);\n}\n\nexport function formatAbilities(\n  rawAbilities: LolChampionWidgetStaticQuery_champion_flatData_abilities[]\n): Nullable<Ability[]> {\n  const abilities = extractFromFlatList(rawAbilities)\n  return abilities?.map(it => {\n      const { slug, name, activationKey } = it;\n      const key = activationKey !== AbilityIndexToKey[0] && validateStrEnumValue<SkillKey>(SkillKey, activationKey);\n      return slug && name && key\n        ? { slug, name, activationKey: key }\n        : null;\n    })\n    .filter(filterNonNull);\n}\n\nexport function formatSkillOrder(skillOrder: number[]): SkillKey[] {\n  return skillOrder\n    ?.map(it => validateStrEnumValue<SkillKey>(SkillKey, AbilityIndexToKey[it]))\n    .filter(filterNonNull);\n}\n\nexport function formatAbilityOrder(order: number[], abilities: Ability[]): Ability[] {\n  return order.map(it => {\n    const { slug, name } = abilities?.find(i => i.activationKey === AbilityIndexToKey[it]) || {};\n    const activationKey = validateStrEnumValue<SkillKey>(SkillKey, AbilityIndexToKey[it]);\n    return slug && name && activationKey ? { slug, name, activationKey } : null;\n  }).filter(filterNonNull);\n}\n\nexport function formatSkillMaxOrder(skillMaxOrder: number[]): SkillKey[] {\n   return skillMaxOrder\n     .map(it => validateStrEnumValue<SkillKey>(SkillKey, AbilityIndexToKey[it]))\n     .filter(filterNonNull);\n}\n\nexport function formatBuildType(type: WidgetPropBuildType): Nullable<LolChampionBuildType> {\n  switch (type) {\n    case WidgetPropBuildType['most-popular']:\n      return LolChampionBuildType.MOST_POPULAR;\n    case WidgetPropBuildType['highest-wr']:\n      return LolChampionBuildType.HIGHEST_WIN_RATE;\n    case WidgetPropBuildType['recommended']:\n      return LolChampionBuildType.RECOMMENDED\n  }\n}\n","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport within from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","export { default as applyStyles } from \"./applyStyles.js\";\nexport { default as arrow } from \"./arrow.js\";\nexport { default as computeStyles } from \"./computeStyles.js\";\nexport { default as eventListeners } from \"./eventListeners.js\";\nexport { default as flip } from \"./flip.js\";\nexport { default as hide } from \"./hide.js\";\nexport { default as offset } from \"./offset.js\";\nexport { default as popperOffsets } from \"./popperOffsets.js\";\nexport { default as preventOverflow } from \"./preventOverflow.js\";","import { FunctionComponent, h} from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { hexTierIcon } from '../../utils/images';\nimport { TierLevel } from '../../types/gql-dynamic/globalTypes';\n\ninterface Props {\n  name: TierLevel;\n  className?: string;\n}\n\nexport const TierIcon: FunctionComponent<Props> = props => {\n  const { name, className } = props;\n  return <img src={hexTierIcon(name)} className={clsx(Icon, className)} alt={name} loading=\"lazy\" />;\n};\n\nconst Icon = css`\n  width: 27px;\n  height: 32px;\n`;\n","export default function format(str) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return [].concat(args).reduce(function (p, c) {\n    return p.replace(/%s/, c);\n  }, str);\n}","export enum SortDirection {\n  ASC,\n  DESC,\n}\n","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","const Renderer = require('./Renderer.js');\nconst { defaults } = require('./defaults.js');\nconst { inline } = require('./rules.js');\nconst {\n  findClosingBracket,\n  escape\n} = require('./helpers.js');\n\n/**\n * Inline Lexer & Compiler\n */\nmodule.exports = class InlineLexer {\n  constructor(links, options) {\n    this.options = options || defaults;\n    this.links = links;\n    this.rules = inline.normal;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n\n    if (!this.links) {\n      throw new Error('Tokens array requires a `links` property.');\n    }\n\n    if (this.options.pedantic) {\n      this.rules = inline.pedantic;\n    } else if (this.options.gfm) {\n      if (this.options.breaks) {\n        this.rules = inline.breaks;\n      } else {\n        this.rules = inline.gfm;\n      }\n    }\n  }\n\n  /**\n   * Expose Inline Rules\n   */\n  static get rules() {\n    return inline;\n  }\n\n  /**\n   * Static Lexing/Compiling Method\n   */\n  static output(src, links, options) {\n    const inline = new InlineLexer(links, options);\n    return inline.output(src);\n  }\n\n  /**\n   * Lexing/Compiling\n   */\n  output(src) {\n    let out = '',\n      link,\n      text,\n      href,\n      title,\n      cap,\n      prevCapZero;\n\n    while (src) {\n      // escape\n      if (cap = this.rules.escape.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += escape(cap[1]);\n        continue;\n      }\n\n      // tag\n      if (cap = this.rules.tag.exec(src)) {\n        if (!this.inLink && /^<a /i.test(cap[0])) {\n          this.inLink = true;\n        } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n          this.inLink = false;\n        }\n        if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          this.inRawBlock = true;\n        } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          this.inRawBlock = false;\n        }\n\n        src = src.substring(cap[0].length);\n        out += this.renderer.html(this.options.sanitize\n          ? (this.options.sanitizer\n            ? this.options.sanitizer(cap[0])\n            : escape(cap[0]))\n          : cap[0]);\n        continue;\n      }\n\n      // link\n      if (cap = this.rules.link.exec(src)) {\n        const lastParenIndex = findClosingBracket(cap[2], '()');\n        if (lastParenIndex > -1) {\n          const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          const linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n        src = src.substring(cap[0].length);\n        this.inLink = true;\n        href = cap[2];\n        if (this.options.pedantic) {\n          link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          } else {\n            title = '';\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n        href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n        out += this.outputLink(cap, {\n          href: InlineLexer.escapes(href),\n          title: InlineLexer.escapes(title)\n        });\n        this.inLink = false;\n        continue;\n      }\n\n      // reflink, nolink\n      if ((cap = this.rules.reflink.exec(src))\n          || (cap = this.rules.nolink.exec(src))) {\n        src = src.substring(cap[0].length);\n        link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = this.links[link.toLowerCase()];\n        if (!link || !link.href) {\n          out += cap[0].charAt(0);\n          src = cap[0].substring(1) + src;\n          continue;\n        }\n        this.inLink = true;\n        out += this.outputLink(cap, link);\n        this.inLink = false;\n        continue;\n      }\n\n      // strong\n      if (cap = this.rules.strong.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n        continue;\n      }\n\n      // em\n      if (cap = this.rules.em.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n        continue;\n      }\n\n      // code\n      if (cap = this.rules.code.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.codespan(escape(cap[2].trim(), true));\n        continue;\n      }\n\n      // br\n      if (cap = this.rules.br.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.br();\n        continue;\n      }\n\n      // del (gfm)\n      if (cap = this.rules.del.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.del(this.output(cap[1]));\n        continue;\n      }\n\n      // autolink\n      if (cap = this.rules.autolink.exec(src)) {\n        src = src.substring(cap[0].length);\n        if (cap[2] === '@') {\n          text = escape(this.mangle(cap[1]));\n          href = 'mailto:' + text;\n        } else {\n          text = escape(cap[1]);\n          href = text;\n        }\n        out += this.renderer.link(href, null, text);\n        continue;\n      }\n\n      // url (gfm)\n      if (!this.inLink && (cap = this.rules.url.exec(src))) {\n        if (cap[2] === '@') {\n          text = escape(cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n          text = escape(cap[0]);\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n        src = src.substring(cap[0].length);\n        out += this.renderer.link(href, null, text);\n        continue;\n      }\n\n      // text\n      if (cap = this.rules.text.exec(src)) {\n        src = src.substring(cap[0].length);\n        if (this.inRawBlock) {\n          out += this.renderer.text(this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0]);\n        } else {\n          out += this.renderer.text(escape(this.smartypants(cap[0])));\n        }\n        continue;\n      }\n\n      if (src) {\n        throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n      }\n    }\n\n    return out;\n  }\n\n  static escapes(text) {\n    return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n  }\n\n  /**\n   * Compile Link\n   */\n  outputLink(cap, link) {\n    const href = link.href,\n      title = link.title ? escape(link.title) : null;\n\n    return cap[0].charAt(0) !== '!'\n      ? this.renderer.link(href, title, this.output(cap[1]))\n      : this.renderer.image(href, title, escape(cap[1]));\n  }\n\n  /**\n   * Smartypants Transformations\n   */\n  smartypants(text) {\n    if (!this.options.smartypants) return text;\n    return text\n      // em-dashes\n      .replace(/---/g, '\\u2014')\n      // en-dashes\n      .replace(/--/g, '\\u2013')\n      // opening singles\n      .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n      // closing singles & apostrophes\n      .replace(/'/g, '\\u2019')\n      // opening doubles\n      .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n      // closing doubles\n      .replace(/\"/g, '\\u201d')\n      // ellipses\n      .replace(/\\.{3}/g, '\\u2026');\n  }\n\n  /**\n   * Mangle Links\n   */\n  mangle(text) {\n    if (!this.options.mangle) return text;\n    const l = text.length;\n    let out = '',\n      i = 0,\n      ch;\n\n    for (; i < l; i++) {\n      ch = text.charCodeAt(i);\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  }\n};\n","import { Nullable } from '../types/lang';\nimport { isDef } from './lang';\n\nexport function firstItem<T>(list: Nullable<T[]>): T | null {\n  return list?.length ? list[0] || null : null;\n}\n\nexport function filterNonNull<T>(value: Nullable<T>): value is T {\n  return isDef(value);\n}\n","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import { h } from 'preact';\nimport { setup } from 'goober';\nimport { mountWidgetHostElements } from './entrypoints/widgets-entrypoint';\nimport { mountTooltipHostElements } from './entrypoints/tooltips-entrypoint';\n\nsetup(h);\n\nfunction genFontLink(href: string, id: string){\n  const link = document.createElement('link');\n  link.id = id;\n  link.rel = 'preload';\n  link.href = href;\n  link.as = 'style';\n  link.onload = function () {\n    link.onload = null;\n    link.rel = 'stylesheet';\n  };\n  return link;\n}\n\nfunction mountHostElements() {\n  const widgetHosts = document.querySelectorAll('[data-moba-widget]');\n  mountWidgetHostElements(widgetHosts);\n\n  const tooltipHosts = document.querySelectorAll('[data-moba-tooltip]');\n  mountTooltipHostElements(tooltipHosts);\n\n  const isRobotoConnected = !!document.getElementById('mobalytics-widgets-roboto-font');\n  const isOswaldConnected = !!document.getElementById('mobalytics-widgets-oswald-font');\n  const isMobaTooltipDetected = !!document.querySelectorAll(\"[data-moba-tooltip='lol-champion-tooltip']\")?.length;\n\n  if (!isRobotoConnected) {\n    const robotoLink = genFontLink('https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap', 'mobalytics-widgets-roboto-font');\n    document.head.append(robotoLink);\n  }\n\n  if (!isOswaldConnected && isMobaTooltipDetected) {\n    const oswaldLink = genFontLink('https://fonts.googleapis.com/css?family=Oswald:400&display=swap', 'mobalytics-widgets-oswald-font');\n    document.head.append(oswaldLink);\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', mountHostElements);\ndocument.addEventListener('load', mountHostElements);\nmountHostElements();\n","\n// region ---- mixins\n\nexport const Text32x400Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 32px!important;\n  font-weight: 400;\n  line-height: 1.33!important;\n`;\n\nexport const Text18x400Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 18px!important;\n  font-weight: 400;\n  line-height: 20px!important;\n`;\n\nexport const Text20x400Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 20px!important;\n  font-weight: 400;\n  line-height: 20px!important;\n`;\n\nexport const Text16x700Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 16px!important;\n  font-weight: 700;\n  line-height: 20px!important;\n`;\n\nexport const Text16x500Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 16px!important;\n  font-weight: 500;\n  line-height: 20px!important;\n`;\n\nexport const Text14x500Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 14px!important;\n  font-weight: 500;\n  line-height: 20px!important;\n`;\n\nexport const Text14x400Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 14px!important;\n  font-weight: 400;\n  line-height: 20px!important;\n`;\n\nexport const Text14x700Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 14px!important;\n  font-weight: 700;\n  line-height: 20px!important;\n`;\n\nexport const Text12x700Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 12px!important;\n  font-weight: 700;\n  line-height: 20px!important;\n`;\n\nexport const Text10x400Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 10px!important;\n  font-weight: 400;\n  line-height: 14px!important;\n`;\n\nexport const Text12x500Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 12px!important;\n  font-weight: 500;\n  line-height: 16px!important;\n`;\n\nexport const Text12x400Mixin = `\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif!important;\n  font-size: 12px!important;\n  font-weight: 400;\n  line-height: 20px!important;\n`;\n// endregion\n","/**\n * Slugger generates header id\n */\nmodule.exports = class Slugger {\n  constructor() {\n    this.seen = {};\n  }\n\n  /**\n   * Convert string to unique id\n   */\n  slug(value) {\n    let slug = value\n      .toLowerCase()\n      .trim()\n      // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '')\n      // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n      .replace(/\\s/g, '-');\n\n    if (this.seen.hasOwnProperty(slug)) {\n      const originalSlug = slug;\n      do {\n        this.seen[originalSlug]++;\n        slug = originalSlug + '-' + this.seen[originalSlug];\n      } while (this.seen.hasOwnProperty(slug));\n    }\n    this.seen[slug] = 0;\n\n    return slug;\n  };\n};\n","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\";\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { NString } from '../../types/lang';\nimport { GameItemTooltipRichText } from '../game-item-rich-text/game-item-tooltip-rich-text.component';\nimport { Text18x400Mixin } from '../../../lol/ui/typography';\n\ninterface Props {\n  name: NString;\n  iconUrl: NString;\n  iconName?: NString;\n  description: NString;\n  className?: string;\n}\n\nexport const UniversalGameSubjectTooltip: FunctionComponent<Props> = props => {\n  const { iconUrl, name, description, className } = props;\n  return (\n    <div className={clsx(ItemWrapper,className)}>\n      <div className={ItemHeader}>\n        {name && iconUrl ? <img className={ItemHeaderIcon} src={iconUrl} alt={name} /> : null}\n        {name && <div className={ItemTitle}>{name}</div>}\n      </div>\n      {!!description && <GameItemTooltipRichText markdownText={description} />}\n    </div>\n  );\n};\n\nconst ItemWrapper = css`\n  padding: 10px;\n  background: #1a1338;\n  border: 1px solid #2f2650;\n  border-radius: 5px;\n  box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.5);\n  line-height: 20px!important;\n  display: flex;\n  flex-direction: column;\n  width: 400px;\n  max-width: calc(100vw - 20px);\n`;\n\nconst ItemHeader = css`\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n`;\n\nconst ItemHeaderIcon = css`\n  margin-right: 10px;\n  width: 40px;\n  height: 40px;\n`;\n\nconst ItemTitle = css`\n  ${Text18x400Mixin};\n  color: #f2bf43!important;\n  margin-bottom: 5px;\n  margin-left: 8px;\n  margin-right: 8px;\n`;\n\n","// Dirty hack to make apollo:codegen work\nexport function gql(literals: string | readonly string[], ...args: string[]): string {\n  return literals + args.join('');\n}\n","// tmp function in order to implement localization in the future\nexport function t(term: string): string {\n  return term;\n}\n","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import { FunctionComponent, h } from 'preact';\nimport { BuildHeaderSkeleton } from '../../../components/loading-skeletons/build-header-skeleton/build-header-skeleton.component';\nimport { RunesBuildCompactBlockSkeleton } from '../../../components/loading-skeletons/runes-build-compact-skeleton/runes-build-compact-skeleton.component';\nimport { css } from 'goober';\nimport { SpellsSkeleton } from '../../../components/loading-skeletons/spells-skeleton/spells-skeleton.component';\nimport { ItemsBuildSkeleton } from '../../../components/loading-skeletons/items-build-skeleton/items-build-skeleton.component';\nimport { CompactChampionAbilitiesOrderBarSkeleton } from '../../../components/loading-skeletons/champion-abilities-order-bar-skeleton/compact-champion-abilities-order-bar-skeleton.component';\nimport { CompactChampionAbilitiesOrderSkeleton } from '../../../components/loading-skeletons/champion-abilities-order-skeleton/compact-champion-abilities-order-skeleton.component';\nimport { BuildFooterSkeleton } from '../../../components/loading-skeletons/build-footer-skeleton/build-footer-skeleton.component';\nimport { RunesBuildBlockSkeleton } from '../../../components/loading-skeletons/runes-build-skeleton/runes-build-skeleton.component';\nimport { ChampionAbilitiesOrderSkeleton } from '../../../components/loading-skeletons/champion-abilities-order-skeleton/champion-abilities-order-skeleton.component';\nimport clsx from 'clsx';\n\ninterface Props {\n  isCompact: boolean;\n  isSmall: boolean;\n  className?: string;\n}\n\nexport const ChampionBuildWidgetLoading: FunctionComponent<Props> = props => {\n  const { isCompact, isSmall, className } = props;\n  return (\n    <div className={className}>\n      <BuildHeaderSkeleton />\n      <div className={Content}>\n        <div className={clsx(Row, !isCompact && FlexEnd)}>\n          <div className={clsx(isSmall && CompactRunesWrapper, Col)}>\n            <div className={Title} />\n            {isCompact ? <RunesBuildCompactBlockSkeleton /> : <RunesBuildBlockSkeleton />}\n          </div>\n          <div className={Col}>\n            <div className={Title} />\n            <div>\n              <SpellsSkeleton />\n            </div>\n          </div>\n        </div>\n        <div className={Col}>\n          <div className={Title} />\n          <ItemsBuildSkeleton />\n        </div>\n\n        <div className={clsx(Col, SkillOrderRow)}>\n          {!isCompact && (\n            <div>\n              <div className={Title} />\n              <ChampionAbilitiesOrderSkeleton/>\n            </div>\n          )}\n          {isCompact && (\n            <div>\n              <div className={Title} />\n              <CompactChampionAbilitiesOrderBarSkeleton className={clsx(isCompact && !isSmall && AbilitiesOrder)}/>\n            </div>\n          )}\n          {isCompact && !isSmall && (\n            <div>\n              <div className={Title} />\n              <CompactChampionAbilitiesOrderSkeleton />\n            </div>\n          )}\n        </div>\n      </div>\n      <BuildFooterSkeleton isSmall={isSmall}/>\n    </div>\n  );\n};\n\n\nconst Content = css`\n  width: 100%;\n  overflow: hidden;\n`;\n\nconst Title = css`\n  height: 10px;\n  width: 90px;\n  background: #3C385C;\n  border-radius: 1px;\n  margin: 3px 0 10px 0;\n`;\n\nconst Col = css`\n  padding: 20px;\n  border-top: 1px solid #3c2d69;\n\n  &:first-child {\n    border: none;\n  }\n`;\n\nconst Row = css`\n  display: flex;\n  flex-wrap: wrap;\n  padding: 10px 20px;\n\n  & > div {\n    border: none;\n    padding: 10px 0;\n    margin-right: 20px;\n\n    &:last-child{\n      margin-right: 0;\n    }\n  }\n`;\n\nconst FlexEnd = css`\n  align-items: flex-end;\n`;\n\nconst CompactRunesWrapper = css`\n  margin-right: 0!important;\n`;\n\nconst AbilitiesOrder = css`\n  margin-bottom: 20px;\n`;\n\nconst SkillOrderRow = css`\n  display: flex;\n  flex-wrap: wrap;\n`;\n","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { mobalyticsLogoSymbol } from '../../utils/images';\n\nimport { MiddleDot } from '../../format/symbols';\nimport { Text12x400Mixin, Text12x500Mixin } from '../../ui/typography';\nimport { genChampionPath } from '../../utils/links';\nimport { MOBA_HOME_URL, MOBA_WIDGET_REPO_URL } from '../../config';\n\ninterface Props {\n  championName: string;\n  championSlug: string;\n  isSmall: boolean;\n}\n\nexport const WidgetFooter: FunctionComponent<Props> = props => {\n  const { championName, championSlug, isSmall } = props;\n  return (\n    <div className={clsx(Wrapper, isSmall && SmallWrapper)}>\n      <div className={LinksWrapper}>\n        <a href={genChampionPath(championSlug)}>See more {championName} builds</a>\n        <span>{MiddleDot}</span>\n        <a href={MOBA_WIDGET_REPO_URL}>Get blog widget</a>\n      </div>\n      <div className={LogoWrapper}>\n        <span>Powered by</span>\n        <a href={MOBA_HOME_URL}>\n          <img src={mobalyticsLogoSymbol()} alt=\"Mobalytics logo\" loading=\"lazy\"/>\n        </a>\n        <a href={MOBA_HOME_URL}>\n          <div className={Name}><span>MOB</span>ALYTICS.gg</div>\n        </a>\n      </div>\n    </div>\n  );\n};\n\n\nconst Wrapper = css`\n  background: #252046;\n  border-radius: 0 0 5px 5px;\n  border: 1px solid #3c2d69;\n  min-height: 50px;\n  padding: 0 12px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n  flex: 1 0 auto;\n`;\n\nconst SmallWrapper = css`\n  flex-direction: column;\n  padding: 0;\n\n  & > div{\n    width: 100%;\n  }\n`;\n\nconst LinksWrapper = css`\n  ${Text12x500Mixin};\n  line-height: 20px!important;\n  justify-content: center;\n  display: flex;\n  padding: 10px 0;\n\n  span {\n    color: #6B6889!important;\n    margin: 0 4px;\n  }\n\n  a {\n    color: #f2bf43!important;\n    transition: color ease .2s;\n\n    &:focus,\n    &:hover{\n      color: #38C6F4!important;\n    }\n  }\n`;\n\nconst LogoWrapper = css`\n  ${Text12x500Mixin};\n  line-height: 20px!important;\n  height: 50px;\n  color: #6B6889!important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  img{\n    display: block;\n    width: 22px;\n    margin: 0 8px;\n  }\n`;\n\nconst Name = css`\n  ${Text12x400Mixin};\n  line-height: 20px!important;\n  color: #fff!important;\n\n  span{\n    font-weight: 700;\n  }\n`;\n","const { defaults } = require('./defaults.js');\nconst { block } = require('./rules.js');\nconst {\n  rtrim,\n  splitCells,\n  escape\n} = require('./helpers.js');\n\n/**\n * Block Lexer\n */\nmodule.exports = class Lexer {\n  constructor(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || defaults;\n    this.rules = block.normal;\n\n    if (this.options.pedantic) {\n      this.rules = block.pedantic;\n    } else if (this.options.gfm) {\n      this.rules = block.gfm;\n    }\n  }\n\n  /**\n   * Expose Block Rules\n   */\n  static get rules() {\n    return block;\n  }\n\n  /**\n   * Static Lex Method\n   */\n  static lex(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.lex(src);\n  };\n\n  /**\n   * Preprocessing\n   */\n  lex(src) {\n    src = src\n      .replace(/\\r\\n|\\r/g, '\\n')\n      .replace(/\\t/g, '    ');\n\n    return this.token(src, true);\n  };\n\n  /**\n   * Lexing\n   */\n  token(src, top) {\n    src = src.replace(/^ +$/gm, '');\n    let next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      listStart,\n      listItems,\n      t,\n      space,\n      i,\n      tag,\n      l,\n      isordered,\n      istask,\n      ischecked;\n\n    while (src) {\n      // newline\n      if (cap = this.rules.newline.exec(src)) {\n        src = src.substring(cap[0].length);\n        if (cap[0].length > 1) {\n          this.tokens.push({\n            type: 'space'\n          });\n        }\n      }\n\n      // code\n      if (cap = this.rules.code.exec(src)) {\n        const lastToken = this.tokens[this.tokens.length - 1];\n        src = src.substring(cap[0].length);\n        // An indented code block cannot interrupt a paragraph.\n        if (lastToken && lastToken.type === 'paragraph') {\n          lastToken.text += '\\n' + cap[0].trimRight();\n        } else {\n          cap = cap[0].replace(/^ {4}/gm, '');\n          this.tokens.push({\n            type: 'code',\n            codeBlockStyle: 'indented',\n            text: !this.options.pedantic\n              ? rtrim(cap, '\\n')\n              : cap\n          });\n        }\n        continue;\n      }\n\n      // fences\n      if (cap = this.rules.fences.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'code',\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: cap[3] || ''\n        });\n        continue;\n      }\n\n      // heading\n      if (cap = this.rules.heading.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'heading',\n          depth: cap[1].length,\n          text: cap[2]\n        });\n        continue;\n      }\n\n      // table no leading pipe (gfm)\n      if (cap = this.rules.nptable.exec(src)) {\n        item = {\n          type: 'table',\n          header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          src = src.substring(cap[0].length);\n\n          for (i = 0; i < item.align.length; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          for (i = 0; i < item.cells.length; i++) {\n            item.cells[i] = splitCells(item.cells[i], item.header.length);\n          }\n\n          this.tokens.push(item);\n\n          continue;\n        }\n      }\n\n      // hr\n      if (cap = this.rules.hr.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'hr'\n        });\n        continue;\n      }\n\n      // blockquote\n      if (cap = this.rules.blockquote.exec(src)) {\n        src = src.substring(cap[0].length);\n\n        this.tokens.push({\n          type: 'blockquote_start'\n        });\n\n        cap = cap[0].replace(/^ *> ?/gm, '');\n\n        // Pass `top` to keep the current\n        // \"toplevel\" state. This is exactly\n        // how markdown.pl works.\n        this.token(cap, top);\n\n        this.tokens.push({\n          type: 'blockquote_end'\n        });\n\n        continue;\n      }\n\n      // list\n      if (cap = this.rules.list.exec(src)) {\n        src = src.substring(cap[0].length);\n        bull = cap[2];\n        isordered = bull.length > 1;\n\n        listStart = {\n          type: 'list_start',\n          ordered: isordered,\n          start: isordered ? +bull : '',\n          loose: false\n        };\n\n        this.tokens.push(listStart);\n\n        // Get each top-level item.\n        cap = cap[0].match(this.rules.item);\n\n        listItems = [];\n        next = false;\n        l = cap.length;\n        i = 0;\n\n        for (; i < l; i++) {\n          item = cap[i];\n\n          // Remove the list item's bullet\n          // so it is seen as the next token.\n          space = item.length;\n          item = item.replace(/^ *([*+-]|\\d+\\.) */, '');\n\n          // Outdent whatever the\n          // list item contains. Hacky.\n          if (~item.indexOf('\\n ')) {\n            space -= item.length;\n            item = !this.options.pedantic\n              ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n              : item.replace(/^ {1,4}/gm, '');\n          }\n\n          // Determine whether the next list item belongs here.\n          // Backpedal if it does not belong in this list.\n          if (i !== l - 1) {\n            b = block.bullet.exec(cap[i + 1])[0];\n            if (bull.length > 1 ? b.length === 1\n              : (b.length > 1 || (this.options.smartLists && b !== bull))) {\n              src = cap.slice(i + 1).join('\\n') + src;\n              i = l - 1;\n            }\n          }\n\n          // Determine whether item is loose or not.\n          // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n          // for discount behavior.\n          loose = next || /\\n\\n(?!\\s*$)/.test(item);\n          if (i !== l - 1) {\n            next = item.charAt(item.length - 1) === '\\n';\n            if (!loose) loose = next;\n          }\n\n          if (loose) {\n            listStart.loose = true;\n          }\n\n          // Check for task list items\n          istask = /^\\[[ xX]\\] /.test(item);\n          ischecked = undefined;\n          if (istask) {\n            ischecked = item[1] !== ' ';\n            item = item.replace(/^\\[[ xX]\\] +/, '');\n          }\n\n          t = {\n            type: 'list_item_start',\n            task: istask,\n            checked: ischecked,\n            loose: loose\n          };\n\n          listItems.push(t);\n          this.tokens.push(t);\n\n          // Recurse.\n          this.token(item, false);\n\n          this.tokens.push({\n            type: 'list_item_end'\n          });\n        }\n\n        if (listStart.loose) {\n          l = listItems.length;\n          i = 0;\n          for (; i < l; i++) {\n            listItems[i].loose = true;\n          }\n        }\n\n        this.tokens.push({\n          type: 'list_end'\n        });\n\n        continue;\n      }\n\n      // html\n      if (cap = this.rules.html.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: this.options.sanitize\n            ? 'paragraph'\n            : 'html',\n          pre: !this.options.sanitizer\n            && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0]\n        });\n        continue;\n      }\n\n      // def\n      if (top && (cap = this.rules.def.exec(src))) {\n        src = src.substring(cap[0].length);\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n        if (!this.tokens.links[tag]) {\n          this.tokens.links[tag] = {\n            href: cap[2],\n            title: cap[3]\n          };\n        }\n        continue;\n      }\n\n      // table (gfm)\n      if (cap = this.rules.table.exec(src)) {\n        item = {\n          type: 'table',\n          header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          src = src.substring(cap[0].length);\n\n          for (i = 0; i < item.align.length; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          for (i = 0; i < item.cells.length; i++) {\n            item.cells[i] = splitCells(\n              item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n              item.header.length);\n          }\n\n          this.tokens.push(item);\n\n          continue;\n        }\n      }\n\n      // lheading\n      if (cap = this.rules.lheading.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'heading',\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1]\n        });\n        continue;\n      }\n\n      // top-level paragraph\n      if (top && (cap = this.rules.paragraph.exec(src))) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'paragraph',\n          text: cap[1].charAt(cap[1].length - 1) === '\\n'\n            ? cap[1].slice(0, -1)\n            : cap[1]\n        });\n        continue;\n      }\n\n      // text\n      if (cap = this.rules.text.exec(src)) {\n        // Top-level should never reach here.\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'text',\n          text: cap[0]\n        });\n        continue;\n      }\n\n      if (src) {\n        throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n      }\n    }\n\n    return this.tokens;\n  };\n};\n","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","export const CDN_LOL_IMG_PATH = 'https://fastcdn.mobalytics.gg/assets/lol/images';\nexport const CDN_CGI_LOL_IMG_PATH = 'https://cdn.mobalytics.gg/cdn-cgi/image';\nexport const CDN_COMMON_IMG_PATH = 'https://fastcdn.mobalytics.gg/assets/common/images';\nexport const CDN_COMMON_ICON_PATH = 'https://fastcdn.mobalytics.gg/assets/common/icons';\nexport const CDN_LOL_VIDEO_PATH = 'https://fastcdn.mobalytics.gg/assets/lol/video';\n\nexport const MOBA_APP_LINK = 'https://app.mobalytics.gg';\nexport const MOBA_HOME_URL = 'https://mobalytics.gg/';\nexport const MOBA_WIDGET_REPO_URL = 'https://github.com/mobalyticshq/mobalytics-widgets/';\n","import { FunctionComponent, h } from 'preact';\n\ninterface Props<T> {\n  componentProps: T;\n  CompactWidget: FunctionComponent<T>;\n  LargeWidget: FunctionComponent<T>;\n  isCompact: boolean;\n  className?: string;\n}\n\nexport const IsCompactBlock = <T,>(props: Props<T>) => {\n  const { componentProps, CompactWidget, LargeWidget, isCompact, className } = props;\n  const Component = isCompact ? CompactWidget : LargeWidget;\n\n  return (\n    <Component {...componentProps} className={className} />\n  );\n};\n","import { FunctionComponent, h } from 'preact';\n\nimport { css } from 'goober';\n\nimport { ItemsBuildT } from './types';\nimport { formatItemsBuildType } from '../../format/texts';\nimport { ItemIcon } from '../images/item-icon.component';\nimport { Text12x500Mixin } from '../../ui/typography';\n\ninterface Props {\n  itemsBuild: ItemsBuildT;\n  className?: string;\n}\n\nexport const ItemsBuild: FunctionComponent<Props> = props => {\n  const { itemsBuild, className } = props;\n  return (\n    <div className={className} >\n      <div className={Label}>{itemsBuild.type && formatItemsBuildType(itemsBuild.type)}</div>\n      <div className={Row}>\n        {itemsBuild.items.map((it) => {\n          return (\n            <ItemIcon\n              key={it.riotId}\n              slug={it.riotId.toString()}\n              className={Item}\n              {...it}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nconst Row = css`\n  display: flex;\n`;\n\nconst Label = css`\n  ${Text12x500Mixin};\n  color: #6B6889!important;\n  margin-bottom: 4px;\n  padding: 0;\n  margin-top: 12px;\n`;\n\nconst Item = css`\n  margin: 0 0 0 8px;\n\n  &:first-child{\n    margin-left: 0;\n  }\n`;\n\n","/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum LolChampionBuildItemsListType {\n  Boots = \"Boots\",\n  Core = \"Core\",\n  Early = \"Early\",\n  FifthItem = \"FifthItem\",\n  FirstCore = \"FirstCore\",\n  FourthItem = \"FourthItem\",\n  FullBuild = \"FullBuild\",\n  SecondCore = \"SecondCore\",\n  Situational = \"Situational\",\n  SixthItem = \"SixthItem\",\n  Starter = \"Starter\",\n}\n\nexport enum LolChampionBuildType {\n  HIGHEST_WIN_RATE = \"HIGHEST_WIN_RATE\",\n  MATCHUP_SPECIFIC = \"MATCHUP_SPECIFIC\",\n  MOST_POPULAR = \"MOST_POPULAR\",\n  OPTIONAL = \"OPTIONAL\",\n  PRO_PLAYERS = \"PRO_PLAYERS\",\n  RECOMMENDED = \"RECOMMENDED\",\n}\n\nexport enum LolChampionELO {\n  ALL = \"ALL\",\n  ARAM = \"ARAM\",\n  HIGH = \"HIGH\",\n  LOW = \"LOW\",\n}\n\nexport enum Region {\n  ALL = \"ALL\",\n  BR = \"BR\",\n  EUNE = \"EUNE\",\n  EUW = \"EUW\",\n  JP = \"JP\",\n  KR = \"KR\",\n  LAN = \"LAN\",\n  LAS = \"LAS\",\n  NA = \"NA\",\n  OCE = \"OCE\",\n  PBE = \"PBE\",\n  RU = \"RU\",\n  TR = \"TR\",\n  UNKNOWN = \"UNKNOWN\",\n}\n\nexport enum Rolename {\n  ADC = \"ADC\",\n  JUNGLE = \"JUNGLE\",\n  MID = \"MID\",\n  SUPPORT = \"SUPPORT\",\n  TOP = \"TOP\",\n  UNKNOWN = \"UNKNOWN\",\n}\n\nexport enum TierLevel {\n  A = \"A\",\n  B = \"B\",\n  C = \"C\",\n  D = \"D\",\n  E = \"E\",\n  S = \"S\",\n}\n\nexport enum SkillKey {\n  E = 'E',\n  PASSIVE = 'PASSIVE',\n  Q = 'Q',\n  R = 'R',\n  W = 'W',\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","'use strict';\n\nmodule.exports = function ReactNativeFile(_ref) {\n  var uri = _ref.uri,\n    name = _ref.name,\n    type = _ref.type;\n  this.uri = uri;\n  this.name = name;\n  this.type = type;\n};\n","import { gql } from '../../../../common/utils/graphql';\n\nexport const STATIC_CHAMPION_ABILITY_BY_RIOT_ID = gql`\n  query LolChampionAbilityBySlug($filter: String!) {\n    items: queryChampionsAbilitiesV1Contents(filter: $filter) {\n      flatData {\n        activationKey\n        riotDesc: ddragonDescription\n        mobaDesc: description\n        name\n        slug\n        stats {\n          slug\n          value\n        }\n        customStats {\n          slug\n          value\n        }\n      }\n    }\n  }\n`;\n","export function calcWinRate(wins: number, looses: number): number {\n  return wins === 0 && looses === 0 ? 0 : (wins / (wins + looses)) * 100;\n}\n\nexport function calcKDA(k: number, d: number, a: number): number {\n  return d === 0 ? k + a : (k + a) / d;\n}\n\nexport function calcKd(k: number, d: number): number {\n  return d === 0 ? k : k / d;\n}\n","import { FunctionComponent, h, Fragment } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { championAbilityImage } from '../../utils/images';\nimport { useTooltipHook } from '../../../common/components/tooltip-hook/tooltip-hook';\nimport { ChampionAbilityTooltipWrapper } from '../champion-ability-tooltip/champion-ability-tooltip-wrapper.component';\n\ninterface Props {\n  slug: string;\n  name: string;\n  className?: string;\n}\n\nexport const ChampionAbilityIcon: FunctionComponent<Props> = props => {\n  const { slug, name, className } = props;\n\n  const { mountTooltip, triggerHandler, contentRef, contentClass, dataLoadedHandler } = useTooltipHook({\n    isAsync: true,\n  });\n\n  return (\n    <Fragment>\n      <img\n        src={championAbilityImage(slug)}\n        className={clsx(Icon, className)}\n        alt={name}\n        role=\"presentation\"\n        loading=\"lazy\"\n        onMouseEnter={triggerHandler}\n      />\n      {\n        mountTooltip && (\n          <ChampionAbilityTooltipWrapper\n            ref={contentRef}\n            slug={slug}\n            onDataLoaded={dataLoadedHandler}\n            className={contentClass}\n          />\n        )\n      }\n    </Fragment>\n  );\n};\n\nconst Icon = css`\n  display: block;\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n  cursor: help;\n`;\n","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import { NNumber, NString, Nullable } from '../../../../common/types/lang';\nimport { calcWinRate } from '../../../../common/utils/math';\nimport { filterNonNull } from '../../../../common/utils/list';\nimport {\n  LolChampionTooltipDynamicQuery_lol_championsList_champions_roleData_champion_countersOptions_options,\n  LolChampionTooltipDynamicQuery_lol_champion_stats_winRateHistory,\n} from '../../../types/gql-dynamic/LolChampionTooltipDynamicQuery';\n\nexport function formatMetric(\n  history: LolChampionTooltipDynamicQuery_lol_champion_stats_winRateHistory[]\n): Nullable<{ value: number; isDown: boolean }> {\n  const list = history.slice().reverse() || [];\n  const [curr, prev] = list;\n  return curr?.value ? { value: curr.value, isDown: !!(prev.value && curr?.value < prev.value) } : null;\n}\n\nexport function formatCounters(\n  options: LolChampionTooltipDynamicQuery_lol_championsList_champions_roleData_champion_countersOptions_options[]\n): { championSlug: string; winRate: NNumber }[] {\n  return options\n    .map(it => {\n        if(it.matchupSlug){\n          const { wins, looses } = it.counterMetrics || {};\n          return {\n            championSlug: it.matchupSlug,\n            winRate: wins && looses && calcWinRate(wins, looses),\n          }\n        }\n        return null;\n      }\n    )\n    .filter(filterNonNull);\n}\n\n\nexport function validateChampionType(type: { name: NString; slug: NString}): Nullable<{ name: string; slug: string }> {\n  return type?.name && type?.slug ? { slug: type.slug, name: type.name } : null\n}\n","import { GraphQLClient } from 'graphql-hooks';\n\n// todo: move url to env var\nconst staticDataClient = new GraphQLClient({\n  url: 'https://cf-gql-proxy.mobalytics.workers.dev/lol-static-gql',\n  headers: {\n    'Accept-Language': 'en_us',\n  }\n});\n\n// todo: move url to env var\nconst dynamicDataClient = new GraphQLClient({\n  url: 'https://cf-gql-proxy.mobalytics.workers.dev/lol-gql',\n  headers: {\n    'Accept-Language': 'en_us',\n  }\n});\n\nexport const lolApi = { staticDataClient, dynamicDataClient };\n","import { FunctionComponent, h } from 'preact';\n\nimport { css } from 'goober';\n\nimport { ItemsBuild } from './items-build.component';\nimport { ItemsBuildT } from './types';\n\ninterface Props {\n  itemsBuild: ItemsBuildT[];\n}\n\nexport const ItemsBuildChain: FunctionComponent<Props> = props => {\n  const { itemsBuild } = props;\n  return (\n    <div className={Wrapper}>\n      {itemsBuild.map((it) => <ItemsBuild itemsBuild={it} key={it.type}/>)}\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: -8px;\n\n  & > p {\n    margin-top: 8px;\n  }\n\n  & > div{\n    display: flex;\n    flex-direction: column;\n    margin-right: 12px;\n\n    &:last-child{\n      margin-right: 0;\n    }\n  }\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\n\nexport const BuildHeaderSkeleton: FunctionComponent = () => {\n  return (\n    <div className={Wrapper}>\n      <div className={ChampionImage} />\n      <div>\n        <div className={Title}/>\n        <div className={Text}/>\n      </div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  background: #252046;\n  border-radius: 5px 5px 0 0;\n  border: 1px solid #3c2d69;\n  height: 60px;\n  padding: 10px 12px;\n  display: flex;\n  align-items: center;\n`;\n\nconst ChampionImage = css`\n  display: block;\n  width: 36px;\n  height: 36px;\n  background: #3C385C;\n  border-radius: 50%;\n  margin-right: 8px;\n`;\n\nconst Title = css`\n  height: 10px;\n  width: 90px;\n  background: #3C385C;\n  border-radius: 1px;\n  margin-bottom: 12px;\n`;\n\nconst Text = css`\n  height: 10px;\n  width: 190px;\n  background: #3C385C;\n  border-radius: 1px;\n`;\n","interface Props {\n  [key: string]: string | number;\n}\n\nexport const collectPropsFromElement = (element: Element): Props => {\n  const attrs = element.attributes;\n  const props: Props = {};\n\n  // collect data attributes from element\n  Object.keys(attrs).forEach((key: string) => {\n    if (Object.prototype.hasOwnProperty.call(attrs, key)) {\n      const attr: Attr = attrs[key as unknown as number];\n      if (attr.name.startsWith('data-')) {\n        const propName = attr.name.replace(/-([a-z])/gi, (all, letter) => letter.toUpperCase());\n        propName && attr.nodeValue && (props[propName] = attr.nodeValue);\n      }\n    }\n  });\n\n  // collect attributes from nested script node\n  const script = element.getElementsByTagName('script')[0];\n  if (script) {\n    try {\n      Object.assign(props, JSON.parse(script.innerHTML));\n    } catch (e) {\n      throw new Error(e);\n    }\n  }\n\n  // get widget width\n  props.dataMobaWidth = element.clientWidth;\n\n  return props;\n};\n","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","import { SkillKey } from '../types/gql-dynamic/globalTypes';\n\nexport const SkillKeyOrder: Record<SkillKey, number> = {\n  [SkillKey.PASSIVE]: 0,\n  [SkillKey.Q]: 1,\n  [SkillKey.W]: 2,\n  [SkillKey.E]: 3,\n  [SkillKey.R]: 4,\n};\n","/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = /[&<>\"']/g;\nconst escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nconst escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, (_, n) => {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nconst caret = /(^|[^\\[])\\^/g;\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  const obj = {\n    replace: (name, val) => {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: () => {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\n\nconst nonWordAndColonTest = /[^\\w:]/g;\nconst originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    let prot;\n    try {\n      prot = decodeURIComponent(unescape(href))\n        .replace(nonWordAndColonTest, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nconst baseUrls = {};\nconst justDomain = /^[^:]+:\\/*[^/]*$/;\nconst protocol = /^([^:]+:)[\\s\\S]*$/;\nconst domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n  const relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\n\nconst noopTest = { exec: function noopTest() {} };\n\nfunction merge(obj) {\n  let i = 1,\n    target,\n    key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n      let escaped = false,\n        curr = offset;\n      while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n    cells = row.split(/ \\|/);\n  let i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  const l = str.length;\n  if (l === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  let suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < l) {\n    const currChar = str.charAt(l - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, l - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  const l = str.length;\n  let level = 0,\n    i = 0;\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n}\n\nmodule.exports = {\n  escape,\n  unescape,\n  edit,\n  cleanUrl,\n  resolveUrl,\n  noopTest,\n  merge,\n  splitCells,\n  rtrim,\n  findClosingBracket,\n  checkSanitizeDeprecation\n};\n","import { NString } from '../../../common/types/lang';\n\nexport function extractChampionNameFromUrl(url: NString): NString {\n  const match = url?.match(/https:\\/\\/app.mobalytics.gg\\/lol\\/champions\\/(.+)\\/build/);\n  return match?.[1]?.toLowerCase();\n}\n","export const MiddleDot = '';\n","import { FunctionComponent, h } from 'preact';\nimport clsx from 'clsx';\n\nimport { css } from 'goober';\nimport { mobalyticsLogoSymbol } from '../../../utils/images';\nimport { Text12x400Mixin, Text12x500Mixin } from '../../../ui/typography';\nimport { MOBA_HOME_URL } from '../../../config';\n\ninterface Props {\n  isSmall: boolean;\n}\n\nexport const BuildFooterSkeleton: FunctionComponent<Props> = props => {\n  const { isSmall } = props;\n  return (\n    <div className={clsx(Wrapper, isSmall && SmallWrapper)}>\n      <div className={LinksWrapper}>\n        <span/>\n        <span/>\n      </div>\n      <div className={LogoWrapper}>\n        <span>Powered by</span>\n        <a href={MOBA_HOME_URL}>\n          <img src={mobalyticsLogoSymbol()} alt=\"Mobalytics logo\" loading=\"lazy\"/>\n        </a>\n        <a href={MOBA_HOME_URL}>\n          <div className={Name}><span>MOB</span>ALYTICS.gg</div>\n        </a>\n      </div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  background: #252046;\n  border-radius: 0 0 5px 5px;\n  border: 1px solid #3c2d69;\n  min-height: 50px;\n  padding: 0 12px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst SmallWrapper = css`\n  flex-direction: column;\n  padding: 0;\n\n  & > div{\n    width: 100%;\n  }\n`;\n\nconst LinksWrapper = css`\n  justify-content: center;\n  display: flex;\n  padding: 15px 0;\n\n  span {\n    display: flex;\n    width: 130px;\n    height: 10px;\n    margin-right: 12px;\n    background: #3C385C;\n    border-radius: 1px;\n\n    &:last-child{\n      margin-right: 0;\n      width: 120px;\n    }\n  }\n`;\n\nconst LogoWrapper = css`\n  ${Text12x500Mixin};\n  line-height: 20px!important;\n  height: 50px;\n  color: #6B6889!important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  img{\n    display: block;\n    width: 22px;\n    margin: 0 8px;\n  }\n`;\n\nconst Name = css`\n  ${Text12x400Mixin};\n  line-height: 20px!important;\n  color: #fff!important;\n\n  span{\n    font-weight: 700;\n  }\n`;\n","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","var has = Object.prototype.hasOwnProperty;\n\nfunction find(iter, tar, key) {\n\tfor (key of iter.keys()) {\n\t\tif (dequal(key, tar)) return key;\n\t}\n}\n\nexport function dequal(foo, bar) {\n\tvar ctor, len, tmp;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ctor === Set) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len;\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!bar.has(tmp)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === Map) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len[0];\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!dequal(len[1], bar.get(tmp))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === ArrayBuffer) {\n\t\t\tfoo = new Uint8Array(foo);\n\t\t\tbar = new Uint8Array(bar);\n\t\t} else if (ctor === DataView) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo.getInt8(len) === bar.getInt8(len));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ArrayBuffer.isView(foo)) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo[len] === bar[len]);\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","import { FunctionComponent, h } from 'preact';\nimport { perkIcon } from '../../utils/images';\nimport { useQuery } from 'graphql-hooks';\nimport { lolApi } from '../../api/api';\nimport { STATIC_PERK_BY_RIOT_ID } from '../../api/static/queries/perk-by-riot-id.gql';\nimport { LolPerkByRiotId, LolPerkByRiotIdVariables } from '../../types/gql-static/LolPerkByRiotId';\nimport { forwardRef } from 'preact/compat';\nimport { useEffect } from 'preact/hooks';\nimport { UniversalGameSubjectTooltip } from '../../../common/components/universal-game-subject-tooltip/universal-game-subject-tooltip.component';\nimport { GlobalStyle } from '../../ui/global.mixin';\n\ninterface Props {\n  riotId: number;\n  onDataLoaded?(): void;\n  className?: string;\n}\n\nexport const PerkTooltip: FunctionComponent<Props> = forwardRef<HTMLDivElement, Props>((props, ref) => {\n  const { riotId, onDataLoaded, className } = props;\n  const { loading, error, data } = useQuery<LolPerkByRiotId, LolPerkByRiotIdVariables>(STATIC_PERK_BY_RIOT_ID, {\n    variables: { filter: `data/riotId/iv eq ${riotId}` },\n    client: lolApi.staticDataClient,\n  });\n\n  useEffect(() => {\n    !loading && !error && !!data && onDataLoaded?.();\n  }, [loading, error, data, onDataLoaded]);\n\n  // todo: log error\n  if (loading || error || !data) {\n    return null;\n  }\n\n  const perk = data.perks?.[0]?.flatData;\n\n  return (\n    <div ref={ref} className={className}>\n      <UniversalGameSubjectTooltip\n        name={perk?.name}\n        iconName={perk?.name}\n        iconUrl={perkIcon(riotId)}\n        description={perk?.longDescription || perk?.shortDescription || perk?.customDescription}\n        className={GlobalStyle}\n      />\n    </div>\n  );\n});\n","import { CDN_COMMON_ICON_PATH } from '../../lol/config';\n\nexport function commonIcon(name: string): string {\n  return `${CDN_COMMON_ICON_PATH}/${name}.svg`;\n}\n","import clsx from 'clsx';\nimport { useEffect } from 'preact/hooks';\nimport { FunctionComponent, h } from 'preact';\nimport { useTooltipHook } from '../../../common/components/tooltip-hook/tooltip-hook';\nimport { ChampionTooltipWidgetContent } from './champion-tooltip-widget-content/champion-tooltip-widget-content.component';\nimport { extractChampionNameFromUrl } from './champion-tooltip-widget.utils';\nimport { GlobalStyle } from '../../ui/global.mixin';\n\ninterface Props {\n  hostElement: Element;\n}\n\nconst ChampionTooltipWidget: FunctionComponent<Props> = props => {\n  const { hostElement } = props;\n  const { mountTooltip, triggerHandler, contentRef, contentClass, dataLoadedHandler } = useTooltipHook({\n    isAsync: true,\n    interactive: true,\n  });\n  const isTagNameValid = hostElement.tagName?.toUpperCase() === 'A';\n  const champion = extractChampionNameFromUrl(hostElement.getAttribute('href'));\n\n  useEffect(() => {\n    const handler = (e: Event) => {\n      hostElement.removeEventListener('mouseenter', handler);\n      triggerHandler.call(hostElement, e);\n    };\n    isTagNameValid && champion && hostElement.addEventListener('mouseenter', handler);\n    return () => {\n      isTagNameValid && champion && hostElement.removeEventListener('mouseenter', handler);\n    };\n  }, [isTagNameValid, champion, hostElement, triggerHandler]);\n\n  if (!isTagNameValid) {\n    // todo: log invalid tag name\n    return null;\n  }\n\n  if (!champion) {\n    // todo: log champion is missing\n    return null;\n  }\n\n  if (mountTooltip) {\n    return (\n      <ChampionTooltipWidgetContent\n        ref={contentRef}\n        championSlug={champion}\n        onDataLoaded={dataLoadedHandler}\n        className={clsx(GlobalStyle, contentClass)}\n      />\n    );\n  }\n\n  return null;\n};\n\nexport default ChampionTooltipWidget;\n","import { gql } from '../../../../common/utils/graphql';\n\nexport const STATIC_GAME_ITEM_BY_RIOT_ID = gql`\n  query LolGameItemByRiotId($filter: String!) {\n    items: queryGameItemsV1Contents(filter: $filter) {\n      flatData {\n        riotId\n        name\n        cost\n        tags {\n          flatData {\n            name\n            slug\n          }\n        }\n        buildsInto\n        buildsFrom\n        mainItemTag\n        effectDescription\n        type {\n          flatData {\n            slug\n            name\n            description\n          }\n        }\n        fitForChampionType {\n          flatData {\n            slug\n            name\n          }\n        }\n      }\n    }\n  }\n`;\n","'use strict';\n\nvar ReactNativeFile = require('./ReactNativeFile');\n\nmodule.exports = function isExtractableFile(value) {\n  return (\n    (typeof File !== 'undefined' && value instanceof File) ||\n    (typeof Blob !== 'undefined' && value instanceof Blob) ||\n    value instanceof ReactNativeFile\n  );\n};\n","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","/**\n * TextRenderer\n * returns only the textual part of the token\n */\nmodule.exports = class TextRenderer {\n  // no need for block level renderers\n  strong(text) {\n    return text;\n  }\n\n  em(text) {\n    return text;\n  }\n\n  codespan(text) {\n    return text;\n  }\n\n  del(text) {\n    return text;\n  }\n\n  html(text) {\n    return text;\n  }\n\n  text(text) {\n    return text;\n  }\n\n  link(href, title, text) {\n    return '' + text;\n  }\n\n  image(href, title, text) {\n    return '' + text;\n  }\n\n  br() {\n    return '';\n  }\n};\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { MiddleDot } from '../../format/symbols';\nimport { genChampionPath } from '../../utils/links';\nimport { t } from '../../../common/i18n/i18n';\nimport { ChampionPageSection } from '../../../common/types/champions';\nimport { Text12x500Mixin } from '../../ui/typography';\n\ninterface Props {\n  championSlug: string;\n  className?: string;\n}\n\nexport const ChampionTooltipFooter: FunctionComponent<Props> = props => {\n  const { championSlug, className } = props;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <a href={genChampionPath(championSlug, ChampionPageSection.BUILDS)}>{t('Build')}</a>\n      {MiddleDot}\n      <a href={genChampionPath(championSlug, ChampionPageSection.GUIDE)}>{t('Guide')}</a>\n      {MiddleDot}\n      <a href={genChampionPath(championSlug, ChampionPageSection.PRO_BUILDS)}>{t('Probuilds')}</a>\n      {MiddleDot}\n      <a href={genChampionPath(championSlug, ChampionPageSection.COMBOS)}>{t('Combos')}</a>\n      {MiddleDot}\n      <a href={genChampionPath(championSlug, ChampionPageSection.COUNTERS)}>{t('Counters')}</a>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  ${Text12x500Mixin};\n  color: #aaabca!important;\n  height: 34px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #252046;\n\n  a {\n    display: block;\n    margin: 0 8px;\n    color: #f2bf43!important;\n\n    &:focus,\n    &:hover {\n      color: #38C6F4!important;\n    }\n  }\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\nimport { Text12x400Mixin } from '../../ui/typography';\n\ninterface Props {\n  text: string;\n  className?: string;\n}\n\nexport const SkillProgressionText: FunctionComponent<Props> = props => {\n  const { text, className } = props;\n  return (\n    <span className={clsx(Wrapper,className)}>\n      <span className={Value} >{text}</span>\n    </span>\n  );\n};\n\n const Wrapper = css`\n  ${Text12x400Mixin};\n  color: #8890b5!important;\n`;\n\n const Value = css`\n  font-weight: 500;\n  color: #ffffff!important;\n`;\n","import { gql } from '../../../../common/utils/graphql';\n\nexport const CHAMPION_TOOLTIP_QUERY_GQL = gql`\n  query LolChampionTooltipDynamicQuery($championSlug: String!, $skillLevel: LolChampionELO!) {\n    lol {\n      champion(filters: {slug: $championSlug }){\n        build{\n          role\n        }\n        stats {\n          winRateHistory {\n            x\n            value\n          }\n          pickRateHistory {\n            x\n            value\n          }\n          banRateHistory {\n            x\n            value\n          }\n        }\n      }\n      championsList(filters: { slug: $championSlug, elo: $skillLevel }) {\n        champions {\n          roleData {\n            role\n            champion {\n              countersOptions(top: 5) {\n                options {\n                  matchupSlug\n                  counterMetrics {\n                    wins\n                    looses\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import { Fragment, FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { gameItemIcon } from '../../utils/images';\nimport { useTooltipHook } from '../../../common/components/tooltip-hook/tooltip-hook';\nimport { ItemTooltip } from '../item-tooltip/item-tooltip.component';\n\ninterface Props {\n  slug: string;\n  name: string;\n  isMythic?: boolean;\n  className?: string;\n}\n\nexport const ItemIcon: FunctionComponent<Props> = props => {\n  const { slug, name, isMythic, className } = props;\n\n  const { mountTooltip, triggerHandler, contentRef, contentClass, dataLoadedHandler } = useTooltipHook({\n    isAsync: true,\n  });\n\n  return (\n    <Fragment>\n      <img\n        src={gameItemIcon(slug)}\n        className={clsx(Icon, isMythic && Mythic, className)}\n        alt={name}\n        role=\"presentation\"\n        loading=\"lazy\"\n        onMouseOver={triggerHandler}\n      />\n      {\n        mountTooltip && (\n          <ItemTooltip\n            ref={contentRef}\n            riotId={slug}\n            onDataLoaded={dataLoadedHandler}\n            className={contentClass}\n          />\n        )\n      }\n    </Fragment>\n  );\n};\n\nconst Icon = css`\n  width: 36px;\n  height: 36px;\n  display: block;\n  border: 1px solid #372B60;\n  border-radius: 2px;\n  cursor: help;\n`;\n\nconst Mythic = css`\n  border: 2px solid #F2BF43;\n`;\n","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","import { gql } from '../../../../common/utils/graphql';\n\nexport const DYNAMIC_CHAMPION_BUILD_QUERY_GQL = gql`\n  query LolChampionWidgetDynamicQuery(\n    $champion: String!\n    $role: Rolename\n    $patch: String\n    $region: Region\n    $buildID: Int\n  ) {\n    lol {\n      champion(filters: { slug: $champion, role: $role, patch: $patch, region: $region }) {\n        build(filters: { buildId: $buildID }) {\n          type\n          name\n          patch\n          role\n          championSlug\n          spells\n          skillOrder\n          skillMaxOrder\n          items {\n            type\n            items\n          }\n          perks {\n            IDs\n            style\n            subStyle\n          }\n          stats {\n            wins\n            matchCount\n          }\n        }\n        stats {\n          tier\n          winRateHistory {\n            x\n            value\n          }\n        }\n      }\n    }\n  }\n`;\n","const allowedTags = ['li', 'br', 'div', 'span', 'i', 'a', 'font'];\n\n/**\n * Replaces tags like rarityMythic to raritymythic, camle case tags are not stylable\n * @param markdown\n */\nexport function processCustomHtmlTags(markdown: string): string {\n  return markdown.replace(\n    /<(\\/?)([a-z-]+)([\\s>])/gi,\n    (match: string, closeTagSymbol: string, tagName: string, closeMatchSymbol) => {\n      if (!allowedTags.includes(tagName)) {\n        return closeTagSymbol ? `</div${closeMatchSymbol}` : `<div class=\"custom ${tagName}\"${closeMatchSymbol}`;\n      }\n      return match;\n    }\n  );\n}\n","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { getPerksColor } from '../../../format/colors';\nimport { RunesComponentProps } from '../types';\nimport { RunesIcon } from '../../images/runes-icon.component';\n\ninterface Props extends RunesComponentProps{\n  className?: string;\n}\n\nexport const RunesBuildCompactBlock: FunctionComponent<Props> = props => {\n  const { className } = props;\n  const { keystone, style, subStyle, runes } = props;\n  const { primary, secondary, perks } = runes;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={clsx(Row, LineWrapper(getPerksColor(style)))}>\n        <RunesIcon slug={style} className={MainIcon} isActive={true} isKeystones={true} />\n        <RunesIcon slug={keystone} className={KeystoneIcon} isActive={true} isKeystones={true} />\n        {primary.map((it) => <RunesIcon key={it} slug={it} className={Icon} isActive={true}/>)}\n      </div>\n      <div className={clsx(Row, LineWrapper(getPerksColor(subStyle)))}>\n        <RunesIcon slug={subStyle} className={Icon} isActive={true} isKeystones={true} />\n        {secondary.map((it, index) => <RunesIcon key={index} slug={it} className={Icon} isActive={true}/>)}\n      </div>\n      <div className={Row}>\n        {perks.map((it, index) => <RunesIcon key={index} slug={it} className={PerksIcon} isActive={true}/>)}\n      </div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n  margin-top: -12px;\n`;\n\nconst Row = css`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-right: 22px;\n  margin-top: 12px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n\n  img{\n    margin-left: 16px;\n    position: relative;\n    z-index: 1;\n\n    &:first-child{\n      margin-left: 0;\n    }\n  }\n`;\n\nconst LineWrapper = (color: string) => css`\n  position: relative;\n\n  &:before {\n    display: block;\n    content: '';\n    width: calc(100% - 40px);\n    height: 2px;\n    position: absolute;\n    z-index: 0;\n    background: ${color};\n    top: calc(50% - 1px);\n    left: 20px;\n  }\n\n  &:after {\n    display: block;\n    content: '';\n    width: calc(100% - 40px);\n    height: 4px;\n    position: absolute;\n    top: calc(50% - 3px);\n    left: 20px;\n\n    border-top: 1px solid ${color};\n    border-bottom: 1px solid ${color};\n    opacity: 0.6;\n    z-index: 0;\n  }\n`;\n\nconst Icon = css`\n  width: 32px!important;\n  height: 32px!important;\n`;\n\nconst MainIcon = css`\n  width: 36px!important;\n  height: 36px!important;\n`;\n\nconst KeystoneIcon = css`\n  width: 48px;\n  height: 48px;\n  margin-left: 4px!important;\n  margin-right: -8px;\n`;\n\nconst PerksIcon = css`\n  width: 24px;\n  height: 24px;\n  border-width: 1px;\n`;\n","export const AbilityIndexToKey: { [key: string]: string } = {\n  0: 'PASSIVE',\n  1: 'Q',\n  2: 'W',\n  3: 'E',\n  4: 'R',\n};\n","import {  NNumber,  Nullable } from '../types/lang';\nimport { isDef } from './lang';\nimport { SortDirection } from '../types/sorting';\n\nexport function numberComparator(a: NNumber, b: NNumber): number {\n  return isDef(a) && isDef(b) ? a - b : -1;\n}\n\nexport function sortBy<T, V>(\n  list: T[],\n  accessFn: (value: T) => Nullable<V>,\n  comparator: (a: Nullable<V>, b: Nullable<V>) => number,\n  direction?: SortDirection,\n  safeCopy: boolean = true\n): T[] {\n  const result = safeCopy ? list.slice() : list;\n  direction === SortDirection.ASC\n    ? result.sort((a: T, b: T) => comparator(accessFn(a), accessFn(b)))\n    : result.sort((a: T, b: T) => comparator(accessFn(b), accessFn(a)));\n  return result;\n}\n","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","const {\n  noopTest,\n  edit,\n  merge\n} = require('./helpers.js');\n\n/**\n * Block-Level Grammar\n */\nconst block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6}) +([^\\n]*?)(?: +#+)? *(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  nptable: noopTest,\n  table: noopTest,\n  lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block._paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)')\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' *([-:]+ *\\\\|[-| :]*)' // Align\n    + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)', // Cells\n  table: '^ *\\\\|(.+)\\\\n' // Header\n    + ' *\\\\|?( *[-:]+[-| :]*)' // Align\n    + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n});\n\nblock.gfm.nptable = edit(block.gfm.nptable)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('blockquote', ' {0,3}>')\n  .replace('code', ' {4}[^\\\\n]')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)')\n  .replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.gfm.table = edit(block.gfm.table)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('blockquote', ' {0,3}>')\n  .replace('code', ' {4}[^\\\\n]')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)')\n  .replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  fences: noopTest, // fences not supported\n  paragraph: edit(block.normal._paragraph)\n    .replace('hr', block.hr)\n    .replace('heading', ' *#{1,6} *[^\\n]')\n    .replace('lheading', block.lheading)\n    .replace('blockquote', ' {0,3}>')\n    .replace('|fences', '')\n    .replace('|list', '')\n    .replace('|html', '')\n    .getRegex()\n});\n\n/**\n * Inline-Level Grammar\n */\nconst inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*<\\[])\\*(?!\\*)|^_([^\\s<][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_<][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s<\"][\\s\\S]*?[^\\s\\*])\\*(?!\\*|[^\\spunctuation])|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/\n};\n\n// list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\ninline._punctuation = '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[^_{|}~';\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text)\n    .replace('\\\\b_', '\\\\b_| {2,}\\\\n')\n    .replace(/\\{2,\\}/g, '*')\n    .getRegex()\n});\n\nmodule.exports = {\n  block,\n  inline\n};\n","import { css } from 'goober';\nimport { VNode } from 'preact';\nimport { createPortal } from 'preact/compat';\nimport tippy, { Instance as TippyInstance, hideAll } from 'tippy.js';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport { TooltipHookPayload, TooltipHookProps } from './tooltip-hook.types';\n\nfunction mountTooltip(vnode: VNode): VNode {\n  return createPortal(vnode, document.body);\n}\n\nconst contentClass = css`\n  visibility: hidden;\n  position: absolute;\n`;\n\nexport function useTooltipHook<TriggerElement extends Element = Element, PortalElement extends Element = Element>(\n  props?: TooltipHookProps\n): TooltipHookPayload<PortalElement> {\n  const [triggerState, setTriggerState] = useState<number>(0);\n  const triggerElementRef = useRef<TriggerElement | null>(null);\n  const contentRef = useRef<PortalElement | null>(null);\n  const tippyRef = useRef<TippyInstance>();\n  const propsRef = useRef<TooltipHookProps | undefined>(props);\n\n  const triggerHandler = useCallback((e: Event) => {\n    if (!triggerElementRef.current) {\n      triggerElementRef.current = e.currentTarget as TriggerElement;\n      setTriggerState(1);\n    }\n  }, []);\n\n  const dataLoadedHandler = useCallback(() => {\n    if (tippyRef.current && contentRef.current) {\n      tippyRef.current.setContent(contentRef.current);\n      tippyRef.current.show();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!tippyRef.current && triggerElementRef.current) {\n      const { isAsync, ...rest } = propsRef.current || {};\n      tippyRef.current = tippy(triggerElementRef.current, {\n        content: contentRef.current || undefined,\n        ...rest,\n        delay: 0,\n        onShow: (instance: TippyInstance) => {\n          hideAll({ duration: 0 });\n          const content = instance.props.content as HTMLElement | null;\n          if (content) {\n            content.style.visibility = 'visible';\n            content.style.position = 'relative';\n          }\n        },\n      });\n      !isAsync && tippyRef.current.show();\n    }\n  }, [tippyRef, triggerElementRef, triggerState]);\n\n  return {\n    contentRef,\n    triggerHandler,\n    dataLoadedHandler,\n    contentClass,\n    mountTooltip: triggerElementRef.current ? mountTooltip : null,\n  };\n}\n","import { FunctionComponent, h} from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\nimport { Text10x400Mixin } from '../../../ui/typography';\n\ninterface Props {\n  className?: string;\n}\n\nexport const CompactChampionAbilitiesOrderBarSkeleton: FunctionComponent<Props> = props => {\n  const { className } = props;\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={SkullWrapper}/>\n      <div className={Separator} ></div>\n      <div className={SkullWrapper}/>\n      <div className={Separator} ></div>\n      <div className={SkullWrapper}/>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n  align-items: center;\n  margin-right: 40px;\n`;\n\nconst Separator = css`\n  ${Text10x400Mixin};\n  display: flex;\n  margin: 0 6px;\n  color: #3C385C!important;\n`;\n\nconst SkullWrapper = css`\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n  overflow: hidden;\n  position: relative;\n  display: block;\n  background: #3C385C;\n`;\n","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","const Renderer = require('./Renderer.js');\nconst Slugger = require('./Slugger.js');\nconst InlineLexer = require('./InlineLexer.js');\nconst TextRenderer = require('./TextRenderer.js');\nconst { defaults } = require('./defaults.js');\nconst {\n  merge,\n  unescape\n} = require('./helpers.js');\n\n/**\n * Parsing & Compiling\n */\nmodule.exports = class Parser {\n  constructor(options) {\n    this.tokens = [];\n    this.token = null;\n    this.options = options || defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.slugger = new Slugger();\n  }\n\n  /**\n   * Static Parse Method\n   */\n  static parse(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parse(tokens);\n  };\n\n  /**\n   * Parse Loop\n   */\n  parse(tokens) {\n    this.inline = new InlineLexer(tokens.links, this.options);\n    // use an InlineLexer with a TextRenderer to extract pure text\n    this.inlineText = new InlineLexer(\n      tokens.links,\n      merge({}, this.options, { renderer: new TextRenderer() })\n    );\n    this.tokens = tokens.reverse();\n\n    let out = '';\n    while (this.next()) {\n      out += this.tok();\n    }\n\n    return out;\n  };\n\n  /**\n   * Next Token\n   */\n  next() {\n    this.token = this.tokens.pop();\n    return this.token;\n  };\n\n  /**\n   * Preview Next Token\n   */\n  peek() {\n    return this.tokens[this.tokens.length - 1] || 0;\n  };\n\n  /**\n   * Parse Text Tokens\n   */\n  parseText() {\n    let body = this.token.text;\n\n    while (this.peek().type === 'text') {\n      body += '\\n' + this.next().text;\n    }\n\n    return this.inline.output(body);\n  };\n\n  /**\n   * Parse Current Token\n   */\n  tok() {\n    let body = '';\n    switch (this.token.type) {\n      case 'space': {\n        return '';\n      }\n      case 'hr': {\n        return this.renderer.hr();\n      }\n      case 'heading': {\n        return this.renderer.heading(\n          this.inline.output(this.token.text),\n          this.token.depth,\n          unescape(this.inlineText.output(this.token.text)),\n          this.slugger);\n      }\n      case 'code': {\n        return this.renderer.code(this.token.text,\n          this.token.lang,\n          this.token.escaped);\n      }\n      case 'table': {\n        let header = '',\n          i,\n          row,\n          cell,\n          j;\n\n        // header\n        cell = '';\n        for (i = 0; i < this.token.header.length; i++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(this.token.header[i]),\n            { header: true, align: this.token.align[i] }\n          );\n        }\n        header += this.renderer.tablerow(cell);\n\n        for (i = 0; i < this.token.cells.length; i++) {\n          row = this.token.cells[i];\n\n          cell = '';\n          for (j = 0; j < row.length; j++) {\n            cell += this.renderer.tablecell(\n              this.inline.output(row[j]),\n              { header: false, align: this.token.align[j] }\n            );\n          }\n\n          body += this.renderer.tablerow(cell);\n        }\n        return this.renderer.table(header, body);\n      }\n      case 'blockquote_start': {\n        body = '';\n\n        while (this.next().type !== 'blockquote_end') {\n          body += this.tok();\n        }\n\n        return this.renderer.blockquote(body);\n      }\n      case 'list_start': {\n        body = '';\n        const ordered = this.token.ordered,\n          start = this.token.start;\n\n        while (this.next().type !== 'list_end') {\n          body += this.tok();\n        }\n\n        return this.renderer.list(body, ordered, start);\n      }\n      case 'list_item_start': {\n        body = '';\n        const loose = this.token.loose;\n        const checked = this.token.checked;\n        const task = this.token.task;\n\n        if (this.token.task) {\n          if (loose) {\n            if (this.peek().type === 'text') {\n              const nextToken = this.peek();\n              nextToken.text = this.renderer.checkbox(checked) + ' ' + nextToken.text;\n            } else {\n              this.tokens.push({\n                type: 'text',\n                text: this.renderer.checkbox(checked)\n              });\n            }\n          } else {\n            body += this.renderer.checkbox(checked);\n          }\n        }\n\n        while (this.next().type !== 'list_item_end') {\n          body += !loose && this.token.type === 'text'\n            ? this.parseText()\n            : this.tok();\n        }\n        return this.renderer.listitem(body, task, checked);\n      }\n      case 'html': {\n        // TODO parse inline content if parameter markdown=1\n        return this.renderer.html(this.token.text);\n      }\n      case 'paragraph': {\n        return this.renderer.paragraph(this.inline.output(this.token.text));\n      }\n      case 'text': {\n        return this.renderer.paragraph(this.parseText());\n      }\n      default: {\n        const errMsg = 'Token with \"' + this.token.type + '\" type was not found.';\n        if (this.options.silent) {\n          console.log(errMsg);\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n  };\n};\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { NBoolean } from '../../types/lang';\nimport { commonIcon } from '../../format/images';\n\ninterface Props {\n  isDown?: NBoolean;\n  className?: string;\n}\n\nexport const TriangleWithRoundedCorners: FunctionComponent<Props> = props => {\n  const { isDown, className } = props;\n  const [iconName, translate] = isDown ? ['trend-down', 'translate(0, -25%)'] : ['trend-up', 'translate(0, 25%)'];\n  const style = { transform: translate };\n  return (\n    <img src={commonIcon(iconName)} alt=\"\" style={style} className={clsx(Icon, className)} loading=\"lazy\" />\n  );\n};\n\nconst Icon = css`\n  display: block;\n  width: 10px;\n  height: 8px;\n`;\n","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","export enum ChampionPageSection {\n  BUILDS = 'build',\n  ARAM_BUILDS = 'aram-builds',\n  PRO_BUILDS = 'pro-builds',\n  COUNTERS = 'counters',\n  GUIDE = 'guide',\n  COMBOS = 'combos',\n  LIVE_GAMES = 'live-games',\n  LEADERBOARD = 'leaderboard',\n}\n","import { FunctionComponent, h, Fragment } from 'preact';\n\nimport { t } from '../../../common/i18n/i18n';\nimport { css } from 'goober';\nimport { championImage, roleNameIcon } from '../../utils/images';\nimport { Rolename } from '../../types/gql-dynamic/globalTypes';\nimport { NNumber, NString, Nullable } from '../../../common/types/lang';\nimport { formatRoleName } from '../../format/texts';\nimport { MiddleDot } from '../../format/symbols';\nimport { WinRate } from '../metrics/win-rate/win-rate.component';\nimport { Text12x400Mixin, Text12x500Mixin } from '../../ui/typography';\n\ninterface Props {\n  championName: string;\n  championSlug: string;\n  roleName: Nullable<Rolename>;\n  patch: NString;\n  winRate: NNumber;\n  gamesCount: NNumber;\n}\n\nexport const BuildHeader: FunctionComponent<Props> = props => {\n  const { championName, championSlug } = props;\n  const { roleName, patch, winRate, gamesCount } = props;\n\n  return (\n    <div className={Wrapper}>\n      <img src={championImage(championSlug)} alt={championName} className={ChampionImage} />\n      <div>\n        <div className={Title}>{championName} build</div>\n        <div className={Text}>\n          {roleName && (\n            <Fragment>\n              <img src={roleNameIcon(roleName)} alt={formatRoleName(roleName)} className={RoleIconCss} loading=\"lazy\" />\n              {formatRoleName(roleName)}\n            </Fragment>\n          )}\n          {patch && <Fragment>{` ${MiddleDot} `}{t('Patch')}<span>{patch}</span></Fragment>}\n          {winRate && <Fragment>{` ${MiddleDot} `}{t('Win Rate')}<WinRate winRate={winRate}/></Fragment>}\n          {gamesCount && <Fragment>based on <span>{gamesCount}</span> matches</Fragment>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nconst Wrapper = css`\n  background: #252046;\n  border-radius: 5px 5px 0 0;\n  border: 1px solid #3c2d69;\n  height: 60px;\n  padding: 10px 12px;\n  display: flex;\n  align-items: center;\n`;\n\nconst Title = css`\n  ${Text12x500Mixin};\n  color: #fff!important;\n  text-transform: uppercase;\n`;\n\nconst ChampionImage = css`\n  display: block;\n  width: 36px;\n  height: 36px;\n  border: 2px solid #F2BF43;\n  border-radius: 50%;\n  margin-right: 8px;\n`;\n\n\nconst RoleIconCss = css`\n  width: 12px;\n  height: 12px;\n  display: block;\n  margin-right: 8px;\n`;\n\n\nconst Text = css`\n  ${Text12x400Mixin};\n  color: #6B6889!important;\n  min-width: 300px;\n  display: flex;\n  align-items: center;\n\n  span{\n    font-weight: 500;\n    color: #fff!important;\n    margin: 0 3px;\n  }\n`;\n","import { CDN_CGI_LOL_IMG_PATH, CDN_COMMON_ICON_PATH, CDN_COMMON_IMG_PATH, CDN_LOL_IMG_PATH } from '../config';\nimport { Rolename } from '../types/gql-dynamic/globalTypes';\n\nexport function championImage(slug: string): string {\n  return `${CDN_LOL_IMG_PATH}/dd/champions/icons/${slug.toLowerCase()}.png`;\n}\n\nexport function summonerSpellIcon(slug: number | string): string {\n  return `${CDN_LOL_IMG_PATH}/dd/summoner-spells/${slug}.png`;\n}\n\nexport function championAbilityImage(slug: string): string {\n  return `${CDN_LOL_IMG_PATH}/dd/champions/abilities/${slug}.png`;\n}\n\nexport function gameItemIcon(slug: number | string): string {\n  return `${CDN_LOL_IMG_PATH}/dd/game-items/${slug}.png`;\n}\n\nexport function perkIcon(slug: number | string): string {\n  // we can't use ddragon image here because they have lower quality then ours\n  return `${CDN_LOL_IMG_PATH}/perks/${slug}.png`;\n}\n\nexport function roleNameIcon(roleName: Rolename): string {\n  return `${CDN_LOL_IMG_PATH}/rolename-icon/${roleName}.svg`;\n}\n\nexport function mobalyticsLogoSymbol(): string {\n  return `${CDN_COMMON_IMG_PATH}/logo/moba-logo-symbol-beta.svg`;\n}\n\nexport function championPosterImage(slug: string): string {\n  return `${CDN_LOL_IMG_PATH}/dd/champions/backgrounds/${slug.toLowerCase()}.jpg`;\n}\n\nexport function amumuCrying(): string {\n  return `${CDN_LOL_IMG_PATH}/ui/game-items/items-list-empty.png`;\n}\n\nexport function emoteImage(name: string): string {\n  return `${CDN_LOL_IMG_PATH}/ui/emotes/${name}`;\n}\n\nexport function championPosterW400Image(slug: string): string {\n  return `${CDN_CGI_LOL_IMG_PATH}/fit=cover,width=400/assets/lol/images/dd/champions/backgrounds/${slug.toLowerCase()}.jpg`;\n}\n\nexport function championClassIcon(slug: string) {\n  return `${CDN_LOL_IMG_PATH}/champions-classes/${slug}.svg`;\n}\n\n/**\n * Common SVG icons\n * Examples:\n *    https://cdn.mobalytics.gg/assets/common/icons/hex-tiers/S.svg\n *    https://cdn.mobalytics.gg/assets/common/icons/hex-tiers/A.svg\n *\n *    ?1 in the end of URL need for reset cache after gold color was updated\n */\nexport function hexTierIcon(tier: string): string {\n  return `${CDN_COMMON_ICON_PATH}/hex-tiers/${tier.toUpperCase()}.svg?1`;\n}\n","import { FunctionComponent, h} from 'preact';\nimport { useQuery } from 'graphql-hooks';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { DYNAMIC_CHAMPION_BUILD_QUERY_GQL } from '../../../api/dynamic/queries/champion-build-query.gql';\nimport { lolApi } from '../../../api/api';\nimport { NNumber, NString, Nullable } from '../../../../common/types/lang';\nimport { ChampionBuildWidgetError } from '../champion-build-widget-error/champion-build-widget-error';\nimport { ChampionBuildWidgetLoading } from '../champion-build-widget-loading/champion-build-widget-loading';\nimport {\n  LolChampionWidgetDynamicQuery,\n  LolChampionWidgetDynamicQueryVariables,\n} from '../../../types/gql-dynamic/LolChampionWidgetDynamicQuery';\nimport { LolChampionBuildType, Region, Rolename } from '../../../types/gql-dynamic/globalTypes';\nimport {\n  LolChampionWidgetStaticQuery,\n  LolChampionWidgetStaticQueryVariables,\n} from '../../../types/gql-static/LolChampionWidgetStaticQuery';\nimport { STATIC_CHAMPION_BUILD_QUERY_GQL } from '../../../api/static/queries/champion-build-query.gql';\nimport { firstItem } from '../../../../common/utils/list';\nimport { calcWinRate } from '../../../../common/utils/math';\nimport { validateStrEnumValue } from '../../../../common/utils/lang';\nimport { BuildHeader } from '../../../components/build-header/build-header.component';\nimport { amumuCrying, championPosterImage, emoteImage } from '../../../utils/images';\nimport { WidgetFooter } from '../../../components/widget-footer/widget-footer.component';\nimport {\n  formatAbilities,\n  formatAbilityOrder,\n  formatItemsBuild, formatSkillMaxOrder,\n  formatSkillOrder,\n} from '../../../utils/build-data-format.utils';\nimport { ChampionBuildWidgetBody } from '../champion-build-widget-body/champion-build-widget-body';\nimport { MOBA_APP_LINK } from '../../../config';\nimport { genChampionPath } from '../../../utils/links';\nimport { extractFromFlatList } from '../../../utils/squidex-data.utils';\n\ninterface Props {\n  champion: string;\n  role: Nullable<Rolename>;\n  region: Nullable<Region>;\n  patch: NString;\n  buildType?: Nullable<LolChampionBuildType>;\n  buildID?: NNumber;\n  compact: boolean;\n  widgetWidth: NNumber;\n  className?: string;\n}\n\nconst MIN_WIDGET_WIDTH = 300;\nconst SMALL_WIDGET_WIDTH = 560;\n\nexport const ChampionBuildWidgetContent: FunctionComponent<Props> = props => {\n  const { champion, role, compact, widgetWidth, region, patch, buildID, className } = props;\n\n  const isSmall = !!(widgetWidth && widgetWidth < SMALL_WIDGET_WIDTH);\n  const isCompact = compact || isSmall;\n\n  const {\n    loading: dynamicLoading,\n    error: dynamicError,\n    data: dynamicData,\n  } = useQuery<LolChampionWidgetDynamicQuery, LolChampionWidgetDynamicQueryVariables>(\n    DYNAMIC_CHAMPION_BUILD_QUERY_GQL,\n    {\n      variables: { champion, role, region, patch, buildID },\n      client: lolApi.dynamicDataClient,\n    }\n  );\n\n  const {\n    loading: staticLoading,\n    error: staticError,\n    data: staticData,\n  } = useQuery<LolChampionWidgetStaticQuery, LolChampionWidgetStaticQueryVariables>(STATIC_CHAMPION_BUILD_QUERY_GQL, {\n    variables: { filter: `data/slug/iv eq '${champion}'` },\n    client: lolApi.staticDataClient,\n  });\n\n  const loading = dynamicLoading || staticLoading;\n  const error = dynamicError || staticError;\n\n  if (loading) {\n    return (\n      <ChampionBuildWidgetLoading\n        className={clsx(Wrapper, className)}\n        isCompact={isCompact}\n        isSmall={isSmall}\n      />\n    );\n  }\n\n  if (error || (!staticData)) {\n    return (\n      <ChampionBuildWidgetError\n        imgSrc={amumuCrying()}\n        title={'Something Wrong'}\n        text={'We are so sorry, but it seems that this widget or the Mobalytics platform are experiencing some problems at the moment.'}\n        link={{\n          text: 'Check Mobalytics Status',\n          url: MOBA_APP_LINK,\n        }}\n        className={clsx(Wrapper, className)}\n      />\n    );\n  }\n\n  const championStats = firstItem(staticData?.champion)?.flatData;\n  const championBuild = dynamicData?.lol?.champion?.build;\n  const gameItems =  extractFromFlatList([...(staticData.itemsChunk1 || []), ...(staticData.itemsChunk2 || [])])?.filter(it => !!it.riotId);\n\n  // build props\n  const { spells, items, skillOrder: rawSkillOrder, skillMaxOrder: rawSkillMaxOrder, stats, patch: buildPatch, perks} = championBuild || {};\n\n  // stats props\n  const { abilities: rawAbilities, name: championName } = championStats || {};\n\n  // header props\n  const roleName = validateStrEnumValue<Rolename>(Rolename, role);\n  const winRate = stats && stats.wins && stats.matchCount ? calcWinRate(stats.wins, stats.matchCount - stats.wins) : null\n  const abilities = rawAbilities && formatAbilities(rawAbilities);\n\n  // build props\n  const itemsBuild = gameItems && items && formatItemsBuild(items, gameItems);\n  const skillOrder = rawSkillOrder && formatSkillOrder(rawSkillOrder);\n  const abilitiesOrder = rawSkillMaxOrder && abilities && formatAbilityOrder(rawSkillMaxOrder, abilities);\n  const skillMaxOrder = rawSkillMaxOrder && formatSkillMaxOrder(rawSkillMaxOrder);\n\n  const isBuildAvailable = !!itemsBuild || !!skillOrder || !!abilitiesOrder || !!skillMaxOrder;\n\n  const bgClass = !isSmall && !isCompact ? Background(championPosterImage(champion)) : '';\n\n  if(championName){\n    return (\n      <div className={clsx(Wrapper, className)}>\n        <BuildHeader\n          championName={championName} championSlug={champion}\n          roleName={roleName}\n          patch={buildPatch}\n          winRate={winRate}\n          gamesCount={!isSmall ? stats?.matchCount : null}\n        />\n        {\n          isBuildAvailable ? (\n            <ChampionBuildWidgetBody\n              abilities={abilities}\n              itemsBuild={itemsBuild}\n              skillOrder={skillOrder}\n              abilitiesOrder={abilitiesOrder}\n              skillMaxOrder={skillMaxOrder}\n              spells={spells}\n              perks={perks}\n              isCompact={isCompact}\n              isSmall={isSmall}\n              className={bgClass}\n            />\n          ) : (\n            <ChampionBuildWidgetError\n              imgSrc={emoteImage('blitzcrank.png')}\n              title={'Not Enough Data'}\n              text={`We need more game data to show a reliable build. This may be because a new patch just started or because there aren't enough players playing ${championName} as ${role}.`}\n              link={{\n                text: `Check other ${championName} builds on Mobalytics`,\n                url: genChampionPath(champion),\n              }}\n              className={clsx(Wrapper, bgClass)}\n            />\n          )\n        }\n        <WidgetFooter championName={championName} championSlug={champion} isSmall={isSmall}/>\n      </div>\n    );\n  }\n\n  return null;\n};\n\n\nconst Wrapper = css`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  min-width: ${MIN_WIDGET_WIDTH}px;\n  background-color: #2d2652!important;\n  border-radius: 6px;\n`;\n\nconst Background = (bg: string) => css`\n  background: radial-gradient(56% 38% at 91% 0%, rgba(45, 38, 82, 0.2) 0%, #2C274F 100%), url('${bg}');\n  background-repeat: no-repeat;\n  background-position: top right;\n  background-size: 500px;\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { ErrorMessage } from '../../../components/error-message/error-message.component';\nimport { Nullable } from '../../../../common/types/lang';\n\ninterface Props {\n  imgSrc: string;\n  title: string;\n  text: string;\n  link: Nullable<{ text:string, url: string }>\n  className?: string;\n}\n\nexport const ChampionBuildWidgetError: FunctionComponent<Props> = props => {\n  const { className } = props;\n  const { imgSrc, title, text, link } = props;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <ErrorMessage\n        imgSrc={imgSrc}\n        title={title}\n        text={text}\n        link={link}\n        className={Error}\n      />\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: #2d2652!important;\n  border-radius: 5px;\n  padding: 20px;\n`;\n\nconst Error = css`\n  width: 100%;\n  max-width: 400px!important;\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ItemsBuildSkeleton: FunctionComponent<Props> = props => {\n  const { className } = props;\n  return (\n    <div className={clsx(Wrapper, className)} >\n      <div className={Row}>\n        <div className={Label} />\n        <div className={Chain}>\n          <div className={Item}/>\n          <div className={Item}/>\n          <div className={Item}/>\n        </div>\n      </div>\n      <div className={Row}>\n        <div className={Label} />\n        <div className={Chain}>\n          <div className={Item}/>\n          <div className={Item}/>\n        </div>\n      </div>\n      <div className={Row}>\n        <div className={Label} />\n        <div className={Chain}>\n          <div className={Item}/>\n          <div className={Item}/>\n          <div className={Item}/>\n        </div>\n      </div>\n      <div className={Row}>\n        <div className={Label} />\n        <div className={Chain}>\n          <div className={Item}/>\n          <div className={Item}/>\n          <div className={Item}/>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: -8px;\n`;\n\nconst Row = css`\n  display: flex;\n  flex-direction: column;\n  margin-right: 12px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nconst Label = css`\n  height: 8px;\n  width: 80px;\n  background: #3C385C;\n  border-radius: 2px;\n  margin-bottom: 8px;\n  margin-top: 18px;\n  padding: 0;\n`;\n\nconst Item = css`\n  width: 36px;\n  height: 36px;\n  display: block;\n  background: #3C385C;\n  border-radius: 2px;\n  margin: 0 0 0 8px;\n\n  &:first-child{\n    margin-left: 0;\n  }\n`;\n\nconst Chain = css`\n  display: flex;\n`;\n","import { top, left, right, bottom } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(round(x * dpr) / dpr) || 0,\n    y: round(round(y * dpr) / dpr) || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets;\n\n  var _ref3 = roundOffsets === true ? roundOffsetsByDPR(offsets) : typeof roundOffsets === 'function' ? roundOffsets(offsets) : offsets,\n      _ref3$x = _ref3.x,\n      x = _ref3$x === void 0 ? 0 : _ref3$x,\n      _ref3$y = _ref3.y,\n      y = _ref3$y === void 0 ? 0 : _ref3$y;\n\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top) {\n      sideY = bottom; // $FlowFixMe[prop-missing]\n\n      y -= offsetParent[heightProp] - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left) {\n      sideX = right; // $FlowFixMe[prop-missing]\n\n      x -= offsetParent[widthProp] - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) < 2 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref4) {\n  var state = _ref4.state,\n      options = _ref4.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import { NNumber, NString } from '../common/types/lang';\nimport { Widgets } from '../common/types/widgets';\nimport { FunctionComponent, h, render } from 'preact';\nimport { collectPropsFromElement } from '../common/utils/dom-scanner';\n\nimport ChampionBuildWidget from '../lol/widgets/champion-build-widget/champion-build-widget.component';\nimport { useErrorBoundary } from 'preact/hooks';\n\ninterface Props {\n  // widget type\n  dataMobaWidget?: NString;\n\n  // lol champion widget props\n  dataMobaChampion?: NString;\n  dataMobaChampionRole?: NString;\n  dataMobaChampionRegion?: NString;\n  dataMobaChampionPatch?: NString;\n  dataMobaChampionBuildType?: NString;\n  dataMobaChampionBuildId?: NString;\n  dataMobaWidth?: NNumber;\n}\n\nconst WidgetEntrypoint: FunctionComponent<Props> = props => {\n  // global error boundaries to not block widgets rendering\n  const [error] = useErrorBoundary();\n  if (error) {\n    return null;\n  }\n\n  const {\n    dataMobaWidget,\n    dataMobaChampion,\n    dataMobaChampionRole,\n    dataMobaWidth,\n    dataMobaChampionRegion,\n    dataMobaChampionPatch,\n    dataMobaChampionBuildType,\n    dataMobaChampionBuildId,\n  } = props;\n\n  // render async widget base on widget type\n  switch (dataMobaWidget) {\n    case Widgets.LOL_CHAMPION_BUILD:\n    case Widgets.LOL_CHAMPION_BUILD_COMPACT:\n      return (\n        <ChampionBuildWidget\n          champion={dataMobaChampion}\n          role={dataMobaChampionRole}\n          region={dataMobaChampionRegion}\n          patch={dataMobaChampionPatch}\n          buildType={dataMobaChampionBuildType}\n          buildID={dataMobaChampionBuildId}\n          widgetWidth={dataMobaWidth}\n          isCompact={dataMobaWidget === Widgets.LOL_CHAMPION_BUILD_COMPACT}\n        />\n      );\n    default:\n      // todo: log error\n      return null;\n  }\n};\n\nexport const mountWidgetHostElements = (elements: NodeListOf<Element>): void => {\n  elements.forEach(el => {\n    if (!el.__isMobaMounted) {\n      // mark node as mounded\n      el.__isMobaMounted = true;\n      // collect host element props\n      const props = collectPropsFromElement(el);\n      // clean host element content\n      el.innerHTML = '';\n      // render widget to host element\n      render(h<Props>(WidgetEntrypoint, props), el, undefined);\n    }\n  });\n};\n","function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import { gql } from '../../../../common/utils/graphql';\nimport { LolGameItemFragment } from './game-items-query.gql';\n\nexport const STATIC_CHAMPION_BUILD_QUERY_GQL = gql`\n  query LolChampionWidgetStaticQuery($filter: String!) {\n    champion: queryChampionsV1Contents(filter: $filter) {\n      id\n      flatData {\n        slug\n        name\n        abilities {\n          id\n          flatData {\n            slug\n            name\n            activationKey\n          }\n        }\n      }\n    }\n    perks: queryRunesV1Contents {\n      id\n      flatData {\n        riotId\n        name\n      }\n    }\n    itemsChunk1: queryGameItemsV1Contents(top: 200, skip: 0) {\n      flatData {\n        ...LolGameItemFragment\n      }\n    }\n    itemsChunk2: queryGameItemsV1Contents(top: 200, skip: 200) {\n      flatData {\n        ...LolGameItemFragment\n      }\n    }\n  }\n  ${LolGameItemFragment}\n`;\n","export * from \"./enums.js\";\nexport * from \"./modifiers/index.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { popperGenerator, detectOverflow, createPopper as createPopperBase } from \"./createPopper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper } from \"./popper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\";","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\nexport * from './scheduler';\n\nconst version = '16.8.0'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","import { ChampionPageSection } from '../../common/types/champions';\nimport { MOBA_APP_LINK } from '../config';\n\nexport function genChampionPath(championSlug: string, section?: ChampionPageSection ): string {\n  return `${MOBA_APP_LINK}/lol/champions/${championSlug}/${section || ChampionPageSection.BUILDS}`;\n}\n","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isHTMLElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import { SkillKey } from '../types/gql-dynamic/globalTypes';\n\nexport enum winRateColors {\n  POOR = '#E54787',\n  AVERAGE = '#FFFFFF',\n  GOOD = '#1DC49B',\n  GREAT = '#85D0FF',\n}\n\nexport function formatWinRateColor(winRate?: number) {\n  if (winRate === undefined) {\n    return winRateColors.AVERAGE;\n  }\n  if (winRate < 40) {\n    return winRateColors.POOR;\n  }\n  if (winRate >= 40 && winRate < 60) {\n    return winRateColors.AVERAGE;\n  }\n  if (winRate >= 60 && winRate < 80) {\n    return winRateColors.GOOD;\n  }\n  if (winRate >= 80) {\n    return winRateColors.GREAT;\n  }\n  return winRateColors.AVERAGE;\n}\n\nexport const getSkillKeyColor = (key: SkillKey): string => {\n  switch(key){\n    case SkillKey.PASSIVE:\n      return '#FFC306';\n    case SkillKey.Q:\n      return '#38C6F4';\n    case SkillKey.W:\n      return '#47CC42';\n    case SkillKey.E:\n      return '#FF2576';\n    case SkillKey.R:\n      return '#858cb2';\n  }\n};\n\nexport const getPerksColor = (perk: number): string => {\n  switch (perk) {\n    case 8000:\n      return '#f2bf43';\n    case 8100:\n      return '#ca3e3f';\n    case 8200:\n      return '#9ea9fb';\n    case 8300:\n      return '#49aab9';\n    case 8400:\n      return '#a1d586';\n    default:\n      return '#fff';\n  }\n};\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\n\nimport { processCustomHtmlTags } from './game-item-rich-text.utils';\nimport { RichText } from '../rich-text/rich-text.component';\n\ninterface Props {\n  markdownText?: string;\n  className?: string;\n}\n\nexport const GameItemTooltipRichText: FunctionComponent<Props> = props => {\n  const { markdownText } = props;\n  const processedMarkdown = markdownText ? processCustomHtmlTags(markdownText) : undefined;\n  return (\n    <div className={StyledLolRichText}>\n      <RichText markdown={processedMarkdown}/>\n    </div>\n  );\n};\n\nconst StyledLolRichText = css`\n  position: relative;\n  color: #b3b4d0!important;\n\n  .custom {\n    display: inline;\n  }\n\n  .stats {\n    display: block;\n    color: #6b6889!important;\n  }\n\n  .attention {\n    font-weight: 500;\n    color: #ffffff!important;\n  }\n\n  i,\n  .unique,\n  .active,\n  .aura,\n  .passive,\n  .rarityMythic {\n    font-weight: 700;\n    color: #ffffff!important;\n  }\n\n  .rarityMythic {\n    color: #fec205!important;\n  }\n\n  .magicDamage {\n    color: #84d0fe!important;\n  }\n\n  li {\n    list-style-type: none;\n  }\n\n  li + li {\n    margin-top: 8px;\n  }\n`;\n","'use strict';\n\nvar defaultIsExtractableFile = require('./isExtractableFile');\n\nmodule.exports = function extractFiles(value, path, isExtractableFile) {\n  if (path === void 0) {\n    path = '';\n  }\n\n  if (isExtractableFile === void 0) {\n    isExtractableFile = defaultIsExtractableFile;\n  }\n\n  var clone;\n  var files = new Map();\n\n  function addFile(paths, file) {\n    var storedPaths = files.get(file);\n    if (storedPaths) storedPaths.push.apply(storedPaths, paths);\n    else files.set(file, paths);\n  }\n\n  if (isExtractableFile(value)) {\n    clone = null;\n    addFile([path], value);\n  } else {\n    var prefix = path ? path + '.' : '';\n    if (typeof FileList !== 'undefined' && value instanceof FileList)\n      clone = Array.prototype.map.call(value, function (file, i) {\n        addFile(['' + prefix + i], file);\n        return null;\n      });\n    else if (Array.isArray(value))\n      clone = value.map(function (child, i) {\n        var result = extractFiles(child, '' + prefix + i, isExtractableFile);\n        result.files.forEach(addFile);\n        return result.clone;\n      });\n    else if (value && value.constructor === Object) {\n      clone = {};\n\n      for (var i in value) {\n        var result = extractFiles(value[i], '' + prefix + i, isExtractableFile);\n        result.files.forEach(addFile);\n        clone[i] = result.clone;\n      }\n    } else clone = value;\n  }\n\n  return {\n    clone: clone,\n    files: files,\n  };\n};\n","\nconst EMPTY_OBJ = {};\n\n// deeply convert an XML DOM to VDOM\nexport default function toVdom(node, visitor, h, options) {\n\twalk.visitor = visitor;\n\twalk.h = h;\n\twalk.options = options || EMPTY_OBJ;\n\treturn walk(node);\n}\n\nfunction walk(n, index, arr) {\n\tif (n.nodeType===3) {\n\t\tlet text = 'textContent' in n ? n.textContent : n.nodeValue || '';\n\n\t\tif (walk.options.trim!==false) {\n\t\t\tlet isFirstOrLast = index===0 || index===arr.length-1;\n\n\t\t\t// trim strings but don't entirely collapse whitespace\n\t\t\tif (text.match(/^[\\s\\n]+$/g) && walk.options.trim!=='all') {\n\t\t\t\ttext = ' ';\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttext = text.replace(/(^[\\s\\n]+|[\\s\\n]+$)/g, walk.options.trim==='all' || isFirstOrLast ? '' : ' ');\n\t\t\t}\n\t\t\t// skip leading/trailing whitespace\n\t\t\t// if (!text || text===' ' && arr.length>1 && (index===0 || index===arr.length-1)) return null;\n\t\t\tif ((!text || text===' ') && arr.length>1 && isFirstOrLast) return null;\n\t\t\t// if (!text && arr.length>1 && (index===0 || index===arr.length-1)) return null;\n\t\t\t// if (!text || text===' ') return null;\n\t\t}\n\t\treturn text;\n\t}\n\tif (n.nodeType!==1) return null;\n\tlet nodeName = String(n.nodeName).toLowerCase();\n\n\t// Do not allow script tags unless explicitly specified\n\tif (nodeName==='script' && !walk.options.allowScripts) return null;\n\n\tlet out = walk.h(\n\t\tnodeName,\n\t\tgetProps(n.attributes),\n\t\twalkChildren(n.childNodes)\n\t);\n\tif (walk.visitor) walk.visitor(out);\n\treturn out;\n}\n\nfunction getProps(attrs) {\n\tlet len = attrs && attrs.length;\n\tif (!len) return null;\n\tlet props = {};\n\tfor (let i=0; i<len; i++) {\n\t\tlet { name, value } = attrs[i];\n\t\tif (name.substring(0,2)==='on' && walk.options.allowEvents){\n\t\t\tvalue  = new Function(value); // eslint-disable-line no-new-func\n\t\t}\n\t\tprops[name] = value;\n\t}\n\treturn props;\n}\n\nfunction walkChildren(children) {\n\tlet c = children && Array.prototype.map.call(children, walk).filter(exists);\n\treturn c && c.length ? c : null;\n}\n\nlet exists = x => x;\n","import parseMarkup from './parse-markup';\nimport toVdom from './to-vdom';\n\nconst EMPTY_OBJ = {};\n\n/** Convert markup into a virtual DOM.\n*\t@param {String} markup\t\tHTML or XML markup (indicate via `type`)\n*\t@param {String} [type=xml]\tA type to use when parsing `markup`. Either `xml` or `html`.\n*\t@param {Function} reviver\tThe JSX/hyperscript reviver (`h` function) to use. For example, Preact's `h` or `ReactDOM.createElement`.\n*\t@param {Object} [map]\t\tOptional map of custom element names to Components or variant element names.\n */\nexport default function markupToVdom(markup, type, reviver, map, options) {\n\tlet dom = parseMarkup(markup, type);\n\n\tif (dom && dom.error) {\n\t\tthrow new Error(dom.error);\n\t}\n\n\tlet body = dom && dom.body || dom;\n\tvisitor.map = map || EMPTY_OBJ;\n\tlet vdom = body && toVdom(body, visitor, reviver, options);\n\tvisitor.map = null;\n\n\n\treturn vdom && vdom.props && vdom.props.children || null;\n}\n\nfunction toCamelCase(name) {\n\treturn name.replace(/-(.)/g, (match, letter) =>letter.toUpperCase());\n}\n\nfunction visitor(node) {\n\tlet name = (node.type || '').toLowerCase(),\n\t\tmap = visitor.map;\n\n\t// eslint-disable-next-line no-prototype-builtins\n\tif (map && map.hasOwnProperty(name)){\n\t\tnode.type = map[name];\n\t\tnode.props = Object.keys(node.props || {}).reduce((attrs,attrName)=>{\n\t\t\tattrs[toCamelCase(attrName)] = node.props[attrName];\n\t\t\treturn attrs;\n\t\t},{});\n\t} else {\n\t\tnode.type =  name.replace(/[^a-z0-9-]/i,'');\n\t}\n\n}\n","let parserDoc;\n\n/** Parse markup into a DOM using the given mimetype.\n *\t@param {String} markup\n */\nexport default function parseMarkup(markup, type) {\n\tlet doc,\n\t\tmime = type==='html' ? 'text/html' : 'application/xml',\n\t\tparserError, wrappedMarkup, tag;\n\n\t// wrap with an element so we can find it after parsing, and to support multiple root nodes\n\tif (type==='html') {\n\t\ttag = 'body';\n\t\twrappedMarkup = '<!DOCTYPE html>\\n<html><body>'+markup+'</body></html>';\n\t}\n\telse {\n\t\ttag = 'xml';\n\t\twrappedMarkup = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<xml>'+markup+'</xml>';\n\t}\n\n\t// if available (browser support varies), using DOMPaser in HTML mode is much faster, safer and cleaner than injecting HTML into an iframe.\n\ttry {\n\t\tdoc = new DOMParser().parseFromString(wrappedMarkup, mime);\n\t} catch (err) {\n\t\tparserError = err;\n\t}\n\n\t// fall back to using an iframe to parse HTML (not applicable for XML, since DOMParser() for XML works in IE9+):\n\tif (!doc && type==='html') {\n\t\tdoc = parserDoc || (parserDoc = buildParserFrame());\n\t\tdoc.open();\n\t\tdoc.write(wrappedMarkup);\n\t\tdoc.close();\n\t}\n\n\tif (!doc) return;\n\n\t// retrieve our wrapper node\n\tlet out = doc.getElementsByTagName(tag)[0],\n\t\tfc = out.firstChild;\n\n\tif (markup && !fc) {\n\t\tout.error = 'Document parse failed.';\n\t}\n\n\t// pluck out parser errors\n\tif (fc && String(fc.nodeName).toLowerCase()==='parsererror') {\n\t\t// remove post/preamble to get just the error message as text\n\t\tfc.removeChild(fc.firstChild);\n\t\tfc.removeChild(fc.lastChild);\n\t\tout.error = (fc.textContent || fc.nodeValue || parserError || 'Unknown error');\n\t\t// remove the error from the DOM leaving things nice and tidy\n\t\tout.removeChild(fc);\n\t}\n\n\treturn out;\n}\n\n/** A shared frame is used for the fallback HTML parser, built on-demand. */\nfunction buildParserFrame() {\n\tif (document.implementation && document.implementation.createHTMLDocument) {\n\t\treturn document.implementation.createHTMLDocument('');\n\t}\n\tlet frame = document.createElement('iframe');\n\tframe.style.cssText = 'position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;';\n\tframe.setAttribute('sandbox', 'allow-forms');\n\tdocument.body.appendChild(frame);\n\treturn frame.contentWindow.document;\n}\n","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\"; // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement);\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\nimport { TriangleWithRoundedCorners } from '../triangle-with-rounded-corners/triangle-with-rounded-corners.component';\nimport { Text12x400Mixin, Text20x400Mixin } from '../../../lol/ui/typography';\n\ninterface Props {\n  title: string;\n  value: number;\n  isDown: boolean;\n  valueFormatterFn: (value: number) => string;\n  symbol?: string;\n\n  className?: string;\n}\n\nexport const MetricWithTrend: FunctionComponent<Props> = props => {\n  const { title, value, symbol, isDown, valueFormatterFn, className } = props;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={Title}>{title}</div>\n      <div className={MetricValue}>\n        <div className={Value}>{valueFormatterFn(value)}</div>\n        <div className={MetricMeta}>\n          <TriangleWithRoundedCorners isDown={isDown} />\n          {symbol && <div className={Symbol}>{symbol}</div>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  margin-right: 12px;\n`;\n\nconst MetricValue = css`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst MetricMeta = css`\n  width: 13px;\n  margin-left: 4px;\n  justify-content: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 1px;\n`;\n\nconst Title = css`\n  ${Text12x400Mixin};\n  color: #6B6889!important;\n  letter-spacing: 0.25px;\n  margin: 0;\n  padding: 0;\n`;\n\nconst Value = css`\n  ${Text20x400Mixin};\n  font-family: Oswald, sans-serif!important;\n  line-height: 32px!important;\n  color: #fff!important;\n  margin: 0;\n  padding: 0;\n`;\n\nconst Symbol = css`\n  ${Text12x400Mixin};\n  color: #fff!important;\n  line-height: 1!important;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { formatRunesPath } from '../../../format/texts';\nimport { NNumber } from '../../../../common/types/lang';\nimport { RunesIcon } from '../../images/runes-icon.component';\nimport { Text14x700Mixin } from '../../../ui/typography';\n\ninterface Props {\n  path: number;\n  keystone: NNumber;\n  runes: number[];\n  slots: number[][];\n  className?: string;\n}\n\nexport const RunesSlotsBlock: FunctionComponent<Props> = props => {\n  const { className, path, keystone, runes, slots } = props;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={Header}>\n        <RunesIcon className={PathIcon} slug={path} isActive={true} isKeystones={true}/>\n        <div className={Name}>{formatRunesPath(path)}</div>\n      </div>\n      <div className={Grid}>\n        {slots.map((row, rowIndex) => {\n          const isKeystones = keystone && row.includes(keystone);\n          return (\n            <div className={clsx(Row, isKeystones && KeystoneRow)} key={rowIndex}>\n              {row.map(runeSlug => {\n                const isActive = ((keystone === runeSlug) || runes.includes(runeSlug));\n                return  (\n                  <RunesIcon slug={runeSlug} isActive={isActive} isKeystones={!!isKeystones}/>\n                );\n              })}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-width: 204px;\n`;\n\nconst Grid = css`\n  display: grid;\n  row-gap: 20px;\n  position: relative;\n`;\n\nconst Header = css`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n  position: relative;\n`;\n\nconst Name = css`\n  ${Text14x700Mixin};\n  color: #B3B4D0!important;\n  text-transform: capitalize;\n  margin-left: 8px;\n`;\n\nconst PathIcon = css`\n  width: 36px!important;\n  height: 36px!important;\n`;\n\nconst Row = css`\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: center;\n  grid-column-gap: 20px;\n  position: relative;\n`;\n\nconst KeystoneRow = css`\n  margin-top: -5px;\n  margin-bottom: -5px;\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { Nullable } from '../../../common/types/lang';\nimport { Text14x400Mixin, Text14x500Mixin, Text16x500Mixin } from '../../ui/typography';\n\ninterface Props {\n  imgSrc: string;\n  title: string;\n  text: string;\n  link: Nullable<{ text:string, url: string }>\n  className?: string;\n}\n\nexport const ErrorMessage: FunctionComponent<Props> = props => {\n  const { imgSrc, title, text, link, className } = props;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <img className={Img} src={imgSrc} alt=\"\" role=\"presentation\" />\n      <div className={Title}>{title}</div>\n      <div className={Text}>{text}</div>\n      {link && <a href={link.url} className={Link}>{link.text}</a>}\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Img = css`\n  width: 90px;\n  height: 90px;\n  display: block;\n  mix-blend-mode: luminosity;\n`;\n\nconst Title = css`\n  ${Text16x500Mixin};\n  text-align: center;\n  color: #fff!important;\n  margin: 4px 0 8px 0;\n`;\n\nconst Text = css`\n  ${Text14x400Mixin};\n  text-align: center;\n  color: #B3B4D0;\n  margin: 0;\n`;\n\nconst Link = css`\n  ${Text14x500Mixin};\n  text-align: center;\n  color: #f2bf43!important;\n  margin: 20px 0 0 0;\n\n  transition: color ease .2s;\n\n  &:focus,\n  &:hover{\n    color: #38C6F4!important;\n  }\n`;\n","const Lexer = require('./Lexer.js');\nconst Parser = require('./Parser.js');\nconst Renderer = require('./Renderer.js');\nconst TextRenderer = require('./TextRenderer.js');\nconst InlineLexer = require('./InlineLexer.js');\nconst Slugger = require('./Slugger.js');\nconst {\n  merge,\n  checkSanitizeDeprecation,\n  escape\n} = require('./helpers.js');\nconst {\n  getDefaults,\n  changeDefaults,\n  defaults\n} = require('./defaults.js');\n\n/**\n * Marked\n */\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n    const highlight = opt.highlight;\n    let tokens,\n      pending,\n      i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    const done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      let out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\n\nmarked.defaults = defaults;\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.Slugger = Slugger;\n\nmarked.parse = marked;\n\nmodule.exports = marked;\n","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport within from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { max as mathMax, min as mathMin } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis || checkAltAxis) {\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = popperOffsets[mainAxis] + overflow[mainSide];\n    var max = popperOffsets[mainAxis] - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - tetherOffsetValue : minLen - arrowLen - arrowPaddingMin - tetherOffsetValue;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + tetherOffsetValue : maxLen + arrowLen + arrowPaddingMax + tetherOffsetValue;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = state.modifiersData.offset ? state.modifiersData.offset[state.placement][mainAxis] : 0;\n    var tetherMin = popperOffsets[mainAxis] + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = popperOffsets[mainAxis] + maxOffset - offsetModifierValue;\n\n    if (checkMainAxis) {\n      var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n      popperOffsets[mainAxis] = preventedOffset;\n      data[mainAxis] = preventedOffset - offset;\n    }\n\n    if (checkAltAxis) {\n      var _mainSide = mainAxis === 'x' ? top : left;\n\n      var _altSide = mainAxis === 'x' ? bottom : right;\n\n      var _offset = popperOffsets[altAxis];\n\n      var _min = _offset + overflow[_mainSide];\n\n      var _max = _offset - overflow[_altSide];\n\n      var _preventedOffset = within(tether ? mathMin(_min, tetherMin) : _min, _offset, tether ? mathMax(_max, tetherMax) : _max);\n\n      popperOffsets[altAxis] = _preventedOffset;\n      data[altAxis] = _preventedOffset - _offset;\n    }\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","import { FunctionComponent, h, Fragment } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { ChampionTooltipFooter } from './champion-tooltip-footer.component';\nimport { ChampionTooltipStatic } from './champion-tooltip-static.component';\nimport { ChampionTooltipDynamicData } from './champion-tooltip-dynamic.component';\nimport { NNumber, Nullable } from '../../../common/types/lang';\nimport { TierLevel } from '../../types/gql-dynamic/globalTypes';\nimport { Loader } from '../../../common/loader/loader.component';\n\ninterface Props {\n  championSlug: string;\n  championName: string;\n  tier?: Nullable<TierLevel>;\n  championType?: Nullable<{ slug: string; name: string }>;\n\n  winRate?: Nullable<{ value: number; isDown: boolean }>;\n  pickRate?: Nullable<{ value: number; isDown: boolean }>;\n  banRate?: Nullable<{ value: number; isDown: boolean }>;\n  counterChampions?: Nullable<{ championSlug: string; winRate: NNumber }[]>;\n\n  isLoading: boolean;\n  className?: string;\n}\n\nexport const ChampionTooltip: FunctionComponent<Props> = props => {\n  const { className, isLoading } = props;\n  const { championName, championSlug } = props;\n  const { counterChampions, winRate, pickRate, banRate, championType, tier } = props;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={Row}>\n        {!isLoading && (\n          <Fragment>\n            <ChampionTooltipStatic\n              championSlug={championSlug}\n              championName={championName}\n              championType={championType}\n              tier={tier}\n            />\n            <ChampionTooltipDynamicData\n              winRate={winRate}\n              pickRate={pickRate}\n              banRate={banRate}\n              counterChampions={counterChampions}\n            />\n          </Fragment>\n        )}\n        {isLoading && <Loader />}\n      </div>\n      <ChampionTooltipFooter championSlug={championSlug} />\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  width: 420px;\n  background: #151136;\n  border: 1px solid #382f66;\n  box-shadow: 0 4px 20px rgba(29, 21, 70, 0.8);\n  border-radius: 6px;\n  overflow: hidden;\n`;\n\nconst Row = css`\n  display: flex;\n  height: 164px;\n  justify-content: center;\n  align-items: center;\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { gameItemIcon, summonerSpellIcon } from '../../utils/images';\nimport { useQuery } from 'graphql-hooks';\nimport { lolApi } from '../../api/api';\nimport { forwardRef } from 'preact/compat';\nimport { useEffect } from 'preact/hooks';\nimport { UniversalGameSubjectTooltip } from '../../../common/components/universal-game-subject-tooltip/universal-game-subject-tooltip.component';\nimport { firstItem } from '../../../common/utils/list';\nimport { STATIC_SPELL_FRAGMENT } from '../../api/static/queries/summoner-spell-by-slug.gql';\nimport { LolSummonerSpellBySlug, LolSummonerSpellBySlugVariables } from '../../types/gql-static/LolSummonerSpellBySlug';\n\ninterface Props {\n  riotId: string;\n  onDataLoaded?(): void;\n  className?: string;\n}\n\nexport const SpellTooltip: FunctionComponent<Props> = forwardRef<HTMLDivElement, Props>((props, ref) => {\n  const { riotId, onDataLoaded, className } = props;\n  const { loading, error, data } = useQuery<LolSummonerSpellBySlug, LolSummonerSpellBySlugVariables>(STATIC_SPELL_FRAGMENT, {\n    variables: { filter: `data/riotId/iv eq '${riotId}'` },\n    client: lolApi.staticDataClient,\n  });\n\n  useEffect(() => {\n    !loading && !error && !!data && onDataLoaded?.();\n  }, [loading, error, data, onDataLoaded]);\n\n  // todo: log error\n  if (loading || error || !data) {\n    return null;\n  }\n\n  const item = firstItem(data.spells)?.flatData;\n\n  return (\n    <div ref={ref} className={className}>\n      <UniversalGameSubjectTooltip\n        name={item?.name}\n        iconName={item?.name}\n        iconUrl={summonerSpellIcon(riotId)}\n        description={item?.description}\n      />\n    </div>\n  );\n});\n","export enum Widgets {\n  LOL_CHAMPION_BUILD = 'lol-champion-build',\n  LOL_CHAMPION_BUILD_COMPACT = 'lol-champion-build-compact',\n}\n\nexport enum Tooltips {\n  LOL_CHAMPION_TOOLTIP = 'lol-champion-tooltip',\n}\n","import { FunctionComponent, h, Fragment} from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { NNumber, Nullable } from '../../../common/types/lang';\nimport { t } from '../../../common/i18n/i18n';\nimport { WinRate } from '../metrics/win-rate/win-rate.component';\nimport { championImage } from '../../utils/images';\nimport { formatIndicator } from '../../../common/format/number';\nimport { MetricWithTrend } from '../../../common/components/metric-with-trend/metric-with-trend-chart.component';\nimport { Text12x400Mixin, Text12x500Mixin } from '../../ui/typography';\n\ninterface Props {\n  winRate: Nullable<{ value: number; isDown: boolean }>;\n  pickRate: Nullable<{ value: number; isDown: boolean }>;\n  banRate: Nullable<{ value: number; isDown: boolean }>;\n  counterChampions: Nullable<{ championSlug: string; winRate: NNumber }[]>;\n\n  className?: string;\n}\n\nexport const ChampionTooltipDynamicData: FunctionComponent<Props> = props => {\n  const { counterChampions, winRate, pickRate, banRate, className } = props;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={MetricsWrapper}>\n        {winRate && (\n          <MetricWithTrend\n            title={t('Win rate')}\n            value={winRate.value}\n            isDown={winRate.isDown}\n            valueFormatterFn={formatIndicator}\n            symbol={'%'}\n          />\n        )}\n        {pickRate && (\n          <MetricWithTrend\n            title={t('Pick rate')}\n            value={pickRate.value}\n            isDown={pickRate.isDown}\n            valueFormatterFn={formatIndicator}\n            symbol={'%'}\n          />\n        )}\n        {banRate && (\n          <MetricWithTrend\n            title={t('Ban rate')}\n            value={banRate.value}\n            isDown={banRate.isDown}\n            valueFormatterFn={formatIndicator}\n            symbol={'%'}\n          />\n        )}\n      </div>\n\n      {!!counterChampions && (\n        <Fragment>\n          <div className={Title}>{t('Counters')}</div>\n          <div className={Row}>\n            {counterChampions.map(it => {\n              return (\n                <div key={it.championSlug} className={Counter}>\n                  <img src={championImage(it.championSlug)} alt=\"\" className={RoundedIcon} role=\"presentation\"  loading=\"lazy\"/>\n                  {it.winRate && <WinRate winRate={it.winRate} />}\n                </div>\n              );\n            })}\n          </div>\n        </Fragment>\n      )}\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  width: 250px;\n  height: 164px;\n  padding: 16px;\n  margin-left: -1px;\n`;\n\nconst MetricsWrapper = css`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst RoundedIcon = css`\n  display: block;\n  border: 2px solid #F2BF43;\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n`;\n\nconst Row = css`\n  display: flex;\n`;\n\nconst Title = css`\n  ${Text12x400Mixin};\n  color: #6B6889!important;\n  margin-top: 8px;\n  margin-bottom: 8px;\n`;\n\nconst Counter = css`\n  ${Text12x500Mixin};\n  margin-left: 24px;\n\n  &:first-child {\n    margin: 0;\n  }\n\n  & > span {\n    display: block;\n    margin-top: 4px;\n  }\n`;\n","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(options) {\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","import { FunctionComponent, h } from 'preact';\nimport { useQuery } from 'graphql-hooks';\nimport { lolApi } from '../../api/api';\nimport { forwardRef } from 'preact/compat';\nimport { useEffect } from 'preact/hooks';\nimport { firstItem } from '../../../common/utils/list';\nimport { GlobalStyle } from '../../ui/global.mixin';\nimport { ChampionAbilityTooltip } from './champion-ability-tooltip.component';\nimport { STATIC_CHAMPION_ABILITY_BY_RIOT_ID } from '../../api/static/queries/champion-ability-by-slug.gql';\nimport {\n  LolChampionAbilityBySlug,\n  LolChampionAbilityBySlugVariables,\n} from '../../types/gql-static/LolChampionAbilityBySlug';\nimport { findBySlug } from '../../utils/squidex-data.utils';\n\ninterface Props {\n  slug: string;\n  onDataLoaded?(): void;\n  className?: string;\n}\n\nenum ChampionAbilityStatSlug {\n  Cost = 'cost',\n  Range = 'range',\n  Cooldown = 'cooldown',\n}\n\nexport const ChampionAbilityTooltipWrapper: FunctionComponent<Props> = forwardRef<HTMLDivElement, Props>((props, ref) => {\n  const { slug, onDataLoaded, className } = props;\n  const { loading, error, data } = useQuery<LolChampionAbilityBySlug, LolChampionAbilityBySlugVariables>(STATIC_CHAMPION_ABILITY_BY_RIOT_ID, {\n    variables: { filter: `data/slug/iv eq '${slug}'` },\n    client: lolApi.staticDataClient,\n  });\n\n  useEffect(() => {\n    !loading && !error && !!data && onDataLoaded?.();\n  }, [loading, error, data, onDataLoaded]);\n\n  // todo: log error\n  if (loading || error || !data) {\n    return null;\n  }\n\n  const ability = firstItem(data.items)?.flatData;\n\n  return (\n    <div ref={ref} className={className}>\n      <ChampionAbilityTooltip\n        slug={slug}\n        name={ability?.name || slug}\n        abilityKey={ability?.activationKey}\n        description={ability?.riotDesc || ability?.mobaDesc}\n        range={findBySlug(ChampionAbilityStatSlug.Range, ability?.stats)?.value}\n        cost={findBySlug(ChampionAbilityStatSlug.Cost, ability?.stats)?.value}\n        cooldown={findBySlug(ChampionAbilityStatSlug.Cooldown, ability?.stats)?.value}\n        className={GlobalStyle}\n      />\n    </div>\n  );\n});\n","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\ninterface Props{\n  className?: string;\n}\n\nexport const RunesBuildCompactBlockSkeleton: FunctionComponent<Props> = props => {\n  const { className } = props;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={Row}>\n        <div className={Icon} />\n        <div className={KeystoneIcon} />\n        <div className={Icon}/>\n        <div className={Icon}/>\n        <div className={Icon}/>\n      </div>\n      <div className={Row}>\n        <div className={Icon}/>\n        <div className={Icon}/>\n        <div className={Icon}/>\n      </div>\n      <div className={Row}>\n        <div className={PerksIcon}/>\n        <div className={PerksIcon}/>\n        <div className={PerksIcon}/>\n      </div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n  margin-top: -12px;\n`;\n\nconst Row = css`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-right: 22px;\n  margin-top: 12px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n\n  & > div{\n    background: #3C385C;\n    border-radius: 50%;\n    margin-left: 16px;\n\n    &:first-child{\n      margin-left: 0;\n    }\n  }\n`;\n\nconst Icon = css`\n  width: 32px;\n  height: 32px;\n`;\n\nconst KeystoneIcon = css`\n  width: 48px;\n  height: 48px;\n  margin-left: 8px!important;\n  margin-right: -10px;\n`;\n\nconst PerksIcon = css`\n  width: 24px;\n  height: 24px;\n`;\n","export function formatIndicator(value: number, precision: number = 1): string {\n  return value.toFixed(precision);\n}\n\nexport function processInt(value: any): number | null {\n  const num = parseInt(value, 10);\n  return isNaN(num) ? null : num;\n}\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\nimport { Text14x400Mixin } from '../../../lol/ui/typography';\n\nconst Markdown = require('preact-markdown');\n\nexport interface Props {\n  markdown?: string;\n  className?: string;\n}\n\nexport const RichText: FunctionComponent<Props> = props => {\n  const { markdown,  className } = props;\n  return !!markdown ? (\n    <div className={clsx(Wrapper, className)}>\n      <Markdown {...props} />\n    </div>\n  ): null;\n};\n\n\nconst Wrapper = css`\n  ${Text14x400Mixin};\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif;\n  color: #8890b5!important;\n  letter-spacing: 0.25px;\n  display: inline-block;\n  vertical-align: middle;\n\n  strong {\n    color: #f2bf43!important;\n    font-weight: 500;\n  }\n\n  a {\n    color: #4496dd!important;\n  }\n\n  b,\n  i,\n  u {\n    color: #ffffff!important;\n  }\n\n  ul,\n  ol {\n    margin: 4px 0;\n    padding-left: 28px;\n  }\n`;\n","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","import { CdnVideo } from '../types/video';\nimport { CDN_LOL_VIDEO_PATH } from '../../lol/config';\n\nexport function championAbilityVideo(slug: string): CdnVideo {\n  return {\n    slug,\n    mp4: `${CDN_LOL_VIDEO_PATH}/champion-abilities/${slug}.mp4?1`,\n    webm: `${CDN_LOL_VIDEO_PATH}/champion-abilities/${slug}.webm?1`,\n    placeholder: `${CDN_LOL_VIDEO_PATH}/champion-abilities/${slug}.png?1`,\n  };\n}\n","import { FunctionComponent, h, Fragment} from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { getSkillKeyColor } from '../../format/colors';\nimport { Ability } from '../champion-abilities-order/types';\nimport { ChampionAbilityIcon } from '../images/champion-ability.component';\nimport { Text10x400Mixin, Text12x500Mixin } from '../../ui/typography';\n\ninterface Props {\n  abilities: Ability[];\n  className?: string;\n}\n\nexport const CompactChampionAbilitiesOrderBar: FunctionComponent<Props> = props => {\n  const { abilities, className } = props;\n  return (\n    <div className={clsx(Wrapper, className)}>\n      {abilities.map((it) => {\n        return (\n          <Fragment key={it.slug}>\n            <div className={SkullWrapper}>\n              <ChampionAbilityIcon key={it.slug} slug={it.slug} name={it.name} />\n              <div className={AbilityKey} style={{ color: getSkillKeyColor(it.activationKey) }}>{it.activationKey}</div>\n            </div>\n            <div className={Separator}></div>\n          </Fragment>\n        );\n      })}\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  ${Text10x400Mixin};\n  display: flex;\n  align-items: center;\n  color: #8890b5!important;\n`;\n\nconst AbilityKey = css`\n  ${Text12x500Mixin};\n  line-height: 16px!important;\n  text-align: center;\n\n  position: absolute;\n  bottom: 0;\n  right: 0;\n\n  margin: 0;\n  padding: 0;\n\n  display: block;\n  width: 16px;\n  height: 16px;\n  background: #4C4278;\n  border-radius: 4px;\n`;\n\nconst Separator = css`\n  display: flex;\n  margin: 0 6px;\n\n  &:last-child {\n    display: none;\n  }\n`;\n\nconst SkullWrapper = css`\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n  overflow: hidden;\n  position: relative;\n`;\n\n","function getDefaults() {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    xhtml: false\n  };\n}\n\nfunction changeDefaults(newDefaults) {\n  module.exports.defaults = newDefaults;\n}\n\nmodule.exports = {\n  defaults: getDefaults(),\n  getDefaults,\n  changeDefaults\n};\n","import { gql } from '../../../../common/utils/graphql';\n\nexport const STATIC_PERK_FRAGMENT = gql`\n  fragment PerkFragment on RunesV1 {\n    id\n    flatData {\n      riotId\n      name\n      slug\n      shortDescription\n      longDescription\n      customDescription: customLongDescription\n      childRunes\n    }\n  }\n`;\n\nexport const STATIC_PERK_BY_RIOT_ID = gql`\n  query LolPerkByRiotId($filter: String!) {\n    perks: queryRunesV1Contents(filter: $filter) {\n      ...PerkFragment\n    }\n  }\n  ${STATIC_PERK_FRAGMENT}\n`;\n","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","import { gql } from '../../../../common/utils/graphql';\n\nexport const LolGameItemFragment = gql`\n  fragment LolGameItemFragment on GameItemsV1DataFlatDto {\n    riotId\n    name\n    type {\n      flatData {\n        name\n        slug\n      }\n    }\n  }\n`;\n","import { FunctionComponent, h} from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { SkillKey } from '../../types/gql-dynamic/globalTypes';\nimport { getSkillKeyColor } from '../../format/colors';\nimport { Text12x500Mixin, Text12x700Mixin } from '../../ui/typography';\n\ninterface Props {\n  skillOrder: SkillKey[];\n  className?: string;\n}\n\nexport const CompactChampionAbilitiesOrder: FunctionComponent<Props> = props => {\n  const { skillOrder, className } = props;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      {skillOrder.map((key, index) => {\n        return (\n          <div key={index} className={Item}>\n            <div className={Index}>{index + 1}</div>\n            <div className={AbilityKeySymbol} style={{ color: getSkillKeyColor(key)}} key={index}>\n              {key}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n`;\n\nconst Item = css`\n  margin-left: 4px;\n\n  &:first-child{\n    margin: 0;\n  }\n`;\n\nconst AbilityKeySymbol = css`\n  ${Text12x500Mixin};\n  width: 20px;\n  height: 20px;\n  border-radius: 3px;\n  background-color: rgba(76, 66, 120, 0.4);\n  cursor: default;\n\n  line-height: 20px!important;\n  text-transform: uppercase;\n  text-align: center;\n  position: relative;\n`;\n\nconst Index = css`\n  ${Text12x700Mixin};\n  color: #6B6889!important;\n  text-align: center;\n  height: 20px;\n  margin-bottom: 2px;\n`;\n","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var referenceElement = state.elements.reference;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(referenceElement);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import { FunctionComponent, h} from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\ninterface Props {\n  className?: string;\n}\n\nexport const CompactChampionAbilitiesOrderSkeleton: FunctionComponent<Props> = props => {\n  const { className } = props;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n      <div className={Item}><div className={Index}/><div className={AbilityKeySymbol}/></div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n`;\n\nconst Item = css`\n  margin-left: 4px;\n\n  &:first-child{\n    margin: 0;\n  }\n`;\n\nconst AbilityKeySymbol = css`\n  width: 20px;\n  height: 20px;\n  border-radius: 3px;\n  background: #3C385C;\n  cursor: default;\n  position: relative;\n`;\n\nconst Index = css`\n  background: #3C385C;\n  height: 20px;\n  margin-bottom: 4px;\n`;\n","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","const { defaults } = require('./defaults.js');\nconst {\n  cleanUrl,\n  escape\n} = require('./helpers.js');\n\n/**\n * Renderer\n */\nmodule.exports = class Renderer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  code(code, infostring, escaped) {\n    const lang = (infostring || '').match(/\\S*/)[0];\n    if (this.options.highlight) {\n      const out = this.options.highlight(code, lang);\n      if (out != null && out !== code) {\n        escaped = true;\n        code = out;\n      }\n    }\n\n    if (!lang) {\n      return '<pre><code>'\n        + (escaped ? code : escape(code, true))\n        + '</code></pre>';\n    }\n\n    return '<pre><code class=\"'\n      + this.options.langPrefix\n      + escape(lang, true)\n      + '\">'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>\\n';\n  };\n\n  blockquote(quote) {\n    return '<blockquote>\\n' + quote + '</blockquote>\\n';\n  };\n\n  html(html) {\n    return html;\n  };\n\n  heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      return '<h'\n        + level\n        + ' id=\"'\n        + this.options.headerPrefix\n        + slugger.slug(raw)\n        + '\">'\n        + text\n        + '</h'\n        + level\n        + '>\\n';\n    }\n    // ignore IDs\n    return '<h' + level + '>' + text + '</h' + level + '>\\n';\n  };\n\n  hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  };\n\n  list(body, ordered, start) {\n    const type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  };\n\n  listitem(text) {\n    return '<li>' + text + '</li>\\n';\n  };\n\n  checkbox(checked) {\n    return '<input '\n      + (checked ? 'checked=\"\" ' : '')\n      + 'disabled=\"\" type=\"checkbox\"'\n      + (this.options.xhtml ? ' /' : '')\n      + '> ';\n  };\n\n  paragraph(text) {\n    return '<p>' + text + '</p>\\n';\n  };\n\n  table(header, body) {\n    if (body) body = '<tbody>' + body + '</tbody>';\n\n    return '<table>\\n'\n      + '<thead>\\n'\n      + header\n      + '</thead>\\n'\n      + body\n      + '</table>\\n';\n  };\n\n  tablerow(content) {\n    return '<tr>\\n' + content + '</tr>\\n';\n  };\n\n  tablecell(content, flags) {\n    const type = flags.header ? 'th' : 'td';\n    const tag = flags.align\n      ? '<' + type + ' align=\"' + flags.align + '\">'\n      : '<' + type + '>';\n    return tag + content + '</' + type + '>\\n';\n  };\n\n  // span level renderer\n  strong(text) {\n    return '<strong>' + text + '</strong>';\n  };\n\n  em(text) {\n    return '<em>' + text + '</em>';\n  };\n\n  codespan(text) {\n    return '<code>' + text + '</code>';\n  };\n\n  br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  };\n\n  del(text) {\n    return '<del>' + text + '</del>';\n  };\n\n  link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n    let out = '<a href=\"' + escape(href) + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += '>' + text + '</a>';\n    return out;\n  };\n\n  image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n\n    let out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  };\n\n  text(text) {\n    return text;\n  };\n};\n","const preact = require('preact');\nconst Markup = require('preact-markup').default;\nconst marked = require('marked');\n\nmodule.exports = Markdown;\n\nfunction Markdown(props, opts) {\n  opts = opts || {};\n  const h = opts.h || preact.h;\n  let markdown;\n  if (typeof props === 'string') {\n    markdown = props;\n    props = {};\n  } else if (props && typeof props.markdown === 'string') {\n    markdown = props.markdown;\n  } else {\n    throw new Error('Invalid arguments. Markdown requires either a `<String>` or object: `{markdown: <String>}`');\n  }\n\n  const markupOpts = props.markupOpts || opts.markupOpts || {};\n  const markdownOpts = props.markdownOpts || opts.markdownOpts || {};\n\n  return h(Markup, Object.assign({\n    markup: marked(markdown, markdownOpts),\n    trim: false,\n    type: 'html',\n  }, markupOpts));\n}\n","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","import { NString } from '../../common/types/lang';\nimport { Region, Rolename } from '../types/gql-dynamic/globalTypes';\nimport { validateStrEnumValue } from '../../common/utils/lang';\n\nexport function validateRolename(value: NString): Rolename | null {\n  return value ? validateStrEnumValue<Rolename>(Rolename, value.toUpperCase()) : null;\n}\n\nexport const validateRegion = (value: NString): Region | null => {\n  return validateStrEnumValue<Region>(Region, value);\n};\n","export { default as ReactNativeFile } from './ReactNativeFile.js';\nexport { default as extractFiles } from './extractFiles.js';\nexport { default as isExtractableFile } from './isExtractableFile.js';\n","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","import { FunctionComponent, h} from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { Spells } from '../../../components/spells/spells.component';\nimport { ItemsBuildChain } from '../../../components/items-build/items-build-chain.component';\nimport { RunesBuildCompactBlock } from '../../../components/runes/runes-build-compact/runes-build-compact.component';\nimport { CompactChampionAbilitiesOrder } from '../../../components/champion-abilities-order/compact-champion-abilities-order.component';\nimport { CompactChampionAbilitiesOrderBar } from '../../../components/champion-abilities-order-bar/compact-champion-abilities-order-bar.component';\nimport { formatRunesData } from '../../../components/runes/utils';\nimport { RunesComponentProps } from '../../../components/runes/types';\nimport { IsCompactBlock } from '../../../components/is-compact/ic-compact-widget.component';\nimport { RunesBuildBlock } from '../../../components/runes/runes-build/runes-build.component';\nimport { ChampionAbilitiesOrderBar } from '../../../components/champion-abilities-order-bar/champion-abilities-order-bar.component';\nimport { ChampionAbilitiesOrder } from '../../../components/champion-abilities-order/champion-abilities-order.component';\nimport { Nullable } from '../../../../common/types/lang';\nimport { Ability } from '../../../components/champion-abilities-order/types';\nimport { ItemsBuildT } from '../../../components/items-build/types';\nimport { SkillKey } from '../../../types/gql-dynamic/globalTypes';\nimport { Text12x500Mixin } from '../../../ui/typography';\nimport { t } from '../../../../common/i18n/i18n';\n\ninterface Props {\n  abilities: Nullable<Ability[]>;\n  itemsBuild: Nullable<ItemsBuildT[]>;\n  skillOrder: Nullable<SkillKey[]>;\n  abilitiesOrder: Nullable<Ability[]>;\n  skillMaxOrder: Nullable<SkillKey[]>;\n  spells: Nullable<number[]>;\n  perks: Nullable<{ IDs: Nullable<number[]>; style: number; subStyle: number; }>;\n\n  isCompact: boolean;\n  isSmall: boolean;\n  className?: string;\n}\n\nexport const ChampionBuildWidgetBody: FunctionComponent<Props> = props => {\n  const { abilities, itemsBuild, skillOrder, abilitiesOrder, skillMaxOrder, spells, perks } = props;\n  const { isCompact, isSmall, className } = props;\n\n  return (\n    <div className={clsx(Content, className)}>\n      <div className={clsx(Row, !isCompact && FlexEnd)}>\n        <div className={clsx(isSmall && CompactRunesWrapper, Col)}>\n          <div className={Title}>{t('Runes')}</div>\n          <div>\n            {perks?.IDs && (\n              <IsCompactBlock<RunesComponentProps>\n                componentProps={{\n                  keystone:perks.IDs[0],\n                  runes:formatRunesData(perks.IDs),\n                  style:perks?.style,\n                  subStyle:perks?.subStyle,\n                }}\n                CompactWidget={RunesBuildCompactBlock}\n                LargeWidget={RunesBuildBlock}\n                isCompact={isCompact}\n              />\n            )}\n          </div>\n        </div>\n\n        <div className={Col}>\n          <div className={Title}>{t('Spells')}</div>\n          <div>\n            {spells && <Spells spells={spells} className={SpellsStyle} />}\n          </div>\n        </div>\n      </div>\n\n      <div className={Col}>\n        <div className={Title}>{t('Items')}</div>\n        <div>\n          {itemsBuild && <ItemsBuildChain itemsBuild={itemsBuild}/>}\n        </div>\n      </div>\n\n      <div className={clsx(Col, SkillOrderRow)}>\n\n        {!isCompact && abilities && skillOrder && (\n          <div>\n            <div className={TitleWrapper}>\n              <div className={Title}>{t('Skill Order')}</div>\n              {skillMaxOrder && <ChampionAbilitiesOrderBar skillsKeys={skillMaxOrder}/>}\n            </div>\n            <ChampionAbilitiesOrder abilities={abilities} skillOrder={skillOrder}/>\n          </div>\n        )}\n\n        {isCompact && (\n          <div className={SkillPriority}>\n            <div className={Title}>{t('Skill Priority')}</div>\n            {abilitiesOrder && (\n              <CompactChampionAbilitiesOrderBar\n                abilities={abilitiesOrder}\n                className={clsx(isCompact && !isSmall && AbilitiesOrder)}\n              />\n            )}\n          </div>\n        )}\n\n        {isCompact && !isSmall && (\n          <div>\n            <div className={Title}>{t('Skill Order')}</div>\n            {skillOrder && <CompactChampionAbilitiesOrder skillOrder={skillOrder}/>}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n\nconst Content = css`\n  width: 100%;\n  overflow: hidden;\n`;\n\nconst Col = css`\n  padding: 20px;\n  border-top: 1px solid #3c2d69;\n\n  &:first-child {\n    border: none;\n  }\n`;\n\nconst Row = css`\n  display: flex;\n  flex-wrap: wrap;\n  padding: 10px 20px;\n\n  & > div {\n    border: none;\n    padding: 10px 0;\n    margin-right: 20px;\n\n    &:last-child{\n      margin-right: 0;\n    }\n  }\n`;\n\nconst FlexEnd = css`\n  align-items: flex-end;\n`;\n\nconst CompactRunesWrapper = css`\n  margin-right: 0!important;\n`;\n\nconst Title = css`\n  ${Text12x500Mixin};\n  color: #fff!important;\n  text-transform: uppercase;\n  margin: 0 8px 8px 0;\n`;\n\nconst SpellsStyle = css`\n  margin-top: 12px;\n`;\n\nconst SkillPriority = css`\n  margin-right: 40px;\n`;\n\nconst AbilitiesOrder = css`\n  margin-bottom: 20px;\n`;\n\nconst TitleWrapper = css`\n  display: flex;\n  margin: 0 0 8px 0;\n\n  h3{\n    margin: 0 12px 0 0;\n  }\n`;\n\nconst SkillOrderRow = css`\n  display: flex;\n  flex-wrap: wrap;\n`;\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import options from './options';\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++options._vnodeId : original\n\t};\n\n\tif (options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children != null && // Can be null if childVNode suspended\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t// there are probably some internal data structures that aren't\n\t\t\t// updated properly.\n\t\t\t//\n\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t// value check in `diff()` won't be skipped.\n\t\t\tif (!isHydrating && newParentVNode.type === 'option') {\n\t\t\t\t// @ts-ignore We have validated that the type of parentDOM is 'option'\n\t\t\t\t// in the above check\n\t\t\t\tparentDom.value = '';\n\t\t\t} else if (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\tfor (let tmp = 0; tmp < childVNode._children.length; tmp++) {\n\t\tlet vnode = childVNode._children[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tchildVNode._children,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink[H:h]/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t(child === dom ||\n\t\t\t\t\t(nodeType ? child.localName == nodeType : child.nodeType == 3))\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren =\n\t\t\texcessDomChildren && EMPTY_ARR.slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tdom.firstChild,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value || (nodeType === 'progress' && !i))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type != 'function') {\n\t\tskipRemove = (dom = vnode._dom) != null;\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom != null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/i\n\t\t: /fil|che|ra/i\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nlet classNameDescriptor = {\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\tlet type = vnode.type;\n\tlet props = vnode.props;\n\tlet normalizedProps = props;\n\n\t// only normalize props on Element nodes\n\tif (typeof type === 'string') {\n\t\tnormalizedProps = {};\n\n\t\tfor (let i in props) {\n\t\t\tlet value = props[i];\n\n\t\t\tif (i === 'value' && 'defaultValue' in props && value == null) {\n\t\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t\t// a default value\n\t\t\t\tcontinue;\n\t\t\t} else if (\n\t\t\t\ti === 'defaultValue' &&\n\t\t\t\t'value' in props &&\n\t\t\t\tprops.value == null\n\t\t\t) {\n\t\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\t\ti = 'value';\n\t\t\t} else if (i === 'download' && value === true) {\n\t\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t\t// value will be used as the file name and the file will be called\n\t\t\t\t// \"true\" upon downloading it.\n\t\t\t\tvalue = '';\n\t\t\t} else if (/ondoubleclick/i.test(i)) {\n\t\t\t\ti = 'ondblclick';\n\t\t\t} else if (\n\t\t\t\t/^onchange(textarea|input)/i.test(i + type) &&\n\t\t\t\t!onChangeInputType(props.type)\n\t\t\t) {\n\t\t\t\ti = 'oninput';\n\t\t\t} else if (/^on(Ani|Tra|Tou|BeforeInp)/.test(i)) {\n\t\t\t\ti = i.toLowerCase();\n\t\t\t} else if (CAMEL_PROPS.test(i)) {\n\t\t\t\ti = i.replace(/[A-Z0-9]/, '-$&').toLowerCase();\n\t\t\t} else if (value === null) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\n\t\t\tnormalizedProps[i] = value;\n\t\t}\n\n\t\t// Add support for array select values: <select multiple value={[]} />\n\t\tif (\n\t\t\ttype == 'select' &&\n\t\t\tnormalizedProps.multiple &&\n\t\t\tArray.isArray(normalizedProps.value)\n\t\t) {\n\t\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t\t});\n\t\t}\n\n\t\t// Adding support for defaultValue in select tag\n\t\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tif (normalizedProps.multiple) {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t\t} else {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tvnode.props = normalizedProps;\n\t}\n\n\tif (type && props.class != props.className) {\n\t\tclassNameDescriptor.enumerable = 'className' in props;\n\t\tif (props.className != null) normalizedProps.class = props.className;\n\t\tObject.defineProperty(normalizedProps, 'className', classNameDescriptor);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function(vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import { assign } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError,\n\t_vnodeId: 0\n};\n\nexport default options;\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import { gql } from '../../../../common/utils/graphql';\n\nexport const SummonerSpellFragment = gql`\n  fragment SummonerSpellFragment on SummonersSpellsV1DataFlatDto {\n    riotId\n    slug\n    name\n    description\n    tooltip\n    stats {\n      slug\n      name\n      value\n    }\n  }\n`;\n\nexport const STATIC_SPELL_FRAGMENT = gql`\n  query LolSummonerSpellBySlug($filter: String!) {\n    spells: querySummonersSpellsV1Contents(filter: $filter) {\n      flatData {\n        ...SummonerSpellFragment\n      }\n    }\n  }\n  ${SummonerSpellFragment}\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { Nullable } from '../../../common/types/lang';\nimport { TierLevel } from '../../types/gql-dynamic/globalTypes';\nimport { championClassIcon, championPosterW400Image } from '../../utils/images';\nimport { TierIcon } from '../images/tier.component';\nimport { Text12x500Mixin, Text16x700Mixin } from '../../ui/typography';\n\ninterface Props {\n  championSlug: string;\n  championName: string;\n  tier: Nullable<TierLevel>;\n  championType: Nullable<{ slug: string; name: string }>;\n\n  className?: string;\n}\n\nexport const ChampionTooltipStatic: FunctionComponent<Props> = props => {\n  const { className } = props;\n  const { championName, championSlug, championType, tier } = props;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <img src={championPosterW400Image(championSlug)} alt={championName} className={CardBg} loading=\"lazy\" />\n      {tier && <TierIcon name={tier} className={Tier} />}\n      {championType && (\n        <div className={CardContent}>\n          <span>{championName}</span>\n          <div className={Row}>\n            <img\n              className={ChampionType}\n              src={championClassIcon(championType.slug)}\n              alt={championType.name}\n              loading=\"lazy\"\n            />\n            {championType.name}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  width: 170px;\n  height: 164px;\n  overflow: hidden;\n  position: relative;\n  border-right: 1px solid #141136;\n\n  padding: 14px 12px;\n\n  &:after {\n    display: block;\n    content: '';\n    background-image: radial-gradient(farthest-side, rgba(33, 29, 69, 0.4), #151136);\n    position: absolute;\n    top: -5%;\n    right: -2%;\n    width: 130%;\n    height: 120%;\n  }\n`;\n\nconst CardBg = css`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: block;\n  width: 228px;\n  max-width: 228px!important;\n  height: 164px;\n`;\n\nconst Row = css`\n  display: flex;\n`;\n\nconst CardContent = css`\n  ${Text12x500Mixin};\n  color: #fff!important;\n  position: relative;\n  z-index: 2;\n\n  & > span {\n    ${Text16x700Mixin};\n    display: block;\n    color: #fff!important;\n    margin-bottom: 4px;\n  }\n`;\n\nconst ChampionType = css`\n  width: 16px;\n  height: 16px;\n  filter: brightness(0) saturate(100%) invert(43%) sepia(23%) saturate(486%) hue-rotate(206deg) brightness(90%) contrast(88%);\n  margin-right: 4px;\n`;\n\nconst Tier = css`\n  width: 20px;\n  height: auto;\n  position: absolute;\n  top: 16px;\n  right: 12px;\n\n  z-index: 2;\n`;\n","import { Tooltips } from '../common/types/widgets';\nimport { FunctionComponent, h, render } from 'preact';\nimport { collectPropsFromElement } from '../common/utils/dom-scanner';\n\nimport ChampionTooltipWidget from '../lol/widgets/champion-tooltip-widget/champion-tooltip-widget.component';\nimport { NString } from '../common/types/lang';\nimport { useErrorBoundary } from 'preact/hooks';\n\ninterface Props {\n  // host element\n  hostElement: Element;\n\n  // tooltip type\n  dataMobaTooltip?: NString;\n}\n\nconst TooltipEntrypoint: FunctionComponent<Props> = props => {\n  // global error boundaries to not block widgets rendering\n  const [error] = useErrorBoundary();\n  if (error) {\n    return null;\n  }\n\n  // render async tooltip base on tooltip type\n  switch (props.dataMobaTooltip) {\n    case Tooltips.LOL_CHAMPION_TOOLTIP:\n      return <ChampionTooltipWidget hostElement={props.hostElement} />;\n    default:\n      // todo: log error\n      return null;\n  }\n};\n\nexport const mountTooltipHostElements = (elements: NodeListOf<Element>): void => {\n  elements.forEach(el => {\n    if (!el.__isMobaMounted) {\n      // mark node as mounded\n      el.__isMobaMounted = true;\n      // collect host element props\n      const props = collectPropsFromElement(el);\n      // render tooltip to document body (in fact just adds event listener)\n      render(h<Props>(TooltipEntrypoint, { ...props, hostElement: el }), el, undefined);\n    }\n  });\n};\n","import { FunctionComponent, h } from 'preact';\nimport { gameItemIcon } from '../../utils/images';\nimport { useQuery } from 'graphql-hooks';\nimport { lolApi } from '../../api/api';\nimport { forwardRef } from 'preact/compat';\nimport { useEffect } from 'preact/hooks';\nimport { UniversalGameSubjectTooltip } from '../../../common/components/universal-game-subject-tooltip/universal-game-subject-tooltip.component';\nimport { STATIC_GAME_ITEM_BY_RIOT_ID } from '../../api/static/queries/game-item-by-riot-id.gql';\nimport { LolGameItemByRiotId, LolGameItemByRiotIdVariables } from '../../types/gql-static/LolGameItemByRiotId';\nimport { firstItem } from '../../../common/utils/list';\nimport { GlobalStyle } from '../../ui/global.mixin';\n\ninterface Props {\n  riotId: string;\n  onDataLoaded?(): void;\n  className?: string;\n}\n\nexport const ItemTooltip: FunctionComponent<Props> = forwardRef<HTMLDivElement, Props>((props, ref) => {\n  const { riotId, onDataLoaded, className } = props;\n  const { loading, error, data } = useQuery<LolGameItemByRiotId, LolGameItemByRiotIdVariables>(STATIC_GAME_ITEM_BY_RIOT_ID, {\n    variables: { filter: `data/riotId/iv eq ${riotId}` },\n    client: lolApi.staticDataClient,\n  });\n\n  useEffect(() => {\n    !loading && !error && !!data && onDataLoaded?.();\n  }, [loading, error, data, onDataLoaded]);\n\n  // todo: log error\n  if (loading || error || !data) {\n    return null;\n  }\n\n  const item = firstItem(data.items)?.flatData;\n\n  return (\n    <div ref={ref} className={className}>\n      <UniversalGameSubjectTooltip\n        name={item?.name}\n        iconName={item?.name}\n        iconUrl={gameItemIcon(riotId)}\n        description={item?.effectDescription}\n        className={GlobalStyle}\n      />\n    </div>\n  );\n});\n","import format from \"./format.js\";\nimport { modifierPhases } from \"../enums.js\";\nvar INVALID_MODIFIER_ERROR = 'Popper: modifier \"%s\" provided an invalid %s property, expected %s but got %s';\nvar MISSING_DEPENDENCY_ERROR = 'Popper: modifier \"%s\" requires \"%s\", but \"%s\" modifier is not available';\nvar VALID_PROPERTIES = ['name', 'enabled', 'phase', 'fn', 'effect', 'requires', 'options'];\nexport default function validateModifiers(modifiers) {\n  modifiers.forEach(function (modifier) {\n    Object.keys(modifier).forEach(function (key) {\n      switch (key) {\n        case 'name':\n          if (typeof modifier.name !== 'string') {\n            console.error(format(INVALID_MODIFIER_ERROR, String(modifier.name), '\"name\"', '\"string\"', \"\\\"\" + String(modifier.name) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'enabled':\n          if (typeof modifier.enabled !== 'boolean') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"enabled\"', '\"boolean\"', \"\\\"\" + String(modifier.enabled) + \"\\\"\"));\n          }\n\n        case 'phase':\n          if (modifierPhases.indexOf(modifier.phase) < 0) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"phase\"', \"either \" + modifierPhases.join(', '), \"\\\"\" + String(modifier.phase) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'fn':\n          if (typeof modifier.fn !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"fn\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'effect':\n          if (typeof modifier.effect !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"effect\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requires':\n          if (!Array.isArray(modifier.requires)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requires\"', '\"array\"', \"\\\"\" + String(modifier.requires) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requiresIfExists':\n          if (!Array.isArray(modifier.requiresIfExists)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requiresIfExists\"', '\"array\"', \"\\\"\" + String(modifier.requiresIfExists) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'options':\n        case 'data':\n          break;\n\n        default:\n          console.error(\"PopperJS: an invalid property has been provided to the \\\"\" + modifier.name + \"\\\" modifier, valid properties are \" + VALID_PROPERTIES.map(function (s) {\n            return \"\\\"\" + s + \"\\\"\";\n          }).join(', ') + \"; but \\\"\" + key + \"\\\" was provided.\");\n      }\n\n      modifier.requires && modifier.requires.forEach(function (requirement) {\n        if (modifiers.find(function (mod) {\n          return mod.name === requirement;\n        }) == null) {\n          console.error(format(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement));\n        }\n      });\n    });\n  });\n}","export function formatPercent(value: number, precision: number = 1): string {\n  return `${value.toFixed(precision)}%`;\n}\n","import React, { useRef, useContext, useEffect } from 'react';\nimport { isExtractableFile, extractFiles } from 'extract-files';\nimport { dequal } from 'dequal';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar ClientContext = React.createContext();\nClientContext.displayName = 'ClientContext';\n\nvar isExtractableFileEnhanced = function isExtractableFileEnhanced(value) {\n  return isExtractableFile(value) || // Check if stream\n  // https://github.com/sindresorhus/is-stream/blob/3750505b0727f6df54324784fe369365ef78841e/index.js#L3\n  value !== null && typeof value === 'object' && typeof value.pipe === 'function';\n};\n\nvar canUseDOM = (function () {\n  return typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined';\n});\n\nvar GraphQLClient = /*#__PURE__*/function () {\n  function GraphQLClient(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    // validate config\n    if (!config.url) {\n      throw new Error('GraphQLClient: config.url is required');\n    }\n\n    if (config.fetch && typeof config.fetch !== 'function') {\n      throw new Error('GraphQLClient: config.fetch must be a function');\n    }\n\n    if ((canUseDOM() || config.ssrMode) && !config.fetch && !fetch) {\n      throw new Error('GraphQLClient: fetch must be polyfilled or passed in new GraphQLClient({ fetch })');\n    }\n\n    if (config.ssrMode && !config.cache) {\n      throw new Error('GraphQLClient: config.cache is required when in ssrMode');\n    }\n\n    this.cache = config.cache;\n    this.headers = config.headers || {};\n    this.ssrMode = config.ssrMode;\n    this.ssrPromises = [];\n    this.url = config.url;\n    this.fetch = config.fetch || typeof fetch !== 'undefined' && fetch && fetch.bind();\n    this.fetchOptions = config.fetchOptions || {};\n    this.FormData = config.FormData || (typeof FormData !== 'undefined' ? FormData : undefined);\n    this.logErrors = config.logErrors !== undefined ? config.logErrors : true;\n    this.onError = config.onError;\n    this.useGETForQueries = config.useGETForQueries === true;\n    this.subscriptionClient = config.subscriptionClient;\n  }\n\n  var _proto = GraphQLClient.prototype;\n\n  _proto.setHeader = function setHeader(key, value) {\n    this.headers[key] = value;\n    return this;\n  };\n\n  _proto.setHeaders = function setHeaders(headers) {\n    this.headers = headers;\n    return this;\n  };\n\n  _proto.removeHeader = function removeHeader(key) {\n    delete this.headers[key];\n    return this;\n  }\n  /* eslint-disable no-console */\n  ;\n\n  _proto.logErrorResult = function logErrorResult(_ref) {\n    var result = _ref.result,\n        operation = _ref.operation;\n    console.error('GraphQL Hooks Error');\n    console.groupCollapsed('---> Full Error Details');\n    console.groupCollapsed('Operation:');\n    console.log(operation);\n    console.groupEnd();\n    var error = result.error;\n\n    if (error) {\n      if (error.fetchError) {\n        console.groupCollapsed('FETCH ERROR:');\n        console.log(error.fetchError);\n        console.groupEnd();\n      }\n\n      if (error.httpError) {\n        console.groupCollapsed('HTTP ERROR:');\n        console.log(error.httpError);\n        console.groupEnd();\n      }\n\n      if (error.graphQLErrors && error.graphQLErrors.length > 0) {\n        console.groupCollapsed('GRAPHQL ERROR:');\n        error.graphQLErrors.forEach(function (err) {\n          return console.log(err);\n        });\n        console.groupEnd();\n      }\n    }\n\n    console.groupEnd();\n  }\n  /* eslint-enable no-console */\n  ;\n\n  _proto.generateResult = function generateResult(_ref2) {\n    var fetchError = _ref2.fetchError,\n        httpError = _ref2.httpError,\n        graphQLErrors = _ref2.graphQLErrors,\n        data = _ref2.data;\n    var errorFound = !!(graphQLErrors && graphQLErrors.length > 0 || fetchError || httpError);\n    return !errorFound ? {\n      data: data\n    } : {\n      data: data,\n      error: {\n        fetchError: fetchError,\n        httpError: httpError,\n        graphQLErrors: graphQLErrors\n      }\n    };\n  };\n\n  _proto.getCacheKey = function getCacheKey(operation, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var fetchOptions = _objectSpread2(_objectSpread2({}, this.fetchOptions), options.fetchOptionsOverrides);\n\n    return {\n      operation: operation,\n      fetchOptions: fetchOptions\n    };\n  };\n\n  _proto.getCache = function getCache(cacheKey) {\n    var cacheHit = this.cache ? this.cache.get(cacheKey) : null;\n\n    if (cacheHit) {\n      return cacheHit;\n    }\n  };\n\n  _proto.saveCache = function saveCache(cacheKey, value) {\n    if (this.cache) {\n      this.cache.set(cacheKey, value);\n    }\n  } // Kudos to Jayden Seric (@jaydenseric) for this piece of code.\n  // See original source: https://github.com/jaydenseric/graphql-react/blob/82d576b5fe6664c4a01cd928d79f33ddc3f7bbfd/src/universal/graphqlFetchOptions.mjs.\n  ;\n\n  _proto.getFetchOptions = function getFetchOptions(operation, fetchOptionsOverrides) {\n    if (fetchOptionsOverrides === void 0) {\n      fetchOptionsOverrides = {};\n    }\n\n    var fetchOptions = _objectSpread2(_objectSpread2({\n      method: 'POST',\n      headers: _objectSpread2({}, this.headers)\n    }, this.fetchOptions), fetchOptionsOverrides);\n\n    if (fetchOptions.method === 'GET') {\n      return fetchOptions;\n    }\n\n    var _extractFiles = extractFiles(operation, '', isExtractableFileEnhanced),\n        clone = _extractFiles.clone,\n        files = _extractFiles.files;\n\n    var operationJSON = JSON.stringify(clone);\n\n    if (files.size) {\n      // See the GraphQL multipart request spec:\n      // https://github.com/jaydenseric/graphql-multipart-request-spec\n      if (!this.FormData) {\n        throw new Error('GraphQLClient: FormData must be polyfilled or passed in new GraphQLClient({ FormData })');\n      }\n\n      var form = new this.FormData();\n      form.append('operations', operationJSON);\n      var map = {};\n      var i = 0;\n      files.forEach(function (paths) {\n        map[++i] = paths;\n      });\n      form.append('map', JSON.stringify(map));\n      i = 0;\n      files.forEach(function (paths, file) {\n        form.append(\"\" + ++i, file, file.name);\n      });\n      fetchOptions.body = form;\n    } else {\n      fetchOptions.headers['Content-Type'] = 'application/json';\n      fetchOptions.body = operationJSON;\n    }\n\n    return fetchOptions;\n  };\n\n  _proto.request = function request(operation, options) {\n    var _this = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var url = this.url;\n    var fetchOptions = this.getFetchOptions(operation, options.fetchOptionsOverrides);\n\n    if (fetchOptions.method === 'GET') {\n      var paramsQueryString = Object.entries(operation).filter(function (_ref3) {\n        var v = _ref3[1];\n        return !!v;\n      }).map(function (_ref4) {\n        var k = _ref4[0],\n            v = _ref4[1];\n\n        if (k === 'variables') {\n          v = JSON.stringify(v);\n        }\n\n        return k + \"=\" + encodeURIComponent(v);\n      }).join('&');\n      url = url + '?' + paramsQueryString;\n    }\n\n    return this.fetch(url, this.getFetchOptions(operation, options.fetchOptionsOverrides)).then(function (response) {\n      if (!response.ok) {\n        return response.text().then(function (body) {\n          var status = response.status,\n              statusText = response.statusText;\n          return _this.generateResult({\n            httpError: {\n              status: status,\n              statusText: statusText,\n              body: body\n            }\n          });\n        });\n      } else {\n        return response.json().then(function (_ref5) {\n          var errors = _ref5.errors,\n              data = _ref5.data;\n          return _this.generateResult({\n            graphQLErrors: errors,\n            data: data\n          });\n        });\n      }\n    }).catch(function (error) {\n      return _this.generateResult({\n        fetchError: error\n      });\n    }).then(function (result) {\n      if (result.error) {\n        if (_this.logErrors) {\n          _this.logErrorResult({\n            result: result,\n            operation: operation\n          });\n        }\n\n        if (_this.onError) {\n          _this.onError({\n            result: result,\n            operation: operation\n          });\n        }\n      }\n\n      return result;\n    });\n  };\n\n  _proto.createSubscription = function createSubscription(operation) {\n    var _this2 = this;\n\n    if (!this.subscriptionClient) {\n      throw new Error('No SubscriptionClient! Please set in the constructor.');\n    }\n\n    if (typeof this.subscriptionClient.subscribe === 'function') {\n      // graphql-ws\n      return {\n        subscribe: function subscribe(sink) {\n          return {\n            unsubscribe: _this2.subscriptionClient.subscribe(operation, sink)\n          };\n        }\n      };\n    } else {\n      // subscriptions-transport-ws\n      return this.subscriptionClient.request(operation);\n    }\n  };\n\n  return GraphQLClient;\n}();\n\nvar actionTypes = {\n  RESET_STATE: 'RESET_STATE',\n  LOADING: 'LOADING',\n  CACHE_HIT: 'CACHE_HIT',\n  REQUEST_RESULT: 'REQUEST_RESULT'\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case actionTypes.RESET_STATE:\n      return action.initialState;\n\n    case actionTypes.LOADING:\n      // if the previous action resulted in an error - refetch should clear any errors\n      if (state.error) {\n        return _objectSpread2(_objectSpread2({}, action.initialState), {}, {\n          data: state.data,\n          loading: true\n        });\n      }\n\n      if (state.loading) {\n        return state; // saves a render cycle as state is the same\n      }\n\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        loading: true\n      });\n\n    case actionTypes.CACHE_HIT:\n      if (state.cacheHit && !action.resetState) {\n        // we can be sure this is the same cacheKey hit\n        // because we dispatch RESET_STATE if it changes\n        return state;\n      }\n\n      return _objectSpread2(_objectSpread2({}, action.result), {}, {\n        cacheHit: true,\n        loading: false\n      });\n\n    case actionTypes.REQUEST_RESULT:\n      return _objectSpread2(_objectSpread2({}, action.result), {}, {\n        data: state.data && action.result.data && action.updateData ? action.updateData(state.data, action.result.data) : action.result.data,\n        cacheHit: false,\n        loading: false\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction useDeepCompareCallback(callback, deps) {\n  var ref = React.useRef();\n\n  if (!dequal(deps, ref.current)) {\n    ref.current = deps;\n  }\n\n  return React.useCallback(callback, ref.current);\n}\n/*\n  options include:\n\n  opts.variables: Object\n  opts.operationName: String\n  opts.fetchOptionsOverrides: Object\n  opts.skipCache: Boolean\n*/\n\n\nfunction useClientRequest(query, initialOpts) {\n  if (initialOpts === void 0) {\n    initialOpts = {};\n  }\n\n  if (typeof query !== 'string') {\n    throw new Error('Your query must be a string. If you are using the `gql` template literal from graphql-tag, remove it from your query.');\n  }\n\n  var contextClient = React.useContext(ClientContext);\n  var client = initialOpts.client || contextClient;\n  var isMounted = React.useRef(true);\n  var activeCacheKey = React.useRef(null);\n  var operation = {\n    query: query,\n    variables: initialOpts.variables,\n    operationName: initialOpts.operationName,\n    persisted: initialOpts.persisted\n  };\n\n  if (initialOpts.persisted || client.useGETForQueries && !initialOpts.isMutation) {\n    initialOpts.fetchOptionsOverrides = _objectSpread2(_objectSpread2({}, initialOpts.fetchOptionsOverrides), {}, {\n      method: 'GET'\n    });\n  }\n\n  var cacheKey = client.getCacheKey(operation, initialOpts);\n  var isDeferred = initialOpts.isMutation || initialOpts.isManual;\n  var initialCacheHit = initialOpts.skipCache || !client.cache ? null : client.cache.get(cacheKey);\n\n  var initialState = _objectSpread2(_objectSpread2({}, initialCacheHit), {}, {\n    cacheHit: !!initialCacheHit,\n    loading: isDeferred ? false : !initialCacheHit\n  });\n\n  var _React$useReducer = React.useReducer(reducer, initialState),\n      state = _React$useReducer[0],\n      dispatch = _React$useReducer[1]; // NOTE: state from useReducer is only initialState on the first render\n  // in subsequent renders the operation could have changed\n  // if so the state would be invalid, this effect ensures we reset it back\n\n\n  var stringifiedCacheKey = JSON.stringify(cacheKey);\n  React.useEffect(function () {\n    if (!initialOpts.updateData) {\n      // if using updateData we can assume that the consumer cares about the previous data\n      dispatch({\n        type: actionTypes.RESET_STATE,\n        initialState: initialState\n      });\n    }\n  }, [stringifiedCacheKey]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  React.useEffect(function () {\n    isMounted.current = true;\n    return function () {\n      isMounted.current = false;\n    };\n  }, []); // arguments to fetchData override the useClientRequest arguments\n\n  var fetchData = useDeepCompareCallback(function (newOpts) {\n    if (!isMounted.current) return Promise.resolve();\n\n    var revisedOpts = _objectSpread2(_objectSpread2({}, initialOpts), newOpts);\n\n    var revisedOperation = _objectSpread2(_objectSpread2({}, operation), {}, {\n      variables: revisedOpts.variables,\n      operationName: revisedOpts.operationName\n    });\n\n    var revisedCacheKey = client.getCacheKey(revisedOperation, revisedOpts); // NOTE: There is a possibility of a race condition whereby\n    // the second query could finish before the first one, dispatching an old result\n    // see https://github.com/nearform/graphql-hooks/issues/150\n\n    activeCacheKey.current = revisedCacheKey;\n    var cacheHit = revisedOpts.skipCache ? null : client.getCache(revisedCacheKey);\n\n    if (cacheHit) {\n      dispatch({\n        type: actionTypes.CACHE_HIT,\n        result: cacheHit,\n        resetState: stringifiedCacheKey !== JSON.stringify(state.cacheKey)\n      });\n      return Promise.resolve(cacheHit);\n    }\n\n    dispatch({\n      type: actionTypes.LOADING,\n      initialState: initialState\n    });\n    return client.request(revisedOperation, revisedOpts).then(function (result) {\n      if (revisedOpts.updateData && typeof revisedOpts.updateData !== 'function') {\n        throw new Error('options.updateData must be a function');\n      }\n\n      var actionResult = _objectSpread2({}, result);\n\n      if (revisedOpts.useCache) {\n        actionResult.useCache = true;\n        actionResult.cacheKey = revisedCacheKey;\n\n        if (client.ssrMode) {\n          var cacheValue = {\n            error: actionResult.error,\n            data: revisedOpts.updateData ? revisedOpts.updateData(state.data, actionResult.data) : actionResult.data\n          };\n          client.saveCache(revisedCacheKey, cacheValue);\n        }\n      }\n\n      if (isMounted.current && revisedCacheKey === activeCacheKey.current) {\n        dispatch({\n          type: actionTypes.REQUEST_RESULT,\n          updateData: revisedOpts.updateData,\n          result: actionResult\n        });\n      }\n\n      return result;\n    });\n  }, [client, initialOpts, operation]); // We perform caching after reducer update\n  // To include the outcome of updateData\n\n  React.useEffect(function () {\n    if (state.useCache) {\n      client.saveCache(state.cacheKey, state);\n    }\n  }, [client, state]);\n\n  var reset = function reset(desiredState) {\n    if (desiredState === void 0) {\n      desiredState = {};\n    }\n\n    return dispatch({\n      type: actionTypes.RESET_STATE,\n      initialState: _objectSpread2(_objectSpread2({}, initialState), desiredState)\n    });\n  };\n\n  return [fetchData, state, reset];\n}\n\nvar defaultOpts = {\n  useCache: true\n};\n\nfunction useQuery(query, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  var allOpts = _objectSpread2(_objectSpread2({}, defaultOpts), opts);\n\n  var contextClient = React.useContext(ClientContext);\n  var client = opts.client || contextClient;\n\n  var _React$useState = React.useState(false),\n      calledDuringSSR = _React$useState[0],\n      setCalledDuringSSR = _React$useState[1];\n\n  var _useClientRequest = useClientRequest(query, allOpts),\n      queryReq = _useClientRequest[0],\n      state = _useClientRequest[1];\n\n  if (client.ssrMode && opts.ssr !== false && !calledDuringSSR && !opts.skipCache) {\n    // result may already be in the cache from previous SSR iterations\n    if (!state.data && !state.error) {\n      var p = queryReq();\n      client.ssrPromises.push(p);\n    }\n\n    setCalledDuringSSR(true);\n  }\n\n  var stringifiedAllOpts = JSON.stringify(allOpts);\n  React.useEffect(function () {\n    queryReq();\n  }, [query, stringifiedAllOpts]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return _objectSpread2(_objectSpread2({}, state), {}, {\n    refetch: React.useCallback(function (options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      return queryReq(_objectSpread2({\n        skipCache: true,\n        // don't call the updateData that has been passed into useQuery here\n        // reset to the default behaviour of returning the raw query result\n        // this can be overridden in refetch options\n        updateData: function updateData(_, data) {\n          return data;\n        }\n      }, options));\n    }, [queryReq])\n  });\n}\n\nfunction useSubscription(options, callback) {\n  var callbackRef = useRef(callback);\n  callbackRef.current = callback;\n  var contextClient = useContext(ClientContext);\n  var client = options.client || contextClient;\n  var request = {\n    query: options.query,\n    variables: options.variables\n  };\n  useEffect(function () {\n    var observable = client.createSubscription(request);\n    var subscription = observable.subscribe({\n      next: function next(result) {\n        callbackRef.current(result);\n      },\n      error: function error() {\n        // TODO-db-210611 errors are important, why not handle them?\n        subscription.unsubscribe();\n      },\n      complete: function complete() {\n        subscription.unsubscribe();\n      }\n    });\n    return function () {\n      subscription.unsubscribe();\n    };\n  }, []); // eslint-disable-line\n  // the effect should be run when component is mounted and unmounted\n}\n\nvar useManualQuery = function useManualQuery(query, options) {\n  return useClientRequest(query, _objectSpread2({\n    useCache: true,\n    isManual: true\n  }, options));\n};\n\nvar useMutation = function useMutation(query, options) {\n  return useClientRequest(query, _objectSpread2({\n    isMutation: true\n  }, options));\n};\n\nexport { ClientContext, GraphQLClient, useClientRequest, useManualQuery, useMutation, useQuery, useSubscription };\n","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function(props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\t// We always have ref in props.ref, except for\n\t// mobx-react. It will call this function directly\n\t// and always pass ref as the second argument.\n\tfunction Forwarded(props, ref) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\tref = props.ref || ref;\n\t\treturn fn(\n\t\t\tclone,\n\t\t\t!ref || (typeof ref === 'object' && !('current' in ref)) ? null : ref\n\t\t);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function(error, newVNode, oldVNode) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function(vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function(promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function() {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function(props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function(child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function(props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate = SuspenseList.prototype.componentDidMount = function() {\n\t// Iterate through all children after mounting for two reasons:\n\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t//    The nodes can now be completely consumed from the linked list.\n\t// 2. Handle nodes that might have gotten resolved between render and\n\t//    componentDidMount.\n\tthis._map.forEach((node, child) => {\n\t\tresolve(this, child, node);\n\t});\n};\n","import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function() {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props._vnode) {\n\t\tif (!_this._temp) {\n\t\t\t_this._container = container;\n\n\t\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t\t_this._temp = {\n\t\t\t\tnodeType: 1,\n\t\t\t\tparentNode: container,\n\t\t\t\tchildNodes: [],\n\t\t\t\tappendChild(child) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tinsertBefore(child, before) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tremoveChild(child) {\n\t\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t\t_this._container.removeChild(child);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Render our wrapping element into temp.\n\t\trender(\n\t\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t\t_this._temp\n\t\t);\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._temp) {\n\t\t_this.componentWillUnmount();\n\t}\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\treturn createElement(Portal, { _vnode: vnode, _container: container });\n}\n","// This file includes experimental React APIs exported from the \"scheduler\"\n// npm package. Despite being explicitely marked as unstable some libraries\n// already make use of them. This file is not a full replacement for the\n// scheduler package, but includes the necessary shims to make those libraries\n// work with Preact.\n\nexport const unstable_ImmediatePriority = 1;\nexport const unstable_UserBlockingPriority = 2;\nexport const unstable_NormalPriority = 3;\nexport const unstable_LowPriority = 4;\nexport const unstable_IdlePriority = 5;\n\n/**\n * @param {number} priority\n * @param {() => void} callback\n */\nexport function unstable_runWithPriority(priority, callback) {\n\treturn callback();\n}\n\nexport const unstable_now =\n\ttypeof performance === 'object' && typeof performance.now === 'function'\n\t\t? performance.now.bind(performance)\n\t\t: () => Date.now();\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","import {BasePlacement, Placement} from './types';\n\nexport function hasOwnProperty(obj: object, key: string): boolean {\n  return {}.hasOwnProperty.call(obj, key);\n}\n\nexport function getValueAtIndexOrReturn<T>(\n  value: T | [T | null, T | null],\n  index: number,\n  defaultValue: T | [T, T]\n): T {\n  if (Array.isArray(value)) {\n    const v = value[index];\n    return v == null\n      ? Array.isArray(defaultValue)\n        ? defaultValue[index]\n        : defaultValue\n      : v;\n  }\n\n  return value;\n}\n\nexport function isType(value: any, type: string): boolean {\n  const str = {}.toString.call(value);\n  return str.indexOf('[object') === 0 && str.indexOf(`${type}]`) > -1;\n}\n\nexport function invokeWithArgsOrReturn(value: any, args: any[]): any {\n  return typeof value === 'function' ? value(...args) : value;\n}\n\nexport function debounce<T>(\n  fn: (arg: T) => void,\n  ms: number\n): (arg: T) => void {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn;\n  }\n\n  let timeout: any;\n\n  return (arg): void => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      fn(arg);\n    }, ms);\n  };\n}\n\nexport function removeProperties<T>(obj: T, keys: string[]): Partial<T> {\n  const clone = {...obj};\n  keys.forEach((key) => {\n    delete (clone as any)[key];\n  });\n  return clone;\n}\n\nexport function splitBySpaces(value: string): string[] {\n  return value.split(/\\s+/).filter(Boolean);\n}\n\nexport function normalizeToArray<T>(value: T | T[]): T[] {\n  return ([] as T[]).concat(value);\n}\n\nexport function pushIfUnique<T>(arr: T[], value: T): void {\n  if (arr.indexOf(value) === -1) {\n    arr.push(value);\n  }\n}\n\nexport function appendPxIfNumber(value: string | number): string {\n  return typeof value === 'number' ? `${value}px` : value;\n}\n\nexport function unique<T>(arr: T[]): T[] {\n  return arr.filter((item, index) => arr.indexOf(item) === index);\n}\n\nexport function getNumber(value: string | number): number {\n  return typeof value === 'number' ? value : parseFloat(value);\n}\n\nexport function getBasePlacement(placement: Placement): BasePlacement {\n  return placement.split('-')[0] as BasePlacement;\n}\n\nexport function arrayFrom(value: ArrayLike<any>): any[] {\n  return [].slice.call(value);\n}\n\nexport function removeUndefinedProps(\n  obj: Record<string, unknown>\n): Partial<Record<string, unknown>> {\n  return Object.keys(obj).reduce((acc, key) => {\n    if (obj[key] !== undefined) {\n      (acc as any)[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n","import {ReferenceElement, Targets} from './types';\nimport {PopperTreeData} from './types-internal';\nimport {arrayFrom, isType, normalizeToArray, getBasePlacement} from './utils';\n\nexport function div(): HTMLDivElement {\n  return document.createElement('div');\n}\n\nexport function isElement(value: unknown): value is Element | DocumentFragment {\n  return ['Element', 'Fragment'].some((type) => isType(value, type));\n}\n\nexport function isNodeList(value: unknown): value is NodeList {\n  return isType(value, 'NodeList');\n}\n\nexport function isMouseEvent(value: unknown): value is MouseEvent {\n  return isType(value, 'MouseEvent');\n}\n\nexport function isReferenceElement(value: any): value is ReferenceElement {\n  return !!(value && value._tippy && value._tippy.reference === value);\n}\n\nexport function getArrayOfElements(value: Targets): Element[] {\n  if (isElement(value)) {\n    return [value];\n  }\n\n  if (isNodeList(value)) {\n    return arrayFrom(value);\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return arrayFrom(document.querySelectorAll(value));\n}\n\nexport function setTransitionDuration(\n  els: (HTMLDivElement | null)[],\n  value: number\n): void {\n  els.forEach((el) => {\n    if (el) {\n      el.style.transitionDuration = `${value}ms`;\n    }\n  });\n}\n\nexport function setVisibilityState(\n  els: (HTMLDivElement | null)[],\n  state: 'visible' | 'hidden'\n): void {\n  els.forEach((el) => {\n    if (el) {\n      el.setAttribute('data-state', state);\n    }\n  });\n}\n\nexport function getOwnerDocument(\n  elementOrElements: Element | Element[]\n): Document {\n  const [element] = normalizeToArray(elementOrElements);\n\n  // Elements created via a <template> have an ownerDocument with no reference to the body\n  return element?.ownerDocument?.body ? element.ownerDocument : document;\n}\n\nexport function isCursorOutsideInteractiveBorder(\n  popperTreeData: PopperTreeData[],\n  event: MouseEvent\n): boolean {\n  const {clientX, clientY} = event;\n\n  return popperTreeData.every(({popperRect, popperState, props}) => {\n    const {interactiveBorder} = props;\n    const basePlacement = getBasePlacement(popperState.placement);\n    const offsetData = popperState.modifiersData.offset;\n\n    if (!offsetData) {\n      return true;\n    }\n\n    const topDistance = basePlacement === 'bottom' ? offsetData.top!.y : 0;\n    const bottomDistance = basePlacement === 'top' ? offsetData.bottom!.y : 0;\n    const leftDistance = basePlacement === 'right' ? offsetData.left!.x : 0;\n    const rightDistance = basePlacement === 'left' ? offsetData.right!.x : 0;\n\n    const exceedsTop =\n      popperRect.top - clientY + topDistance > interactiveBorder;\n    const exceedsBottom =\n      clientY - popperRect.bottom - bottomDistance > interactiveBorder;\n    const exceedsLeft =\n      popperRect.left - clientX + leftDistance > interactiveBorder;\n    const exceedsRight =\n      clientX - popperRect.right - rightDistance > interactiveBorder;\n\n    return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n  });\n}\n\nexport function updateTransitionEndListener(\n  box: HTMLDivElement,\n  action: 'add' | 'remove',\n  listener: (event: TransitionEvent) => void\n): void {\n  const method = `${action}EventListener` as\n    | 'addEventListener'\n    | 'removeEventListener';\n\n  // some browsers apparently support `transition` (unprefixed) but only fire\n  // `webkitTransitionEnd`...\n  ['transitionend', 'webkitTransitionEnd'].forEach((event) => {\n    box[method](event, listener as EventListener);\n  });\n}\n","import {TOUCH_OPTIONS} from './constants';\nimport {isReferenceElement} from './dom-utils';\n\nexport const currentInput = {isTouch: false};\nlet lastMouseMoveTime = 0;\n\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\nexport function onDocumentTouchStart(): void {\n  if (currentInput.isTouch) {\n    return;\n  }\n\n  currentInput.isTouch = true;\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove);\n  }\n}\n\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\nexport function onDocumentMouseMove(): void {\n  const now = performance.now();\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false;\n\n    document.removeEventListener('mousemove', onDocumentMouseMove);\n  }\n\n  lastMouseMoveTime = now;\n}\n\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\nexport function onWindowBlur(): void {\n  const activeElement = document.activeElement as HTMLElement | null;\n\n  if (isReferenceElement(activeElement)) {\n    const instance = activeElement._tippy!;\n\n    if (activeElement.blur && !instance.state.isVisible) {\n      activeElement.blur();\n    }\n  }\n}\n\nexport default function bindGlobalEventListeners(): void {\n  document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);\n  window.addEventListener('blur', onWindowBlur);\n}\n","import {DefaultProps, Plugin, Props, ReferenceElement, Tippy} from './types';\nimport {\n  hasOwnProperty,\n  removeProperties,\n  invokeWithArgsOrReturn,\n} from './utils';\nimport {warnWhen} from './validation';\n\nconst pluginProps = {\n  animateFill: false,\n  followCursor: false,\n  inlinePositioning: false,\n  sticky: false,\n};\n\nconst renderProps = {\n  allowHTML: false,\n  animation: 'fade',\n  arrow: true,\n  content: '',\n  inertia: false,\n  maxWidth: 350,\n  role: 'tooltip',\n  theme: '',\n  zIndex: 9999,\n};\n\nexport const defaultProps: DefaultProps = {\n  appendTo: () => document.body,\n  aria: {\n    content: 'auto',\n    expanded: 'auto',\n  },\n  delay: 0,\n  duration: [300, 250],\n  getReferenceClientRect: null,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  moveTransition: '',\n  offset: [0, 10],\n  onAfterUpdate() {},\n  onBeforeUpdate() {},\n  onCreate() {},\n  onDestroy() {},\n  onHidden() {},\n  onHide() {},\n  onMount() {},\n  onShow() {},\n  onShown() {},\n  onTrigger() {},\n  onUntrigger() {},\n  onClickOutside() {},\n  placement: 'top',\n  plugins: [],\n  popperOptions: {},\n  render: null,\n  showOnCreate: false,\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null,\n  ...pluginProps,\n  ...renderProps,\n};\n\nconst defaultKeys = Object.keys(defaultProps);\n\nexport const setDefaultProps: Tippy['setDefaultProps'] = (partialProps) => {\n  /* istanbul ignore else */\n  if (__DEV__) {\n    validateProps(partialProps, []);\n  }\n\n  const keys = Object.keys(partialProps) as Array<keyof DefaultProps>;\n  keys.forEach((key) => {\n    (defaultProps as any)[key] = partialProps[key];\n  });\n};\n\nexport function getExtendedPassedProps(\n  passedProps: Partial<Props> & Record<string, unknown>\n): Partial<Props> {\n  const plugins = passedProps.plugins || [];\n  const pluginProps = plugins.reduce<Record<string, unknown>>((acc, plugin) => {\n    const {name, defaultValue} = plugin;\n\n    if (name) {\n      acc[name] =\n        passedProps[name] !== undefined ? passedProps[name] : defaultValue;\n    }\n\n    return acc;\n  }, {});\n\n  return {\n    ...passedProps,\n    ...pluginProps,\n  };\n}\n\nexport function getDataAttributeProps(\n  reference: ReferenceElement,\n  plugins: Plugin[]\n): Record<string, unknown> {\n  const propKeys = plugins\n    ? Object.keys(getExtendedPassedProps({...defaultProps, plugins}))\n    : defaultKeys;\n\n  const props = propKeys.reduce(\n    (acc: Partial<Props> & Record<string, unknown>, key) => {\n      const valueAsString = (\n        reference.getAttribute(`data-tippy-${key}`) || ''\n      ).trim();\n\n      if (!valueAsString) {\n        return acc;\n      }\n\n      if (key === 'content') {\n        acc[key] = valueAsString;\n      } else {\n        try {\n          acc[key] = JSON.parse(valueAsString);\n        } catch (e) {\n          acc[key] = valueAsString;\n        }\n      }\n\n      return acc;\n    },\n    {}\n  );\n\n  return props;\n}\n\nexport function evaluateProps(\n  reference: ReferenceElement,\n  props: Props\n): Props {\n  const out = {\n    ...props,\n    content: invokeWithArgsOrReturn(props.content, [reference]),\n    ...(props.ignoreAttributes\n      ? {}\n      : getDataAttributeProps(reference, props.plugins)),\n  };\n\n  out.aria = {\n    ...defaultProps.aria,\n    ...out.aria,\n  };\n\n  out.aria = {\n    expanded:\n      out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,\n    content:\n      out.aria.content === 'auto'\n        ? props.interactive\n          ? null\n          : 'describedby'\n        : out.aria.content,\n  };\n\n  return out;\n}\n\nexport function validateProps(\n  partialProps: Partial<Props> = {},\n  plugins: Plugin[] = []\n): void {\n  const keys = Object.keys(partialProps) as Array<keyof Props>;\n  keys.forEach((prop) => {\n    const nonPluginProps = removeProperties(\n      defaultProps,\n      Object.keys(pluginProps)\n    );\n\n    let didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop);\n\n    // Check if the prop exists in `plugins`\n    if (didPassUnknownProp) {\n      didPassUnknownProp =\n        plugins.filter((plugin) => plugin.name === prop).length === 0;\n    }\n\n    warnWhen(\n      didPassUnknownProp,\n      [\n        `\\`${prop}\\``,\n        \"is not a valid prop. You may have spelled it incorrectly, or if it's\",\n        'a plugin, forgot to pass it in an array as props.plugins.',\n        '\\n\\n',\n        'All props: https://atomiks.github.io/tippyjs/v6/all-props/\\n',\n        'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/',\n      ].join(' ')\n    );\n  });\n}\n","import {\n  ARROW_CLASS,\n  BACKDROP_CLASS,\n  BOX_CLASS,\n  CONTENT_CLASS,\n  SVG_ARROW_CLASS,\n} from './constants';\nimport {div, isElement} from './dom-utils';\nimport {Instance, PopperElement, Props} from './types';\nimport {PopperChildren} from './types-internal';\nimport {arrayFrom} from './utils';\n\n// Firefox extensions don't allow .innerHTML = \"...\" property. This tricks it.\nconst innerHTML = (): 'innerHTML' => 'innerHTML';\n\nfunction dangerouslySetInnerHTML(element: Element, html: string): void {\n  element[innerHTML()] = html;\n}\n\nfunction createArrowElement(value: Props['arrow']): HTMLDivElement {\n  const arrow = div();\n\n  if (value === true) {\n    arrow.className = ARROW_CLASS;\n  } else {\n    arrow.className = SVG_ARROW_CLASS;\n\n    if (isElement(value)) {\n      arrow.appendChild(value);\n    } else {\n      dangerouslySetInnerHTML(arrow, value as string);\n    }\n  }\n\n  return arrow;\n}\n\nexport function setContent(content: HTMLDivElement, props: Props): void {\n  if (isElement(props.content)) {\n    dangerouslySetInnerHTML(content, '');\n    content.appendChild(props.content);\n  } else if (typeof props.content !== 'function') {\n    if (props.allowHTML) {\n      dangerouslySetInnerHTML(content, props.content);\n    } else {\n      content.textContent = props.content;\n    }\n  }\n}\n\nexport function getChildren(popper: PopperElement): PopperChildren {\n  const box = popper.firstElementChild as HTMLDivElement;\n  const boxChildren = arrayFrom(box.children);\n\n  return {\n    box,\n    content: boxChildren.find((node) => node.classList.contains(CONTENT_CLASS)),\n    arrow: boxChildren.find(\n      (node) =>\n        node.classList.contains(ARROW_CLASS) ||\n        node.classList.contains(SVG_ARROW_CLASS)\n    ),\n    backdrop: boxChildren.find((node) =>\n      node.classList.contains(BACKDROP_CLASS)\n    ),\n  };\n}\n\nexport function render(\n  instance: Instance\n): {\n  popper: PopperElement;\n  onUpdate?: (prevProps: Props, nextProps: Props) => void;\n} {\n  const popper = div();\n\n  const box = div();\n  box.className = BOX_CLASS;\n  box.setAttribute('data-state', 'hidden');\n  box.setAttribute('tabindex', '-1');\n\n  const content = div();\n  content.className = CONTENT_CLASS;\n  content.setAttribute('data-state', 'hidden');\n\n  setContent(content, instance.props);\n\n  popper.appendChild(box);\n  box.appendChild(content);\n\n  onUpdate(instance.props, instance.props);\n\n  function onUpdate(prevProps: Props, nextProps: Props): void {\n    const {box, content, arrow} = getChildren(popper);\n\n    if (nextProps.theme) {\n      box.setAttribute('data-theme', nextProps.theme);\n    } else {\n      box.removeAttribute('data-theme');\n    }\n\n    if (typeof nextProps.animation === 'string') {\n      box.setAttribute('data-animation', nextProps.animation);\n    } else {\n      box.removeAttribute('data-animation');\n    }\n\n    if (nextProps.inertia) {\n      box.setAttribute('data-inertia', '');\n    } else {\n      box.removeAttribute('data-inertia');\n    }\n\n    box.style.maxWidth =\n      typeof nextProps.maxWidth === 'number'\n        ? `${nextProps.maxWidth}px`\n        : nextProps.maxWidth;\n\n    if (nextProps.role) {\n      box.setAttribute('role', nextProps.role);\n    } else {\n      box.removeAttribute('role');\n    }\n\n    if (\n      prevProps.content !== nextProps.content ||\n      prevProps.allowHTML !== nextProps.allowHTML\n    ) {\n      setContent(content, instance.props);\n    }\n\n    if (nextProps.arrow) {\n      if (!arrow) {\n        box.appendChild(createArrowElement(nextProps.arrow));\n      } else if (prevProps.arrow !== nextProps.arrow) {\n        box.removeChild(arrow);\n        box.appendChild(createArrowElement(nextProps.arrow));\n      }\n    } else if (arrow) {\n      box.removeChild(arrow!);\n    }\n  }\n\n  return {\n    popper,\n    onUpdate,\n  };\n}\n\n// Runtime check to identify if the render function is the default one; this\n// way we can apply default CSS transitions logic and it can be tree-shaken away\nrender.$$tippy = true;\n","export const ROUND_ARROW =\n  '<svg width=\"16\" height=\"6\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z\"></svg>';\n\nexport const BOX_CLASS = `__NAMESPACE_PREFIX__-box`;\nexport const CONTENT_CLASS = `__NAMESPACE_PREFIX__-content`;\nexport const BACKDROP_CLASS = `__NAMESPACE_PREFIX__-backdrop`;\nexport const ARROW_CLASS = `__NAMESPACE_PREFIX__-arrow`;\nexport const SVG_ARROW_CLASS = `__NAMESPACE_PREFIX__-svg-arrow`;\n\nexport const TOUCH_OPTIONS = {passive: true, capture: true};\n","import {createPopper, StrictModifiers, Modifier} from '@popperjs/core';\nimport {currentInput} from './bindGlobalEventListeners';\nimport {isIE} from './browser';\nimport {TOUCH_OPTIONS} from './constants';\nimport {\n  div,\n  getOwnerDocument,\n  isCursorOutsideInteractiveBorder,\n  isMouseEvent,\n  setTransitionDuration,\n  setVisibilityState,\n  updateTransitionEndListener,\n} from './dom-utils';\nimport {defaultProps, evaluateProps, getExtendedPassedProps} from './props';\nimport {getChildren} from './template';\nimport {\n  Content,\n  Instance,\n  LifecycleHooks,\n  PopperElement,\n  Props,\n  ReferenceElement,\n} from './types';\nimport {ListenerObject, PopperTreeData, PopperChildren} from './types-internal';\nimport {\n  arrayFrom,\n  debounce,\n  getValueAtIndexOrReturn,\n  invokeWithArgsOrReturn,\n  normalizeToArray,\n  pushIfUnique,\n  splitBySpaces,\n  unique,\n  removeUndefinedProps,\n} from './utils';\nimport {createMemoryLeakWarning, errorWhen, warnWhen} from './validation';\n\nlet idCounter = 1;\nlet mouseMoveListeners: ((event: MouseEvent) => void)[] = [];\n\n// Used by `hideAll()`\nexport let mountedInstances: Instance[] = [];\n\nexport default function createTippy(\n  reference: ReferenceElement,\n  passedProps: Partial<Props>\n): Instance {\n  const props = evaluateProps(reference, {\n    ...defaultProps,\n    ...getExtendedPassedProps(removeUndefinedProps(passedProps)),\n  });\n\n  // ===========================================================================\n  //  Private members\n  // ===========================================================================\n  let showTimeout: any;\n  let hideTimeout: any;\n  let scheduleHideAnimationFrame: number;\n  let isVisibleFromClick = false;\n  let didHideDueToDocumentMouseDown = false;\n  let didTouchMove = false;\n  let ignoreOnFirstUpdate = false;\n  let lastTriggerEvent: Event | undefined;\n  let currentTransitionEndListener: (event: TransitionEvent) => void;\n  let onFirstUpdate: () => void;\n  let listeners: ListenerObject[] = [];\n  let debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);\n  let currentTarget: Element;\n\n  // ===========================================================================\n  //  Public members\n  // ===========================================================================\n  const id = idCounter++;\n  const popperInstance = null;\n  const plugins = unique(props.plugins);\n\n  const state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false,\n  };\n\n  const instance: Instance = {\n    // properties\n    id,\n    reference,\n    popper: div(),\n    popperInstance,\n    props,\n    state,\n    plugins,\n    // methods\n    clearDelayTimeouts,\n    setProps,\n    setContent,\n    show,\n    hide,\n    hideWithInteractivity,\n    enable,\n    disable,\n    unmount,\n    destroy,\n  };\n\n  // TODO: Investigate why this early return causes a TDZ error in the tests \n  // it doesn't seem to happen in the browser\n  /* istanbul ignore if */\n  if (!props.render) {\n    if (__DEV__) {\n      errorWhen(true, 'render() function has not been supplied.');\n    }\n\n    return instance;\n  }\n\n  // ===========================================================================\n  // Initial mutations\n  // ===========================================================================\n  const {popper, onUpdate} = props.render(instance);\n\n  popper.setAttribute('data-__NAMESPACE_PREFIX__-root', '');\n  popper.id = `__NAMESPACE_PREFIX__-${instance.id}`;\n\n  instance.popper = popper;\n  reference._tippy = instance;\n  popper._tippy = instance;\n\n  const pluginsHooks = plugins.map((plugin) => plugin.fn(instance));\n  const hasAriaExpanded = reference.hasAttribute('aria-expanded');\n\n  addListeners();\n  handleAriaExpandedAttribute();\n  handleStyles();\n\n  invokeHook('onCreate', [instance]);\n\n  if (props.showOnCreate) {\n    scheduleShow();\n  }\n\n  // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n  popper.addEventListener('mouseenter', () => {\n    if (instance.props.interactive && instance.state.isVisible) {\n      instance.clearDelayTimeouts();\n    }\n  });\n\n  popper.addEventListener('mouseleave', (event) => {\n    if (\n      instance.props.interactive &&\n      instance.props.trigger.indexOf('mouseenter') >= 0\n    ) {\n      getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n      debouncedOnMouseMove(event);\n    }\n  });\n\n  return instance;\n\n  // ===========================================================================\n  //  Private methods\n  // ===========================================================================\n  function getNormalizedTouchSettings(): [string | boolean, number] {\n    const {touch} = instance.props;\n    return Array.isArray(touch) ? touch : [touch, 0];\n  }\n\n  function getIsCustomTouchBehavior(): boolean {\n    return getNormalizedTouchSettings()[0] === 'hold';\n  }\n\n  function getIsDefaultRenderFn(): boolean {\n    // @ts-ignore\n    return !!instance.props.render?.$$tippy;\n  }\n\n  function getCurrentTarget(): Element {\n    return currentTarget || reference;\n  }\n\n  function getDocument(): Document {\n    const parent = getCurrentTarget().parentNode as Element;\n    return parent ? getOwnerDocument(parent) : document;\n  }\n\n  function getDefaultTemplateChildren(): PopperChildren {\n    return getChildren(popper);\n  }\n\n  function getDelay(isShow: boolean): number {\n    // For touch or keyboard input, force `0` delay for UX reasons\n    // Also if the instance is mounted but not visible (transitioning out),\n    // ignore delay\n    if (\n      (instance.state.isMounted && !instance.state.isVisible) ||\n      currentInput.isTouch ||\n      (lastTriggerEvent && lastTriggerEvent.type === 'focus')\n    ) {\n      return 0;\n    }\n\n    return getValueAtIndexOrReturn(\n      instance.props.delay,\n      isShow ? 0 : 1,\n      defaultProps.delay\n    );\n  }\n\n  function handleStyles(): void {\n    popper.style.pointerEvents =\n      instance.props.interactive && instance.state.isVisible ? '' : 'none';\n    popper.style.zIndex = `${instance.props.zIndex}`;\n  }\n\n  function invokeHook(\n    hook: keyof LifecycleHooks,\n    args: [Instance, any?],\n    shouldInvokePropsHook = true\n  ): void {\n    pluginsHooks.forEach((pluginHooks) => {\n      if (pluginHooks[hook]) {\n        pluginHooks[hook]!(...args);\n      }\n    });\n\n    if (shouldInvokePropsHook) {\n      instance.props[hook](...args);\n    }\n  }\n\n  function handleAriaContentAttribute(): void {\n    const {aria} = instance.props;\n\n    if (!aria.content) {\n      return;\n    }\n\n    const attr = `aria-${aria.content}`;\n    const id = popper.id;\n    const nodes = normalizeToArray(instance.props.triggerTarget || reference);\n\n    nodes.forEach((node) => {\n      const currentValue = node.getAttribute(attr);\n\n      if (instance.state.isVisible) {\n        node.setAttribute(attr, currentValue ? `${currentValue} ${id}` : id);\n      } else {\n        const nextValue = currentValue && currentValue.replace(id, '').trim();\n\n        if (nextValue) {\n          node.setAttribute(attr, nextValue);\n        } else {\n          node.removeAttribute(attr);\n        }\n      }\n    });\n  }\n\n  function handleAriaExpandedAttribute(): void {\n    if (hasAriaExpanded || !instance.props.aria.expanded) {\n      return;\n    }\n\n    const nodes = normalizeToArray(instance.props.triggerTarget || reference);\n\n    nodes.forEach((node) => {\n      if (instance.props.interactive) {\n        node.setAttribute(\n          'aria-expanded',\n          instance.state.isVisible && node === getCurrentTarget()\n            ? 'true'\n            : 'false'\n        );\n      } else {\n        node.removeAttribute('aria-expanded');\n      }\n    });\n  }\n\n  function cleanupInteractiveMouseListeners(): void {\n    getDocument().removeEventListener('mousemove', debouncedOnMouseMove);\n    mouseMoveListeners = mouseMoveListeners.filter(\n      (listener) => listener !== debouncedOnMouseMove\n    );\n  }\n\n  function onDocumentPress(event: MouseEvent | TouchEvent): void {\n    // Moved finger to scroll instead of an intentional tap outside\n    if (currentInput.isTouch) {\n      if (didTouchMove || event.type === 'mousedown') {\n        return;\n      }\n    }\n\n    // Clicked on interactive popper\n    if (\n      instance.props.interactive &&\n      popper.contains(event.target as Element)\n    ) {\n      return;\n    }\n\n    // Clicked on the event listeners target\n    if (getCurrentTarget().contains(event.target as Element)) {\n      if (currentInput.isTouch) {\n        return;\n      }\n\n      if (\n        instance.state.isVisible &&\n        instance.props.trigger.indexOf('click') >= 0\n      ) {\n        return;\n      }\n    } else {\n      invokeHook('onClickOutside', [instance, event]);\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts();\n      instance.hide();\n\n      // `mousedown` event is fired right before `focus` if pressing the\n      // currentTarget. This lets a tippy with `focus` trigger know that it\n      // should not show\n      didHideDueToDocumentMouseDown = true;\n      setTimeout(() => {\n        didHideDueToDocumentMouseDown = false;\n      });\n\n      // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n      if (!instance.state.isMounted) {\n        removeDocumentPress();\n      }\n    }\n  }\n\n  function onTouchMove(): void {\n    didTouchMove = true;\n  }\n\n  function onTouchStart(): void {\n    didTouchMove = false;\n  }\n\n  function addDocumentPress(): void {\n    const doc = getDocument();\n    doc.addEventListener('mousedown', onDocumentPress, true);\n    doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function removeDocumentPress(): void {\n    const doc = getDocument();\n    doc.removeEventListener('mousedown', onDocumentPress, true);\n    doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function onTransitionedOut(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, () => {\n      if (\n        !instance.state.isVisible &&\n        popper.parentNode &&\n        popper.parentNode.contains(popper)\n      ) {\n        callback();\n      }\n    });\n  }\n\n  function onTransitionedIn(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, callback);\n  }\n\n  function onTransitionEnd(duration: number, callback: () => void): void {\n    const box = getDefaultTemplateChildren().box;\n\n    function listener(event: TransitionEvent): void {\n      if (event.target === box) {\n        updateTransitionEndListener(box, 'remove', listener);\n        callback();\n      }\n    }\n\n    // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n    if (duration === 0) {\n      return callback();\n    }\n\n    updateTransitionEndListener(box, 'remove', currentTransitionEndListener);\n    updateTransitionEndListener(box, 'add', listener);\n\n    currentTransitionEndListener = listener;\n  }\n\n  function on(\n    eventType: string,\n    handler: EventListener,\n    options: boolean | object = false\n  ): void {\n    const nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach((node) => {\n      node.addEventListener(eventType, handler, options);\n      listeners.push({node, eventType, handler, options});\n    });\n  }\n\n  function addListeners(): void {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, {passive: true});\n      on('touchend', onMouseLeave as EventListener, {passive: true});\n    }\n\n    splitBySpaces(instance.props.trigger).forEach((eventType) => {\n      if (eventType === 'manual') {\n        return;\n      }\n\n      on(eventType, onTrigger);\n\n      switch (eventType) {\n        case 'mouseenter':\n          on('mouseleave', onMouseLeave as EventListener);\n          break;\n        case 'focus':\n          on(isIE ? 'focusout' : 'blur', onBlurOrFocusOut as EventListener);\n          break;\n        case 'focusin':\n          on('focusout', onBlurOrFocusOut as EventListener);\n          break;\n      }\n    });\n  }\n\n  function removeListeners(): void {\n    listeners.forEach(({node, eventType, handler, options}: ListenerObject) => {\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function onTrigger(event: Event): void {\n    let shouldScheduleClickHide = false;\n\n    if (\n      !instance.state.isEnabled ||\n      isEventListenerStopped(event) ||\n      didHideDueToDocumentMouseDown\n    ) {\n      return;\n    }\n\n    const wasFocused = lastTriggerEvent?.type === 'focus';\n\n    lastTriggerEvent = event;\n    currentTarget = event.currentTarget as Element;\n\n    handleAriaExpandedAttribute();\n\n    if (!instance.state.isVisible && isMouseEvent(event)) {\n      // If scrolling, `mouseenter` events can be fired if the cursor lands\n      // over a new target, but `mousemove` events don't get fired. This\n      // causes interactive tooltips to get stuck open until the cursor is\n      // moved\n      mouseMoveListeners.forEach((listener) => listener(event));\n    }\n\n    // Toggle show/hide when clicking click-triggered tooltips\n    if (\n      event.type === 'click' &&\n      (instance.props.trigger.indexOf('mouseenter') < 0 ||\n        isVisibleFromClick) &&\n      instance.props.hideOnClick !== false &&\n      instance.state.isVisible\n    ) {\n      shouldScheduleClickHide = true;\n    } else {\n      scheduleShow(event);\n    }\n\n    if (event.type === 'click') {\n      isVisibleFromClick = !shouldScheduleClickHide;\n    }\n\n    if (shouldScheduleClickHide && !wasFocused) {\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseMove(event: MouseEvent): void {\n    const target = event.target as Node;\n    const isCursorOverReferenceOrPopper =\n      getCurrentTarget().contains(target) || popper.contains(target);\n\n    if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {\n      return;\n    }\n\n    const popperTreeData = getNestedPopperTree()\n      .concat(popper)\n      .map((popper) => {\n        const instance = popper._tippy!;\n        const state = instance.popperInstance?.state;\n\n        if (state) {\n          return {\n            popperRect: popper.getBoundingClientRect(),\n            popperState: state,\n            props,\n          };\n        }\n\n        return null;\n      })\n      .filter(Boolean) as PopperTreeData[];\n\n    if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n      cleanupInteractiveMouseListeners();\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseLeave(event: MouseEvent): void {\n    const shouldBail =\n      isEventListenerStopped(event) ||\n      (instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick);\n\n    if (shouldBail) {\n      return;\n    }\n\n    if (instance.props.interactive) {\n      instance.hideWithInteractivity(event);\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function onBlurOrFocusOut(event: FocusEvent): void {\n    if (\n      instance.props.trigger.indexOf('focusin') < 0 &&\n      event.target !== getCurrentTarget()\n    ) {\n      return;\n    }\n\n    // If focus was moved to within the popper\n    if (\n      instance.props.interactive &&\n      event.relatedTarget &&\n      popper.contains(event.relatedTarget as Element)\n    ) {\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function isEventListenerStopped(event: Event): boolean {\n    return currentInput.isTouch\n      ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0\n      : false;\n  }\n\n  function createPopperInstance(): void {\n    destroyPopperInstance();\n\n    const {\n      popperOptions,\n      placement,\n      offset,\n      getReferenceClientRect,\n      moveTransition,\n    } = instance.props;\n\n    const arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;\n\n    const computedReference = getReferenceClientRect\n      ? {\n          getBoundingClientRect: getReferenceClientRect,\n          contextElement:\n            getReferenceClientRect.contextElement || getCurrentTarget(),\n        }\n      : reference;\n\n    const tippyModifier: Modifier<'$$tippy', {}> = {\n      name: '$$tippy',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn({state}) {\n        if (getIsDefaultRenderFn()) {\n          const {box} = getDefaultTemplateChildren();\n\n          ['placement', 'reference-hidden', 'escaped'].forEach((attr) => {\n            if (attr === 'placement') {\n              box.setAttribute('data-placement', state.placement);\n            } else {\n              if (state.attributes.popper[`data-popper-${attr}`]) {\n                box.setAttribute(`data-${attr}`, '');\n              } else {\n                box.removeAttribute(`data-${attr}`);\n              }\n            }\n          });\n\n          state.attributes.popper = {};\n        }\n      },\n    };\n\n    type TippyModifier = Modifier<'$$tippy', {}>;\n    type ExtendedModifiers = StrictModifiers | Partial<TippyModifier>;\n\n    const modifiers: Array<ExtendedModifiers> = [\n      {\n        name: 'offset',\n        options: {\n          offset,\n        },\n      },\n      {\n        name: 'preventOverflow',\n        options: {\n          padding: {\n            top: 2,\n            bottom: 2,\n            left: 5,\n            right: 5,\n          },\n        },\n      },\n      {\n        name: 'flip',\n        options: {\n          padding: 5,\n        },\n      },\n      {\n        name: 'computeStyles',\n        options: {\n          adaptive: !moveTransition,\n        },\n      },\n      tippyModifier,\n    ];\n\n    if (getIsDefaultRenderFn() && arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 3,\n        },\n      });\n    }\n\n    modifiers.push(...(popperOptions?.modifiers || []));\n\n    instance.popperInstance = createPopper<ExtendedModifiers>(\n      computedReference,\n      popper,\n      {\n        ...popperOptions,\n        placement,\n        onFirstUpdate,\n        modifiers,\n      }\n    );\n  }\n\n  function destroyPopperInstance(): void {\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy();\n      instance.popperInstance = null;\n    }\n  }\n\n  function mount(): void {\n    const {appendTo} = instance.props;\n\n    let parentNode: any;\n\n    // By default, we'll append the popper to the triggerTargets's parentNode so\n    // it's directly after the reference element so the elements inside the\n    // tippy can be tabbed to\n    // If there are clipping issues, the user can specify a different appendTo\n    // and ensure focus management is handled correctly manually\n    const node = getCurrentTarget();\n\n    if (\n      (instance.props.interactive && appendTo === defaultProps.appendTo) ||\n      appendTo === 'parent'\n    ) {\n      parentNode = node.parentNode;\n    } else {\n      parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n    }\n\n    // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper needs to read its dimensions\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper);\n    }\n\n    createPopperInstance();\n\n    /* istanbul ignore else */\n    if (__DEV__) {\n      // Accessibility check\n      warnWhen(\n        instance.props.interactive &&\n          appendTo === defaultProps.appendTo &&\n          node.nextElementSibling !== popper,\n        [\n          'Interactive tippy element may not be accessible via keyboard',\n          'navigation because it is not directly after the reference element',\n          'in the DOM source order.',\n          '\\n\\n',\n          'Using a wrapper <div> or <span> tag around the reference element',\n          'solves this by creating a new parentNode context.',\n          '\\n\\n',\n          'Specifying `appendTo: document.body` silences this warning, but it',\n          'assumes you are using a focus management solution to handle',\n          'keyboard navigation.',\n          '\\n\\n',\n          'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity',\n        ].join(' ')\n      );\n    }\n  }\n\n  function getNestedPopperTree(): PopperElement[] {\n    return arrayFrom(\n      popper.querySelectorAll('[data-__NAMESPACE_PREFIX__-root]')\n    );\n  }\n\n  function scheduleShow(event?: Event): void {\n    instance.clearDelayTimeouts();\n\n    if (event) {\n      invokeHook('onTrigger', [instance, event]);\n    }\n\n    addDocumentPress();\n\n    let delay = getDelay(true);\n    const [touchValue, touchDelay] = getNormalizedTouchSettings();\n\n    if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {\n      delay = touchDelay;\n    }\n\n    if (delay) {\n      showTimeout = setTimeout(() => {\n        instance.show();\n      }, delay);\n    } else {\n      instance.show();\n    }\n  }\n\n  function scheduleHide(event: Event): void {\n    instance.clearDelayTimeouts();\n\n    invokeHook('onUntrigger', [instance, event]);\n\n    if (!instance.state.isVisible) {\n      removeDocumentPress();\n\n      return;\n    }\n\n    // For interactive tippies, scheduleHide is added to a document.body handler\n    // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n    // events when trigger contains mouseenter and click, and the tip is\n    // currently shown as a result of a click.\n    if (\n      instance.props.trigger.indexOf('mouseenter') >= 0 &&\n      instance.props.trigger.indexOf('click') >= 0 &&\n      ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 &&\n      isVisibleFromClick\n    ) {\n      return;\n    }\n\n    const delay = getDelay(false);\n\n    if (delay) {\n      hideTimeout = setTimeout(() => {\n        if (instance.state.isVisible) {\n          instance.hide();\n        }\n      }, delay);\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame(() => {\n        instance.hide();\n      });\n    }\n  }\n\n  // ===========================================================================\n  //  Public methods\n  // ===========================================================================\n  function enable(): void {\n    instance.state.isEnabled = true;\n  }\n\n  function disable(): void {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide();\n    instance.state.isEnabled = false;\n  }\n\n  function clearDelayTimeouts(): void {\n    clearTimeout(showTimeout);\n    clearTimeout(hideTimeout);\n    cancelAnimationFrame(scheduleHideAnimationFrame);\n  }\n\n  function setProps(partialProps: Partial<Props>): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    invokeHook('onBeforeUpdate', [instance, partialProps]);\n\n    removeListeners();\n\n    const prevProps = instance.props;\n    const nextProps = evaluateProps(reference, {\n      ...instance.props,\n      ...partialProps,\n      ignoreAttributes: true,\n    });\n\n    instance.props = nextProps;\n\n    addListeners();\n\n    if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n      cleanupInteractiveMouseListeners();\n      debouncedOnMouseMove = debounce(\n        onMouseMove,\n        nextProps.interactiveDebounce\n      );\n    }\n\n    // Ensure stale aria-expanded attributes are removed\n    if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n      normalizeToArray(prevProps.triggerTarget).forEach((node) => {\n        node.removeAttribute('aria-expanded');\n      });\n    } else if (nextProps.triggerTarget) {\n      reference.removeAttribute('aria-expanded');\n    }\n\n    handleAriaExpandedAttribute();\n    handleStyles();\n\n    if (onUpdate) {\n      onUpdate(prevProps, nextProps);\n    }\n\n    if (instance.popperInstance) {\n      createPopperInstance();\n\n      // Fixes an issue with nested tippies if they are all getting re-rendered,\n      // and the nested ones get re-rendered first.\n      // https://github.com/atomiks/tippyjs-react/issues/177\n      // TODO: find a cleaner / more efficient solution(!)\n      getNestedPopperTree().forEach((nestedPopper) => {\n        // React (and other UI libs likely) requires a rAF wrapper as it flushes\n        // its work in one\n        requestAnimationFrame(nestedPopper._tippy!.popperInstance!.forceUpdate);\n      });\n    }\n\n    invokeHook('onAfterUpdate', [instance, partialProps]);\n  }\n\n  function setContent(content: Content): void {\n    instance.setProps({content});\n  }\n\n  function show(): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));\n    }\n\n    // Early bail-out\n    const isAlreadyVisible = instance.state.isVisible;\n    const isDestroyed = instance.state.isDestroyed;\n    const isDisabled = !instance.state.isEnabled;\n    const isTouchAndTouchDisabled =\n      currentInput.isTouch && !instance.props.touch;\n    const duration = getValueAtIndexOrReturn(\n      instance.props.duration,\n      0,\n      defaultProps.duration\n    );\n\n    if (\n      isAlreadyVisible ||\n      isDestroyed ||\n      isDisabled ||\n      isTouchAndTouchDisabled\n    ) {\n      return;\n    }\n\n    // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n    if (getCurrentTarget().hasAttribute('disabled')) {\n      return;\n    }\n\n    invokeHook('onShow', [instance], false);\n    if (instance.props.onShow(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = true;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'visible';\n    }\n\n    handleStyles();\n    addDocumentPress();\n\n    if (!instance.state.isMounted) {\n      popper.style.transition = 'none';\n    }\n\n    // If flipping to the opposite side after hiding at least once, the\n    // animation will use the wrong placement without resetting the duration\n    if (getIsDefaultRenderFn()) {\n      const {box, content} = getDefaultTemplateChildren();\n      setTransitionDuration([box, content], 0);\n    }\n\n    onFirstUpdate = (): void => {\n      if (!instance.state.isVisible || ignoreOnFirstUpdate) {\n        return;\n      }\n\n      ignoreOnFirstUpdate = true;\n\n      // reflow\n      void popper.offsetHeight;\n\n      popper.style.transition = instance.props.moveTransition;\n\n      if (getIsDefaultRenderFn() && instance.props.animation) {\n        const {box, content} = getDefaultTemplateChildren();\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'visible');\n      }\n\n      handleAriaContentAttribute();\n      handleAriaExpandedAttribute();\n\n      pushIfUnique(mountedInstances, instance);\n\n      // certain modifiers (e.g. `maxSize`) require a second update after the\n      // popper has been positioned for the first time\n      instance.popperInstance?.forceUpdate();\n\n      instance.state.isMounted = true;\n      invokeHook('onMount', [instance]);\n\n      if (instance.props.animation && getIsDefaultRenderFn()) {\n        onTransitionedIn(duration, () => {\n          instance.state.isShown = true;\n          invokeHook('onShown', [instance]);\n        });\n      }\n    };\n\n    mount();\n  }\n\n  function hide(): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));\n    }\n\n    // Early bail-out\n    const isAlreadyHidden = !instance.state.isVisible;\n    const isDestroyed = instance.state.isDestroyed;\n    const isDisabled = !instance.state.isEnabled;\n    const duration = getValueAtIndexOrReturn(\n      instance.props.duration,\n      1,\n      defaultProps.duration\n    );\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return;\n    }\n\n    invokeHook('onHide', [instance], false);\n    if (instance.props.onHide(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = false;\n    instance.state.isShown = false;\n    ignoreOnFirstUpdate = false;\n    isVisibleFromClick = false;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'hidden';\n    }\n\n    cleanupInteractiveMouseListeners();\n    removeDocumentPress();\n    handleStyles();\n\n    if (getIsDefaultRenderFn()) {\n      const {box, content} = getDefaultTemplateChildren();\n\n      if (instance.props.animation) {\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'hidden');\n      }\n    }\n\n    handleAriaContentAttribute();\n    handleAriaExpandedAttribute();\n\n    if (instance.props.animation) {\n      if (getIsDefaultRenderFn()) {\n        onTransitionedOut(duration, instance.unmount);\n      }\n    } else {\n      instance.unmount();\n    }\n  }\n\n  function hideWithInteractivity(event: MouseEvent): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(\n        instance.state.isDestroyed,\n        createMemoryLeakWarning('hideWithInteractivity')\n      );\n    }\n\n    getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n    debouncedOnMouseMove(event);\n  }\n\n  function unmount(): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));\n    }\n\n    if (instance.state.isVisible) {\n      instance.hide();\n    }\n\n    if (!instance.state.isMounted) {\n      return;\n    }\n\n    destroyPopperInstance();\n\n    // If a popper is not interactive, it will be appended outside the popper\n    // tree by default. This seems mainly for interactive tippies, but we should\n    // find a workaround if possible\n    getNestedPopperTree().forEach((nestedPopper) => {\n      nestedPopper._tippy!.unmount();\n    });\n\n    if (popper.parentNode) {\n      popper.parentNode.removeChild(popper);\n    }\n\n    mountedInstances = mountedInstances.filter((i) => i !== instance);\n\n    instance.state.isMounted = false;\n    invokeHook('onHidden', [instance]);\n  }\n\n  function destroy(): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    instance.clearDelayTimeouts();\n    instance.unmount();\n\n    removeListeners();\n\n    delete reference._tippy;\n\n    instance.state.isDestroyed = true;\n\n    invokeHook('onDestroy', [instance]);\n  }\n}\n","import bindGlobalEventListeners, {\n  currentInput,\n} from './bindGlobalEventListeners';\nimport createTippy, {mountedInstances} from './createTippy';\nimport {getArrayOfElements, isElement, isReferenceElement} from './dom-utils';\nimport {defaultProps, setDefaultProps, validateProps} from './props';\nimport {HideAll, HideAllOptions, Instance, Props, Targets} from './types';\nimport {validateTargets, warnWhen} from './validation';\n\nfunction tippy(\n  targets: Targets,\n  optionalProps: Partial<Props> = {}\n): Instance | Instance[] {\n  const plugins = defaultProps.plugins.concat(optionalProps.plugins || []);\n\n  /* istanbul ignore else */\n  if (__DEV__) {\n    validateTargets(targets);\n    validateProps(optionalProps, plugins);\n  }\n\n  bindGlobalEventListeners();\n\n  const passedProps: Partial<Props> = {...optionalProps, plugins};\n\n  const elements = getArrayOfElements(targets);\n\n  /* istanbul ignore else */\n  if (__DEV__) {\n    const isSingleContentElement = isElement(passedProps.content);\n    const isMoreThanOneReferenceElement = elements.length > 1;\n    warnWhen(\n      isSingleContentElement && isMoreThanOneReferenceElement,\n      [\n        'tippy() was passed an Element as the `content` prop, but more than',\n        'one tippy instance was created by this invocation. This means the',\n        'content element will only be appended to the last tippy instance.',\n        '\\n\\n',\n        'Instead, pass the .innerHTML of the element, or use a function that',\n        'returns a cloned version of the element instead.',\n        '\\n\\n',\n        '1) content: element.innerHTML\\n',\n        '2) content: () => element.cloneNode(true)',\n      ].join(' ')\n    );\n  }\n\n  const instances = elements.reduce<Instance[]>(\n    (acc, reference): Instance[] => {\n      const instance = reference && createTippy(reference, passedProps);\n\n      if (instance) {\n        acc.push(instance);\n      }\n\n      return acc;\n    },\n    []\n  );\n\n  return isElement(targets) ? instances[0] : instances;\n}\n\ntippy.defaultProps = defaultProps;\ntippy.setDefaultProps = setDefaultProps;\ntippy.currentInput = currentInput;\n\nexport default tippy;\n\nexport const hideAll: HideAll = ({\n  exclude: excludedReferenceOrInstance,\n  duration,\n}: HideAllOptions = {}) => {\n  mountedInstances.forEach((instance) => {\n    let isExcluded = false;\n\n    if (excludedReferenceOrInstance) {\n      isExcluded = isReferenceElement(excludedReferenceOrInstance)\n        ? instance.reference === excludedReferenceOrInstance\n        : instance.popper === (excludedReferenceOrInstance as Instance).popper;\n    }\n\n    if (!isExcluded) {\n      const originalDuration = instance.props.duration;\n\n      instance.setProps({duration});\n      instance.hide();\n\n      if (!instance.state.isDestroyed) {\n        instance.setProps({duration: originalDuration});\n      }\n    }\n  });\n};\n","import {getOwnerDocument, isMouseEvent} from '../dom-utils';\nimport {FollowCursor, Instance} from '../types';\n\nlet mouseCoords = {clientX: 0, clientY: 0};\nlet activeInstances: Array<{instance: Instance; doc: Document}> = [];\n\nfunction storeMouseCoords({clientX, clientY}: MouseEvent): void {\n  mouseCoords = {clientX, clientY};\n}\n\nfunction addMouseCoordsListener(doc: Document): void {\n  doc.addEventListener('mousemove', storeMouseCoords);\n}\n\nfunction removeMouseCoordsListener(doc: Document): void {\n  doc.removeEventListener('mousemove', storeMouseCoords);\n}\n\nconst followCursor: FollowCursor = {\n  name: 'followCursor',\n  defaultValue: false,\n  fn(instance) {\n    const reference = instance.reference;\n    const doc = getOwnerDocument(instance.props.triggerTarget || reference);\n\n    let isInternalUpdate = false;\n    let wasFocusEvent = false;\n    let isUnmounted = true;\n    let prevProps = instance.props;\n\n    function getIsInitialBehavior(): boolean {\n      return (\n        instance.props.followCursor === 'initial' && instance.state.isVisible\n      );\n    }\n\n    function addListener(): void {\n      doc.addEventListener('mousemove', onMouseMove);\n    }\n\n    function removeListener(): void {\n      doc.removeEventListener('mousemove', onMouseMove);\n    }\n\n    function unsetGetReferenceClientRect(): void {\n      isInternalUpdate = true;\n      instance.setProps({getReferenceClientRect: null});\n      isInternalUpdate = false;\n    }\n\n    function onMouseMove(event: MouseEvent): void {\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      const isCursorOverReference = event.target\n        ? reference.contains(event.target as Node)\n        : true;\n      const {followCursor} = instance.props;\n      const {clientX, clientY} = event;\n\n      const rect = reference.getBoundingClientRect();\n      const relativeX = clientX - rect.left;\n      const relativeY = clientY - rect.top;\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.setProps({\n          getReferenceClientRect() {\n            const rect = reference.getBoundingClientRect();\n\n            let x = clientX;\n            let y = clientY;\n\n            if (followCursor === 'initial') {\n              x = rect.left + relativeX;\n              y = rect.top + relativeY;\n            }\n\n            const top = followCursor === 'horizontal' ? rect.top : y;\n            const right = followCursor === 'vertical' ? rect.right : x;\n            const bottom = followCursor === 'horizontal' ? rect.bottom : y;\n            const left = followCursor === 'vertical' ? rect.left : x;\n\n            return {\n              width: right - left,\n              height: bottom - top,\n              top,\n              right,\n              bottom,\n              left,\n            };\n          },\n        });\n      }\n    }\n\n    function create(): void {\n      if (instance.props.followCursor) {\n        activeInstances.push({instance, doc});\n        addMouseCoordsListener(doc);\n      }\n    }\n\n    function destroy(): void {\n      activeInstances = activeInstances.filter(\n        (data) => data.instance !== instance\n      );\n\n      if (activeInstances.filter((data) => data.doc === doc).length === 0) {\n        removeMouseCoordsListener(doc);\n      }\n    }\n\n    return {\n      onCreate: create,\n      onDestroy: destroy,\n      onBeforeUpdate(): void {\n        prevProps = instance.props;\n      },\n      onAfterUpdate(_, {followCursor}): void {\n        if (isInternalUpdate) {\n          return;\n        }\n\n        if (\n          followCursor !== undefined &&\n          prevProps.followCursor !== followCursor\n        ) {\n          destroy();\n\n          if (followCursor) {\n            create();\n\n            if (\n              instance.state.isMounted &&\n              !wasFocusEvent &&\n              !getIsInitialBehavior()\n            ) {\n              addListener();\n            }\n          } else {\n            removeListener();\n            unsetGetReferenceClientRect();\n          }\n        }\n      },\n      onMount(): void {\n        if (instance.props.followCursor && !wasFocusEvent) {\n          if (isUnmounted) {\n            onMouseMove(mouseCoords as MouseEvent);\n            isUnmounted = false;\n          }\n\n          if (!getIsInitialBehavior()) {\n            addListener();\n          }\n        }\n      },\n      onTrigger(_, event): void {\n        if (isMouseEvent(event)) {\n          mouseCoords = {clientX: event.clientX, clientY: event.clientY};\n        }\n        wasFocusEvent = event.type === 'focus';\n      },\n      onHidden(): void {\n        if (instance.props.followCursor) {\n          unsetGetReferenceClientRect();\n          removeListener();\n          isUnmounted = true;\n        }\n      },\n    };\n  },\n};\n\nexport default followCursor;\n","import {VirtualElement} from '@popperjs/core';\nimport {ReferenceElement, Sticky} from '../types';\n\nconst sticky: Sticky = {\n  name: 'sticky',\n  defaultValue: false,\n  fn(instance) {\n    const {reference, popper} = instance;\n\n    function getReference(): ReferenceElement | VirtualElement {\n      return instance.popperInstance\n        ? instance.popperInstance.state.elements.reference\n        : reference;\n    }\n\n    function shouldCheck(value: 'reference' | 'popper'): boolean {\n      return instance.props.sticky === true || instance.props.sticky === value;\n    }\n\n    let prevRefRect: ClientRect | null = null;\n    let prevPopRect: ClientRect | null = null;\n\n    function updatePosition(): void {\n      const currentRefRect = shouldCheck('reference')\n        ? getReference().getBoundingClientRect()\n        : null;\n      const currentPopRect = shouldCheck('popper')\n        ? popper.getBoundingClientRect()\n        : null;\n\n      if (\n        (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect)) ||\n        (currentPopRect && areRectsDifferent(prevPopRect, currentPopRect))\n      ) {\n        if (instance.popperInstance) {\n          instance.popperInstance.update();\n        }\n      }\n\n      prevRefRect = currentRefRect;\n      prevPopRect = currentPopRect;\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition);\n      }\n    }\n\n    return {\n      onMount(): void {\n        if (instance.props.sticky) {\n          updatePosition();\n        }\n      },\n    };\n  },\n};\n\nexport default sticky;\n\nfunction areRectsDifferent(\n  rectA: ClientRect | null,\n  rectB: ClientRect | null\n): boolean {\n  if (rectA && rectB) {\n    return (\n      rectA.top !== rectB.top ||\n      rectA.right !== rectB.right ||\n      rectA.bottom !== rectB.bottom ||\n      rectA.left !== rectB.left\n    );\n  }\n\n  return true;\n}\n","import tippy from '..';\nimport {TOUCH_OPTIONS} from '../constants';\nimport {defaultProps} from '../props';\nimport {Instance, Props, Targets} from '../types';\nimport {ListenerObject} from '../types-internal';\nimport {normalizeToArray, removeProperties} from '../utils';\nimport {errorWhen} from '../validation';\n\nconst BUBBLING_EVENTS_MAP = {\n  mouseover: 'mouseenter',\n  focusin: 'focus',\n  click: 'click',\n};\n\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\nfunction delegate(\n  targets: Targets,\n  props: Partial<Props> & {target: string}\n): Instance | Instance[] {\n  /* istanbul ignore else */\n  if (__DEV__) {\n    errorWhen(\n      !(props && props.target),\n      [\n        'You must specity a `target` prop indicating a CSS selector string matching',\n        'the target elements that should receive a tippy.',\n      ].join(' ')\n    );\n  }\n\n  let listeners: ListenerObject[] = [];\n  let childTippyInstances: Instance[] = [];\n  let disabled = false;\n\n  const {target} = props;\n\n  const nativeProps = removeProperties(props, ['target']);\n  const parentProps = {...nativeProps, trigger: 'manual', touch: false};\n  const childProps = {...nativeProps, showOnCreate: true};\n\n  const returnValue = tippy(targets, parentProps);\n  const normalizedReturnValue = normalizeToArray(returnValue);\n\n  function onTrigger(event: Event): void {\n    if (!event.target || disabled) {\n      return;\n    }\n\n    const targetNode = (event.target as Element).closest(target);\n\n    if (!targetNode) {\n      return;\n    }\n\n    // Get relevant trigger with fallbacks:\n    // 1. Check `data-tippy-trigger` attribute on target node\n    // 2. Fallback to `trigger` passed to `delegate()`\n    // 3. Fallback to `defaultProps.trigger`\n    const trigger =\n      targetNode.getAttribute('data-tippy-trigger') ||\n      props.trigger ||\n      defaultProps.trigger;\n\n    // @ts-ignore\n    if (targetNode._tippy) {\n      return;\n    }\n\n    if (event.type === 'touchstart' && typeof childProps.touch === 'boolean') {\n      return;\n    }\n\n    if (\n      event.type !== 'touchstart' &&\n      trigger.indexOf((BUBBLING_EVENTS_MAP as any)[event.type]) < 0\n    ) {\n      return;\n    }\n\n    const instance = tippy(targetNode, childProps);\n\n    if (instance) {\n      childTippyInstances = childTippyInstances.concat(instance);\n    }\n  }\n\n  function on(\n    node: Element,\n    eventType: string,\n    handler: EventListener,\n    options: object | boolean = false\n  ): void {\n    node.addEventListener(eventType, handler, options);\n    listeners.push({node, eventType, handler, options});\n  }\n\n  function addEventListeners(instance: Instance): void {\n    const {reference} = instance;\n\n    on(reference, 'touchstart', onTrigger, TOUCH_OPTIONS);\n    on(reference, 'mouseover', onTrigger);\n    on(reference, 'focusin', onTrigger);\n    on(reference, 'click', onTrigger);\n  }\n\n  function removeEventListeners(): void {\n    listeners.forEach(({node, eventType, handler, options}: ListenerObject) => {\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function applyMutations(instance: Instance): void {\n    const originalDestroy = instance.destroy;\n    const originalEnable = instance.enable;\n    const originalDisable = instance.disable;\n\n    instance.destroy = (shouldDestroyChildInstances = true): void => {\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach((instance) => {\n          instance.destroy();\n        });\n      }\n\n      childTippyInstances = [];\n\n      removeEventListeners();\n      originalDestroy();\n    };\n\n    instance.enable = (): void => {\n      originalEnable();\n      childTippyInstances.forEach((instance) => instance.enable());\n      disabled = false;\n    };\n\n    instance.disable = (): void => {\n      originalDisable();\n      childTippyInstances.forEach((instance) => instance.disable());\n      disabled = true;\n    };\n\n    addEventListeners(instance);\n  }\n\n  normalizedReturnValue.forEach(applyMutations);\n\n  return returnValue;\n}\n\nexport default delegate;\n","export const isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst ua = isBrowser ? navigator.userAgent : '';\n\nexport const isIE = /MSIE |Trident\\//.test(ua);\n","import tippy from '..';\nimport {div} from '../dom-utils';\nimport {\n  CreateSingleton,\n  Plugin,\n  CreateSingletonProps,\n  ReferenceElement,\n  CreateSingletonInstance,\n  Instance,\n  Props,\n} from '../types';\nimport {removeProperties} from '../utils';\nimport {errorWhen} from '../validation';\nimport {applyStyles, Modifier} from '@popperjs/core';\n\n// The default `applyStyles` modifier has a cleanup function that gets called\n// every time the popper is destroyed (i.e. a new target), removing the styles\n// and causing transitions to break for singletons when the console is open, but\n// most notably for non-transform styles being used, `gpuAcceleration: false`.\nconst applyStylesModifier: Modifier<'applyStyles', {}> = {\n  ...applyStyles,\n  effect({state}) {\n    const initialStyles = {\n      popper: {\n        position: state.options.strategy,\n        left: '0',\n        top: '0',\n        margin: '0',\n      },\n      arrow: {\n        position: 'absolute',\n      },\n      reference: {},\n    };\n\n    Object.assign(state.elements.popper.style, initialStyles.popper);\n    state.styles = initialStyles;\n\n    if (state.elements.arrow) {\n      Object.assign(state.elements.arrow.style, initialStyles.arrow);\n    }\n\n    // intentionally return no cleanup function\n    // return () => { ... }\n  },\n};\n\nconst createSingleton: CreateSingleton = (\n  tippyInstances,\n  optionalProps = {}\n) => {\n  /* istanbul ignore else */\n  if (__DEV__) {\n    errorWhen(\n      !Array.isArray(tippyInstances),\n      [\n        'The first argument passed to createSingleton() must be an array of',\n        'tippy instances. The passed value was',\n        String(tippyInstances),\n      ].join(' ')\n    );\n  }\n\n  let individualInstances = tippyInstances;\n  let references: Array<ReferenceElement> = [];\n  let currentTarget: Element | null;\n  let overrides = optionalProps.overrides;\n  let interceptSetPropsCleanups: Array<() => void> = [];\n  let shownOnCreate = false;\n\n  function setReferences(): void {\n    references = individualInstances.map((instance) => instance.reference);\n  }\n\n  function enableInstances(isEnabled: boolean): void {\n    individualInstances.forEach((instance) => {\n      if (isEnabled) {\n        instance.enable();\n      } else {\n        instance.disable();\n      }\n    });\n  }\n\n  function interceptSetProps(singleton: Instance): Array<() => void> {\n    return individualInstances.map((instance) => {\n      const originalSetProps = instance.setProps;\n\n      instance.setProps = (props): void => {\n        originalSetProps(props);\n\n        if (instance.reference === currentTarget) {\n          singleton.setProps(props);\n        }\n      };\n\n      return (): void => {\n        instance.setProps = originalSetProps;\n      };\n    });\n  }\n\n  // have to pass singleton, as it maybe undefined on first call\n  function prepareInstance(\n    singleton: Instance,\n    target: ReferenceElement\n  ): void {\n    const index = references.indexOf(target);\n\n    // bail-out\n    if (target === currentTarget) {\n      return;\n    }\n\n    currentTarget = target;\n\n    const overrideProps: Partial<Props> = (overrides || [])\n      .concat('content')\n      .reduce((acc, prop) => {\n        (acc as any)[prop] = individualInstances[index].props[prop];\n        return acc;\n      }, {});\n\n    singleton.setProps({\n      ...overrideProps,\n      getReferenceClientRect:\n        typeof overrideProps.getReferenceClientRect === 'function'\n          ? overrideProps.getReferenceClientRect\n          : (): ClientRect => target.getBoundingClientRect(),\n    });\n  }\n\n  enableInstances(false);\n  setReferences();\n\n  const plugin: Plugin = {\n    fn() {\n      return {\n        onDestroy(): void {\n          enableInstances(true);\n        },\n        onHidden(): void {\n          currentTarget = null;\n        },\n        onClickOutside(instance): void {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            currentTarget = null;\n          }\n        },\n        onShow(instance): void {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            prepareInstance(instance, references[0]);\n          }\n        },\n        onTrigger(instance, event): void {\n          prepareInstance(instance, event.currentTarget as Element);\n        },\n      };\n    },\n  };\n\n  const singleton = tippy(div(), {\n    ...removeProperties(optionalProps, ['overrides']),\n    plugins: [plugin, ...(optionalProps.plugins || [])],\n    triggerTarget: references,\n    popperOptions: {\n      ...optionalProps.popperOptions,\n      modifiers: [\n        ...(optionalProps.popperOptions?.modifiers || []),\n        applyStylesModifier,\n      ],\n    },\n  }) as CreateSingletonInstance<CreateSingletonProps>;\n\n  const originalShow = singleton.show;\n\n  singleton.show = (target?: ReferenceElement | Instance | number): void => {\n    originalShow();\n\n    // first time, showOnCreate or programmatic call with no params\n    // default to showing first instance\n    if (!currentTarget && target == null) {\n      return prepareInstance(singleton, references[0]);\n    }\n\n    // triggered from event (do nothing as prepareInstance already called by onTrigger)\n    // programmatic call with no params when already visible (do nothing again)\n    if (currentTarget && target == null) {\n      return;\n    }\n\n    // target is index of instance\n    if (typeof target === 'number') {\n      return (\n        references[target] && prepareInstance(singleton, references[target])\n      );\n    }\n\n    // target is a child tippy instance\n    if (individualInstances.includes(target as Instance)) {\n      const ref = (target as Instance).reference;\n      return prepareInstance(singleton, ref);\n    }\n\n    // target is a ReferenceElement\n    if (references.includes(target as ReferenceElement)) {\n      return prepareInstance(singleton, target as ReferenceElement);\n    }\n  };\n\n  singleton.showNext = (): void => {\n    const first = references[0];\n    if (!currentTarget) {\n      return singleton.show(0);\n    }\n    const index = references.indexOf(currentTarget);\n    singleton.show(references[index + 1] || first);\n  };\n\n  singleton.showPrevious = (): void => {\n    const last = references[references.length - 1];\n    if (!currentTarget) {\n      return singleton.show(last);\n    }\n    const index = references.indexOf(currentTarget);\n    const target = references[index - 1] || last;\n    singleton.show(target);\n  };\n\n  const originalSetProps = singleton.setProps;\n\n  singleton.setProps = (props): void => {\n    overrides = props.overrides || overrides;\n    originalSetProps(props);\n  };\n\n  singleton.setInstances = (nextInstances): void => {\n    enableInstances(true);\n    interceptSetPropsCleanups.forEach((fn) => fn());\n\n    individualInstances = nextInstances;\n\n    enableInstances(false);\n    setReferences();\n    interceptSetProps(singleton);\n\n    singleton.setProps({triggerTarget: references});\n  };\n\n  interceptSetPropsCleanups = interceptSetProps(singleton);\n\n  return singleton;\n};\n\nexport default createSingleton;\n","import {BACKDROP_CLASS} from '../constants';\nimport {div, setVisibilityState} from '../dom-utils';\nimport {getChildren} from '../template';\nimport {AnimateFill} from '../types';\nimport {errorWhen} from '../validation';\n\nconst animateFill: AnimateFill = {\n  name: 'animateFill',\n  defaultValue: false,\n  fn(instance) {\n    // @ts-ignore\n    if (!instance.props.render?.$$tippy) {\n      if (__DEV__) {\n        errorWhen(\n          instance.props.animateFill,\n          'The `animateFill` plugin requires the default render function.'\n        );\n      }\n\n      return {};\n    }\n\n    const {box, content} = getChildren(instance.popper);\n\n    const backdrop = instance.props.animateFill\n      ? createBackdropElement()\n      : null;\n\n    return {\n      onCreate(): void {\n        if (backdrop) {\n          box.insertBefore(backdrop, box.firstElementChild!);\n          box.setAttribute('data-animatefill', '');\n          box.style.overflow = 'hidden';\n\n          instance.setProps({arrow: false, animation: 'shift-away'});\n        }\n      },\n      onMount(): void {\n        if (backdrop) {\n          const {transitionDuration} = box.style;\n          const duration = Number(transitionDuration.replace('ms', ''));\n\n          // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n          content.style.transitionDelay = `${Math.round(duration / 10)}ms`;\n\n          backdrop.style.transitionDuration = transitionDuration;\n          setVisibilityState([backdrop], 'visible');\n        }\n      },\n      onShow(): void {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms';\n        }\n      },\n      onHide(): void {\n        if (backdrop) {\n          setVisibilityState([backdrop], 'hidden');\n        }\n      },\n    };\n  },\n};\n\nexport default animateFill;\n\nfunction createBackdropElement(): HTMLDivElement {\n  const backdrop = div();\n  backdrop.className = BACKDROP_CLASS;\n  setVisibilityState([backdrop], 'hidden');\n  return backdrop;\n}\n","import {Modifier, Placement} from '@popperjs/core';\nimport {isMouseEvent} from '../dom-utils';\nimport {BasePlacement, InlinePositioning, Props} from '../types';\nimport {arrayFrom, getBasePlacement} from '../utils';\n\nfunction getProps(props: Props, modifier: Modifier<any, any>): Partial<Props> {\n  return {\n    popperOptions: {\n      ...props.popperOptions,\n      modifiers: [\n        ...(props.popperOptions?.modifiers || []).filter(\n          ({name}) => name !== modifier.name\n        ),\n        modifier,\n      ],\n    },\n  };\n}\n\nconst inlinePositioning: InlinePositioning = {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn(instance) {\n    const {reference} = instance;\n\n    function isEnabled(): boolean {\n      return !!instance.props.inlinePositioning;\n    }\n\n    let placement: Placement;\n    let cursorRectIndex = -1;\n    let isInternalUpdate = false;\n\n    const modifier: Modifier<'tippyInlinePositioning', {}> = {\n      name: 'tippyInlinePositioning',\n      enabled: true,\n      phase: 'afterWrite',\n      fn({state}) {\n        if (isEnabled()) {\n          if (placement !== state.placement) {\n            instance.setProps({\n              getReferenceClientRect: () =>\n                getReferenceClientRect(state.placement),\n            });\n          }\n\n          placement = state.placement;\n        }\n      },\n    };\n\n    function getReferenceClientRect(placement: Placement): ClientRect {\n      return getInlineBoundingClientRect(\n        getBasePlacement(placement),\n        reference.getBoundingClientRect(),\n        arrayFrom(reference.getClientRects()),\n        cursorRectIndex\n      );\n    }\n\n    function setInternalProps(partialProps: Partial<Props>): void {\n      isInternalUpdate = true;\n      instance.setProps(partialProps);\n      isInternalUpdate = false;\n    }\n\n    function addModifier(): void {\n      if (!isInternalUpdate) {\n        setInternalProps(getProps(instance.props, modifier));\n      }\n    }\n\n    return {\n      onCreate: addModifier,\n      onAfterUpdate: addModifier,\n      onTrigger(_, event): void {\n        if (isMouseEvent(event)) {\n          const rects = arrayFrom(instance.reference.getClientRects());\n          const cursorRect = rects.find(\n            (rect) =>\n              rect.left - 2 <= event.clientX &&\n              rect.right + 2 >= event.clientX &&\n              rect.top - 2 <= event.clientY &&\n              rect.bottom + 2 >= event.clientY\n          );\n\n          cursorRectIndex = rects.indexOf(cursorRect);\n        }\n      },\n      onUntrigger(): void {\n        cursorRectIndex = -1;\n      },\n    };\n  },\n};\n\nexport default inlinePositioning;\n\nexport function getInlineBoundingClientRect(\n  currentBasePlacement: BasePlacement | null,\n  boundingRect: ClientRect,\n  clientRects: ClientRect[],\n  cursorRectIndex: number\n): ClientRect {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect;\n  }\n\n  // There are two rects and they are disjoined\n  if (\n    clientRects.length === 2 &&\n    cursorRectIndex >= 0 &&\n    clientRects[0].left > clientRects[1].right\n  ) {\n    return clientRects[cursorRectIndex] || boundingRect;\n  }\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom': {\n      const firstRect = clientRects[0];\n      const lastRect = clientRects[clientRects.length - 1];\n      const isTop = currentBasePlacement === 'top';\n\n      const top = firstRect.top;\n      const bottom = lastRect.bottom;\n      const left = isTop ? firstRect.left : lastRect.left;\n      const right = isTop ? firstRect.right : lastRect.right;\n      const width = right - left;\n      const height = bottom - top;\n\n      return {top, bottom, left, right, width, height};\n    }\n    case 'left':\n    case 'right': {\n      const minLeft = Math.min(...clientRects.map((rects) => rects.left));\n      const maxRight = Math.max(...clientRects.map((rects) => rects.right));\n      const measureRects = clientRects.filter((rect) =>\n        currentBasePlacement === 'left'\n          ? rect.left === minLeft\n          : rect.right === maxRight\n      );\n\n      const top = measureRects[0].top;\n      const bottom = measureRects[measureRects.length - 1].bottom;\n      const left = minLeft;\n      const right = maxRight;\n      const width = right - left;\n      const height = bottom - top;\n\n      return {top, bottom, left, right, width, height};\n    }\n    default: {\n      return boundingRect;\n    }\n  }\n}\n","import tippy from '../src';\nimport {render} from '../src/template';\n\ntippy.setDefaultProps({render});\n\nexport {default, hideAll} from '../src';\nexport {default as createSingleton} from '../src/addons/createSingleton';\nexport {default as delegate} from '../src/addons/delegate';\nexport {default as animateFill} from '../src/plugins/animateFill';\nexport {default as followCursor} from '../src/plugins/followCursor';\nexport {default as inlinePositioning} from '../src/plugins/inlinePositioning';\nexport {default as sticky} from '../src/plugins/sticky';\nexport {ROUND_ARROW as roundArrow} from '../src/constants';\n","export default function uniqueBy(arr, fn) {\n  var identifiers = new Set();\n  return arr.filter(function (item) {\n    var identifier = fn(item);\n\n    if (!identifiers.has(identifier)) {\n      identifiers.add(identifier);\n      return true;\n    }\n  });\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","/* global __webpack_public_path__ */\n\nimport * as Preact from 'preact';\nconst { h, render, hydrate } = Preact;\n\nconst interopDefault = m => (m && m.default ? m.default : m);\n\nconst normalizeURL = url => (url[url.length - 1] === '/' ? url : url + '/');\n\nif (process.env.NODE_ENV === 'development') {\n\t// enable preact devtools\n\trequire('preact/debug');\n\n\t// only add a debug sw if webpack service worker is not requested.\n\tif (process.env.ADD_SW === undefined && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw-debug.js');\n\t} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(\n\t\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t\t);\n\t}\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t// eslint-disable-next-line no-undef\n\tnavigator.serviceWorker.register(\n\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t);\n}\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root =\n\t\tdocument.getElementById('preact_root') || document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\tlet preRenderData = {};\n\t\tconst inlineDataElement = document.querySelector(\n\t\t\t'[type=\"__PREACT_CLI_DATA__\"]'\n\t\t);\n\t\tif (inlineDataElement) {\n\t\t\tpreRenderData =\n\t\t\t\tJSON.parse(decodeURI(inlineDataElement.innerHTML)).preRenderData ||\n\t\t\t\tpreRenderData;\n\t\t}\n\t\t/* An object named CLI_DATA is passed as a prop,\n\t\t * this keeps us future proof if in case we decide,\n\t\t * to send other data like at some point in time.\n\t\t */\n\t\tconst CLI_DATA = { preRenderData };\n\t\tconst currentURL = preRenderData.url ? normalizeURL(preRenderData.url) : '';\n\t\tconst canHydrate =\n\t\t\tprocess.env.PRERENDER &&\n\t\t\tprocess.env.NODE_ENV === 'production' &&\n\t\t\thydrate &&\n\t\t\tcurrentURL === normalizeURL(location.pathname);\n\t\tconst doRender = canHydrate ? hydrate : render;\n\t\troot = doRender(h(app, { CLI_DATA }), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\ninterface Props {\n  className?: string;\n}\n\nexport const SpellsSkeleton: FunctionComponent<Props> = props => {\n  const { className } = props;\n  return (\n    <div className={clsx(Wrapper, className)} >\n      <div className={Icon} />\n      <div className={Icon} />\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n  padding-top: 5px;\n`;\n\nconst Icon = css`\n  width: 36px;\n  height: 36px;\n  display: block;\n  background: #3C385C;\n  border-radius: 2px;\n  margin: 0 8px 0 0;\n`;\n\n","import { Nullable } from '../types/lang';\n\nexport function isDef<T>(value: Nullable<T>): value is T {\n  return value !== null && value !== undefined;\n}\n\nexport function isDefAndNotEmpty<T extends ArrayLike<never>>(value: Nullable<T>): value is T {\n  return !!(value && value.length);\n}\n\nexport function getStrEnumValues<T>(obj: object): T[] {\n  const result = [];\n  for (const key in obj) {\n    result.push((obj as { [key: string]: T })[key] as T);\n  }\n  return result;\n}\n\nexport function getStrEnumKeys<T>(obj: object): (keyof T)[] {\n  const result = [];\n  for (const key in obj) {\n    result.push(key as keyof T);\n  }\n  return result;\n}\n\nexport function isStrEnumValue<T>(obj: object, value: any): value is T {\n  return getStrEnumValues<T>(obj).indexOf(value) !== -1;\n}\n\nexport function isStrEnumKey<T>(obj: object, value: any): value is keyof T {\n  return getStrEnumKeys<T>(obj).indexOf(value) !== -1;\n}\n\nexport function validateStrEnumValue<T>(obj: Nullable<object>, value: any): T | null {\n  return obj && isStrEnumValue<T>(obj, value) ? (value as T) : null;\n}\n","import { FunctionComponent, h} from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { SkillKey } from '../../types/gql-dynamic/globalTypes';\nimport { getSkillKeyColor } from '../../format/colors';\nimport { SkillKeyOrder } from '../../format/order';\nimport { Ability } from './types';\nimport { ChampionAbilityIcon } from '../images/champion-ability.component';\nimport { Text12x500Mixin, Text12x700Mixin } from '../../ui/typography';\n\ninterface Props {\n  abilities?: Ability[];\n  skillOrder: SkillKey[];\n  className?: string;\n}\n\nexport const ChampionAbilitiesOrder: FunctionComponent<Props> = props => {\n  const { abilities, skillOrder, className } = props;\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={SkillsWrapper}>\n        {\n          abilities?.map(it => <ChampionAbilityIcon key={it.slug} slug={it.slug} name={it.name} className={SkillIcon} />)\n        }\n      </div>\n\n      <div className={SkillsOrderWrapper}>\n        {skillOrder.map((key: SkillKey, index: number) => {\n          const offset = `${25 * (SkillKeyOrder[key] - 1)}%`;\n          return (\n            <div className={Col} key={index}>\n              <div className={Index}>{index + 1}</div>\n              <div className={Line}>\n                <div className={AbilityKeySymbol} style={{ color: getSkillKeyColor(key), top: offset }}>\n                  {key}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\n\nconst Wrapper = css`\n  display: flex;\n`;\n\nconst SkillsWrapper = css`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  margin-right: 8px;\n`;\n\nconst SkillIcon = css`\n  width: 24px;\n  height: 24px;\n  margin-top: 8px;\n`;\n\nconst SkillsOrderWrapper = css`\n  display: flex;\n`;\n\nconst Col = css`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-left: 3px;\n  height: 144px;\n`;\n\nconst Index = css`\n  ${Text12x700Mixin};\n  color: #6B6889!important;\n  cursor: default;\n  height: 20px;\n  margin-bottom: 2px;\n`;\n\nconst Line = css`\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n`;\n\nconst AbilityKeySymbol = css`\n  ${Text12x500Mixin};\n  width: 20px;\n  height: 20px;\n  border-radius: 3px;\n  background-color: rgba(76, 66, 120, 0.4);\n  cursor: default;\n\n  line-height: 20px!important;\n  text-transform: uppercase;\n  text-align: center;\n  position: relative;\n  transform: translate(0, 8px);\n\n  &:before {\n    display: block;\n    content: '';\n    width: 1px;\n    height: 200px;\n    background-color: rgba(255, 255, 255, 0.05);\n    position: absolute;\n    bottom: calc(100% + 4px);\n    left: 50%;\n  }\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { formatWinRateColor } from '../../../format/colors';\nimport { formatPercent } from '../../../format/number';\n\ninterface Props  {\n  winRate: number;\n  className?: string;\n}\n\nexport const WinRate: FunctionComponent<Props> = props => {\n  const { className, winRate,  } = props;\n  const color = formatWinRateColor(winRate);\n\n  return (\n    <span className={className} style={{ color }}>{formatPercent(winRate)}</span>\n  );\n};\n","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","export enum WidgetPropBuildType {\n  'most-popular' ,\n  'highest-wr' ,\n  'recommended'\n}\n","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') !== -1;\n  var isIE = navigator.userAgent.indexOf('Trident') !== -1;\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","let e={data:\"\"},t=t=>\"undefined\"!=typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(})/g,a=/\\/\\*[^]*?\\*\\/|\\s\\s+|\\n/g,n=(e,t)=>{let r,l=\"\",a=\"\",o=\"\";for(let c in e){let s=e[c];\"object\"==typeof s?(r=t?t.replace(/([^,])+/g,e=>c.replace(/([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):c,a+=\"@\"==c[0]?\"f\"==c[1]?n(s,c):c+\"{\"+n(s,\"k\"==c[1]?\"\":t)+\"}\":n(s,r)):\"@\"==c[0]&&\"i\"==c[1]?l=c+\" \"+s+\";\":(c=c.replace(/[A-Z]/g,\"-$&\").toLowerCase(),o+=n.p?n.p(c,s):c+\":\"+s+\";\")}return o[0]?(r=t?t+\"{\"+o+\"}\":o,l+r+a):l+a},o={},c=e=>{let t=\"\";for(let r in e)t+=r+(\"object\"==typeof e[r]?c(e[r]):e[r]);return t},s=(e,t,r,s,i)=>{let p=\"object\"==typeof e?c(e):e,u=o[p]||(o[p]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(p));if(!o[u]){let t=\"object\"==typeof e?e:(e=>{let t,r=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]&&r.shift(),t[3]?r.unshift(r[0][t[3]]=r[0][t[3]]||{}):t[4]||(r[0][t[1]]=t[2]);return r[0]})(e);o[u]=n(i?{[\"@keyframes \"+u]:t}:t,r?\"\":\".\"+u)}return((e,t,r)=>{-1==t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(o[u],t,s),u},i=(e,t,r)=>e.reduce((e,l,a)=>{let o=t[a];if(o&&o.call){let e=o(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":n(e,\"\"):e}return e+l+(null==o?\"\":o)},\"\");function p(e){let r=this||{},l=e.call?e(r.p):e;return s(l.unshift?l.raw?i(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>t?Object.assign(e,t.call?t(r.p):t):e,{}):l,t(r.target),r.g,r.o,r.k)}let u,f,d,g=p.bind({g:1}),b=p.bind({k:1});function h(e,t,r,l){n.p=t,u=e,f=r,d=l}function y(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=p.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=c.as||e;return d&&i[0]&&d(c),u(i,c)}return t?t(a):a}}export{p as css,r as extractCss,g as glob,b as keyframes,h as setup,y as styled};\n","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { RunesSlotsBlock } from './runes-slots-block.component';\nimport { RunesComponentProps } from '../types';\nimport { RunesSlotsMapByID } from '../../../static/runes';\nimport { RunesIcon } from '../../images/runes-icon.component';\n\ninterface Props extends RunesComponentProps{\n  className?: string;\n}\n\nexport const RunesBuildBlock: FunctionComponent<Props> = props => {\n  const { className, runes, keystone, style, subStyle } = props;\n  const { primary, secondary, perks } = runes;\n\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={Col}>\n        <RunesSlotsBlock\n          path={style}\n          keystone={keystone}\n          runes={primary}\n          slots={RunesSlotsMapByID[style].slots}\n        />\n      </div>\n      <div className={Col}>\n        <RunesSlotsBlock\n          path={subStyle}\n          keystone={null}\n          runes={secondary}\n          slots={RunesSlotsMapByID[subStyle].slots.slice(1)}\n        />\n        <div className={Row}>\n          {perks.map((it, index) => <RunesIcon key={index} slug={it} className={PerksIcon} isActive={true} />)}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst Row = css`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 20px;\n`;\n\nconst Col = css`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst PerksIcon = css`\n  width: 24px;\n  height: 24px;\n  margin: 0 8px;\n  border-width: 1px;\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { SpellIcon } from '../images/spell-icon.component';\n\ninterface Props {\n  spells: number[];\n  className?: string;\n}\n\nexport const Spells: FunctionComponent<Props> = props => {\n  const { spells, className } = props;\n  return (\n    <div className={clsx(Wrapper, className)} >\n      {spells.map((it) => {\n        return <SpellIcon riotId={it.toString()} className={Icon}/>;\n      })}\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n`;\n\nconst Icon = css`\n  width: 36px;\n  height: 36px;\n  display: block;\n  border: 1px solid #372B60;\n  border-radius: 2px;\n  margin: 0 8px 0 0;\n`;\n\n","import { NString, Nullable } from '../../common/types/lang';\n\nexport function extractFromFlatList<T>(list: Nullable<{ flatData: T }[]>): T[] | null {\n  return list ? list.map(it => it.flatData) : null;\n}\n\nexport function findBySlug<T extends { slug: NString }>(slug: NString, list: Nullable<T[]>): T | null {\n  return slug && list ? list.find(it => it.slug === slug) || null : null;\n}\n","import { FunctionComponent, h } from 'preact';\nimport { forwardRef } from 'preact/compat';\nimport { useQuery } from 'graphql-hooks';\nimport { lolApi } from '../../../api/api';\nimport { useEffect } from 'preact/hooks';\nimport { CHAMPION_TOOLTIP_QUERY_GQL } from '../../../api/dynamic/queries/champion-tooltip-query.gql';\nimport {\n  LolChampionTooltipDynamicQuery,\n  LolChampionTooltipDynamicQueryVariables,\n} from '../../../types/gql-dynamic/LolChampionTooltipDynamicQuery';\nimport { LolChampionELO, Rolename, TierLevel } from '../../../types/gql-dynamic/globalTypes';\nimport { ChampionTooltip } from '../../../components/champion-tooltip/champion-tooltip.component';\nimport { CHAMPION_TOOLTIP_STATIC_QUERY_GQL } from '../../../api/static/queries/champion-tooltip-query.gql';\nimport {\n  LolChampionTooltipStaticQuery,\n  LolChampionTooltipStaticQueryVariables,\n} from '../../../types/gql-static/LolChampionTooltipStaticQuery';\nimport { firstItem } from '../../../../common/utils/list';\nimport { isDef, validateStrEnumValue } from '../../../../common/utils/lang';\nimport { formatCounters, formatMetric, validateChampionType } from './champion-tooltip.utils';\nimport { numberComparator, sortBy } from '../../../../common/utils/sorting';\nimport { validateRolename } from '../../../utils/validation';\n\ninterface Props {\n  championSlug: string;\n  role?: string\n  onDataLoaded?(): void;\n\n  className?: string;\n}\n\nconst staticSkillLevel = 'low-elo';\n\nexport const ChampionTooltipWidgetContent: FunctionComponent<Props> = forwardRef<HTMLDivElement, Props>(\n  (props, ref) => {\n    const { championSlug, role, onDataLoaded, className} = props;\n\n    const { loading: dynamicLoading, error: dynamicError, data: dynamicData } = useQuery<\n      LolChampionTooltipDynamicQuery,\n      LolChampionTooltipDynamicQueryVariables\n      >(CHAMPION_TOOLTIP_QUERY_GQL , {\n      variables: {\n        championSlug,\n        skillLevel: LolChampionELO.LOW,\n      },\n      client: lolApi.dynamicDataClient,\n    });\n\n    const { loading: staticLoading, error: staticError, data: staticData } = useQuery<\n      LolChampionTooltipStaticQuery,\n      LolChampionTooltipStaticQueryVariables\n      >(CHAMPION_TOOLTIP_STATIC_QUERY_GQL, {\n      variables: {\n        filter: `data/slug/iv eq '${championSlug}'`,\n      },\n      client: lolApi.staticDataClient,\n    });\n\n    const loading = dynamicLoading || staticLoading;\n    const error = dynamicError || staticError;\n    const data = dynamicData && staticData;\n\n    const championMeta = firstItem(staticData?.championMeta);\n    const championTier = firstItem(staticData?.championTier);\n\n    const championName = championMeta?.flatData.name;\n\n    const roleName = validateRolename(role) || validateRolename(dynamicData?.lol?.champion?.build?.role);\n\n    if(!loading && !!error || !roleName || !championName){\n      return (\n        <div ref={ref} className={className}>\n          <ChampionTooltip\n            championSlug={championSlug}\n            championName={championSlug}\n            isLoading={true}\n          />\n        </div>\n      );\n    }\n\n    const championType = (firstItem(championMeta?.flatData.type)?.flatData);\n    const dynamicChampionData = dynamicData?.lol?.champion;\n    const dynamicChampionRoleData = firstItem(dynamicData?.lol?.championsList?.champions)?.roleData?.find(\n      it => it.role === roleName\n    )?.champion;\n\n    const tier = championTier?.flatData.riftTiers?.find(\n      it => it.skillLevel === staticSkillLevel && validateStrEnumValue<Rolename>(Rolename, it.role) === roleName\n    )?.tier;\n\n    const countersOptions = dynamicChampionRoleData?.countersOptions?.options;\n    const { winRateHistory, pickRateHistory, banRateHistory } = dynamicChampionData?.stats || {};\n\n    const counterChampions = countersOptions && sortBy(formatCounters(countersOptions), it => it.winRate, numberComparator).slice(0, 4)\n\n    useEffect(() => {\n      if(loading || (!!data && !error)){\n        onDataLoaded?.();\n      }\n    }, [onDataLoaded, loading, data, error]);\n\n    return (\n      <div ref={ref} className={className}>\n        <ChampionTooltip\n          championSlug={championSlug}\n          championName={championName}\n          tier={validateStrEnumValue(TierLevel, tier?.toUpperCase())}\n          championType={championType && validateChampionType(championType)}\n          winRate={isDef(winRateHistory) ? formatMetric(winRateHistory) : null}\n          pickRate={isDef(pickRateHistory) ? formatMetric(pickRateHistory) : null}\n          banRate={isDef(banRateHistory) ? formatMetric(banRateHistory) : null}\n          counterChampions={counterChampions}\n          isLoading={dynamicLoading || staticLoading}\n        />\n      </div>\n    );\n  }\n);\n","\nexport const shardsTooltips: { [key: string]: string } = {\n  '5008': '+9 Adaptive Force',\n  '5005': '+10% Attack Speed',\n  '5007': '+1 - 10% CDR (based on level)',\n  '5002': '+6 Armor',\n  '5003': '+8 Magic Resist',\n  '5001': '+15 - 90 Healh (based on level)',\n};\n\nexport const ShardsNames = ['Offense', 'Flex', 'Defense'];\n\nexport const RunesSlotsMapByID: { [key: string]: { slots: number[][] } } = {\n  8000: {\n    slots: [\n      [8005, 8008, 8021, 8010],\n      [9101, 9111, 8009],\n      [9104, 9105, 9103],\n      [8014, 8017, 8299],\n    ],\n  },\n  8100: {\n    slots: [\n      [8112, 8124, 8128, 9923],\n      [8126, 8139, 8143],\n      [8136, 8120, 8138],\n      [8135, 8134, 8105, 8106],\n    ],\n  },\n  8200: {\n    slots: [\n      [8214, 8229, 8230],\n      [8224, 8226, 8275],\n      [8210, 8234, 8233],\n      [8237, 8232, 8236],\n    ],\n  },\n  8300: {\n    slots: [\n      [8351, 8358, 8360],\n      [8306, 8304, 8313],\n      [8321, 8316, 8345],\n      [8347, 8410, 8352],\n    ],\n  },\n  8400: {\n    slots: [\n      [8437, 8439, 8465],\n      [8446, 8463, 8401],\n      [8429, 8444, 8473],\n      [8451, 8453, 8242],\n    ],\n  },\n};\n","export default function getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    y: rect.top\n  };\n}","import { FunctionComponent, h, Fragment} from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { SkillKey } from '../../types/gql-dynamic/globalTypes';\nimport { getSkillKeyColor } from '../../format/colors';\nimport { Text10x400Mixin, Text12x500Mixin } from '../../ui/typography';\n\ninterface Props {\n  skillsKeys: SkillKey[];\n  className?: string;\n}\n\nexport const ChampionAbilitiesOrderBar: FunctionComponent<Props> = props => {\n  const { skillsKeys, className } = props;\n  return (\n    <div className={clsx(Wrapper, className)}>\n      {skillsKeys.map((key) => {\n        return (\n          <Fragment key={key}>\n            <div className={AbilityKey(getSkillKeyColor(key))}>{key}</div>\n            <div className={Separator} ></div>\n          </Fragment>\n        );\n      })}\n    </div>\n  );\n};\n\n const Wrapper = css`\n  ${Text10x400Mixin};\n  display: flex;\n  align-items: center;\n  color: #8890b5!important;\n  height: 14px;\n`;\n\n const AbilityKey = (color: string) => css`\n  ${Text12x500Mixin};\n  color: ${color};\n`;\n\n const Separator = css`\n  display: flex;\n  margin: 0 6px;\n\n  &:last-child {\n    display: none;\n  }\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\ninterface Props{\n  className?: string;\n}\n\nexport const RunesBuildBlockSkeleton: FunctionComponent<Props> = props => {\n  const { className } = props;\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={Col}>\n        <div className={BlockWrapper}>\n          <div className={Header}>\n            <div className={clsx(RuneRound, PathIcon)} />\n            <div className={Name}/>\n          </div>\n          <div className={Grid}>\n            <div className={clsx(GridRow, KeystoneRow)}>\n              <div className={KeystoneRound} />\n              <div className={KeystoneRound} />\n              <div className={KeystoneRound} />\n              <div className={KeystoneRound} />\n            </div>\n            <div className={GridRow}>\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n            </div>\n            <div className={GridRow}>\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n            </div>\n            <div className={GridRow}>\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className={Col}>\n        <div className={BlockWrapper}>\n          <div className={Header}>\n            <div className={clsx(RuneRound, PathIcon)} />\n            <div className={Name}/>\n          </div>\n          <div className={Grid}>\n            <div className={GridRow}>\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n            </div>\n            <div className={GridRow}>\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n            </div>\n            <div className={GridRow}>\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n              <div className={RuneRound} />\n            </div>\n          </div>\n        </div>\n        <div className={Row}>\n          <div className={PerksIcon} />\n          <div className={PerksIcon} />\n          <div className={PerksIcon} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst Row = css`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 23px;\n`;\n\nconst Col = css`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst PerksIcon = css`\n  width: 24px;\n  height: 24px;\n  margin: 0 8px;\n  background: #3C385C;\n  border-radius: 50%;\n`;\n\nconst BlockWrapper = css`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst Grid = css`\n  display: grid;\n  row-gap: 22px;\n  position: relative;\n`;\n\nconst Header = css`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n  position: relative;\n`;\n\nconst Name = css`\n  width: 70px;\n  height: 12px;\n  background: #3C385C;\n  text-transform: capitalize;\n  margin-left: 8px;\n`;\n\nconst PathIcon = css`\n  width: 36px;\n  height: 36px;\n`;\n\nconst GridRow = css`\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: center;\n  grid-column-gap: 20px;\n  position: relative;\n`;\n\nconst KeystoneRow = css`\n  margin-top: -5px;\n  margin-bottom: -5px;\n`;\n\nconst RuneRound = css`\n  width: 36px;\n  height: 36px;\n  background: #3C385C;\n  border-radius: 50%;\n`;\n\nconst KeystoneRound = css`\n  width: 48px;\n  height: 48px;\n  background: #3C385C;\n  border-radius: 50%;\n`;\n","import { Fragment, FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { summonerSpellIcon } from '../../utils/images';\nimport { useTooltipHook } from '../../../common/components/tooltip-hook/tooltip-hook';\nimport { SpellTooltip } from '../spell-tooltip/spell-tooltip.component';\n\ninterface Props {\n  riotId: string;\n  className?: string;\n}\n\nexport const SpellIcon: FunctionComponent<Props> = props => {\n  const { riotId, className } = props;\n\n  const { mountTooltip, triggerHandler, contentRef, contentClass, dataLoadedHandler } = useTooltipHook({\n    isAsync: true,\n  });\n\n  return (\n    <Fragment>\n      <img\n        src={summonerSpellIcon(riotId)}\n        className={clsx(Icon, className)}\n        alt=\"\"\n        role=\"presentation\"\n        loading=\"lazy\"\n        onMouseOver={triggerHandler}\n      />\n      {\n        mountTooltip && (\n          <SpellTooltip\n            ref={contentRef}\n            riotId={riotId?.toString()}\n            onDataLoaded={dataLoadedHandler}\n            className={contentClass}\n          />\n        )\n      }\n    </Fragment>\n  );\n};\n\nconst Icon = css`\n  width: 36px;\n  height: 36px;\n  display: block;\n  border: 1px solid #372B60;\n  border-radius: 2px;\n  cursor: help;\n`;\n","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import { css } from 'goober';\n\nexport const GlobalStyle = css`\n  font-family: apple-system, BlinkMacSystemFont, Roboto, sans-serif;\n  box-sizing: border-box;\n\n  * {\n    box-sizing: border-box;\n  }\n\n  a{\n    text-decoration: none;\n  }\n`;\n","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { NNumber, NString } from '../../../common/types/lang';\nimport { validateRegion, validateRolename } from '../../utils/validation';\nimport { ChampionBuildWidgetError } from './champion-build-widget-error/champion-build-widget-error';\nimport { ChampionBuildWidgetContent } from './champion-build-widget-content/champion-build-widget-content';\nimport { GlobalStyle } from '../../ui/global.mixin';\n\nimport { amumuCrying } from '../../utils/images';\nimport { MOBA_APP_LINK } from '../../config';\nimport { formatBuildType } from '../../utils/build-data-format.utils';\nimport { validateStrEnumValue } from '../../../common/utils/lang';\nimport { WidgetPropBuildType } from '../../types/widget-props';\n\ninterface Props {\n  champion: NString;\n  role: NString;\n  region: NString;\n  patch: NString;\n  buildType: NString;\n  buildID: NString;\n  widgetWidth: NNumber;\n  isCompact?: boolean;\n}\n\nconst ChampionBuildWidget: FunctionComponent<Props> = props => {\n  const { isCompact, champion, role, widgetWidth, patch, region, buildType, buildID } = props;\n  const validatedRole = validateRolename(role);\n  const validatedRegion = validateRegion(region);\n  const validatedBuildTypeProp = validateStrEnumValue<WidgetPropBuildType>(WidgetPropBuildType, buildType);\n  const validatedBuildType = validatedBuildTypeProp ?formatBuildType(validatedBuildTypeProp): null;\n  const height = widgetWidth && getWidgetHeight(widgetWidth, !!isCompact);\n\n  return (\n    <div className={clsx(Wrapper(height ? `${height}px`: 'auto'), GlobalStyle)}>\n      {champion && (!role || validatedRole) ? (\n        <ChampionBuildWidgetContent\n          champion={champion}\n          role={validatedRole}\n          region={validatedRegion}\n          patch={patch}\n          buildType={validatedBuildType}\n          buildID={!!buildID ? parseInt(buildID): null}\n          compact={!!isCompact}\n          widgetWidth={widgetWidth}\n          className={clsx(Wrapper(height ? `${height}px`: 'auto'))}\n        />\n      ) : (\n        <ChampionBuildWidgetError\n          imgSrc={amumuCrying()}\n          title={'Something Went Wrong'}\n          text={'Sorry, but it appears that this widget or Mobalytics is experiencing some problems at the moment.'}\n          link={{\n            text: 'Check Mobalytics Status',\n            url: MOBA_APP_LINK,\n          }}\n          className={clsx(Wrapper(height ? `${height}px`: 'auto'))}\n        />\n      )}\n    </div>\n  );\n};\n\nfunction getWidgetHeight (widgetWidth: number, isCompact: boolean): NNumber {\n  if(widgetWidth >= 740) return isCompact ? 466 : 778;\n  if(widgetWidth >= 600) return isCompact ? 616 : 862;\n  if(widgetWidth >= 560) return isCompact ? 616 : 862;\n  if(widgetWidth >= 300) return isCompact ? 682 : 682;\n  return null\n}\n\nconst Wrapper = (height: string) => css`\n  width: 100%;\n  height: ${height};\n`;\n\nexport default ChampionBuildWidget;\n","import { gql } from '../../../../common/utils/graphql';\n\nexport const CHAMPION_TOOLTIP_STATIC_QUERY_GQL = gql`\n  query LolChampionTooltipStaticQuery($filter: String!) {\n    championTier: queryChampionTiersV1Contents(filter: $filter) {\n      flatData {\n        riftTiers {\n          tier\n          role\n          skillLevel\n        }\n      }\n    }\n\n    championMeta: queryChampionsV1Contents(filter: $filter) {\n      flatData {\n        name\n        type {\n          flatData {\n            name\n            slug\n          }\n        }\n      }\n    }\n  }\n`;\n","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport default function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","import { FunctionComponent, h, Fragment } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\nimport { perkIcon } from '../../utils/images';\nimport { NBoolean } from '../../../common/types/lang';\nimport { useTooltipHook } from '../../../common/components/tooltip-hook/tooltip-hook';\nimport { PerkTooltip } from '../perk-tooltip/perk-tooltip.component';\n\ninterface Props {\n  slug: number;\n  isActive: NBoolean;\n  isKeystones?: NBoolean;\n  className?: string;\n}\n\nexport const RunesIcon: FunctionComponent<Props> = props => {\n  const { slug, isActive, isKeystones, className } = props;\n\n  const { mountTooltip, triggerHandler, contentRef, contentClass, dataLoadedHandler } = useTooltipHook({\n    isAsync: true,\n  });\n\n  return (\n    <Fragment>\n      <img\n        src={perkIcon(slug)}\n        className={clsx(isKeystones ? KeystoneIcon : PerksIcon, isActive && Active, className)}\n        alt=\"\"\n        role=\"presentation\"\n        loading=\"lazy\"\n        onMouseEnter={triggerHandler}\n      />\n\n      {\n        mountTooltip && (\n          <PerkTooltip\n            ref={contentRef}\n            riotId={slug}\n            onDataLoaded={dataLoadedHandler}\n            className={contentClass}\n          />\n        )\n      }\n    </Fragment>\n  );\n};\n\nconst KeystoneIcon = css`\n  display: block;\n  width: 48px;\n  height: 48px;\n  opacity: 0.5;\n  mix-blend-mode: luminosity;\n  cursor: help;\n`;\n\nconst PerksIcon = css`\n  display: block;\n  width: 38px;\n  height: 38px;\n  border: 0 solid #F2BF43;\n  border-radius: 50%;\n\n  opacity: 0.5;\n  mix-blend-mode: luminosity;\n  cursor: help;\n`;\n\nconst Active = css`\n  opacity: 1;\n  mix-blend-mode: normal;\n  border-width: 2px;\n`;\n","import { FunctionComponent, h } from 'preact';\nimport { css, keyframes } from 'goober';\nimport clsx from 'clsx';\n\ninterface Props {\n  className?: string;\n}\n\nexport const Loader: FunctionComponent<Props> = props => {\n  const { className } = props;\n  return (\n    <div className={clsx(Wrapper, className)}>\n      <div className={Dot} />\n      <div className={Dot} />\n      <div className={Dot} />\n    </div>\n  );\n};\n\nconst fade = keyframes`\n  0% {\n    opacity: 0.1;\n  }\n\n  50% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0.1;\n  }\n`;\n\nconst Wrapper = css`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n`;\n\nconst Dot = css`\n  background-color: #8991b6!important;\n  border-radius: 100%;\n  display: inline-block;\n  height: 15px;\n  width: 15px;\n  margin: 0 2px;\n  opacity: 0.8;\n  animation: ${fade} 1.4s infinite ease-in-out;\n\n  &:nth-child(1) {\n    animation-delay: -0.32s;\n  }\n\n  &:nth-child(2) {\n    animation-delay: -0.16s;\n  }\n`;\n","import { RunesData } from './types';\n\nexport const formatRunesData = (IDs: number[]): RunesData => {\n  return { primary : IDs.slice(1, 4), secondary : IDs.slice(4,6), perks : IDs.slice(6,9) };\n}\n","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import { LolChampionBuildItemsListType, Rolename } from '../types/gql-dynamic/globalTypes';\nimport { t } from '../../common/i18n/i18n';\n\nexport function formatRoleName(position: Rolename): string {\n  switch (position) {\n    case Rolename.ADC:\n      return t('Bot');\n    case Rolename.JUNGLE:\n      return t('Jungle');\n    case Rolename.MID:\n      return t('Mid');\n    case Rolename.SUPPORT:\n      return t('Support');\n    case Rolename.TOP:\n      return t('Top');\n    case Rolename.UNKNOWN:\n      return t('Unknown');\n  }\n}\n\nexport function formatItemsBuildType(type: LolChampionBuildItemsListType): string {\n  switch (type) {\n    case LolChampionBuildItemsListType.Boots:\n      return t('Boots');\n    case LolChampionBuildItemsListType.Core:\n      return t('Mythic & Core Items');\n    case LolChampionBuildItemsListType.Early:\n      return t('Early Items');\n    case LolChampionBuildItemsListType.FullBuild:\n      return t('Additional Items');\n    case LolChampionBuildItemsListType.Situational:\n      return t('Situational Items');\n    case LolChampionBuildItemsListType.Starter:\n      return t('Starter Items');\n    case LolChampionBuildItemsListType.FirstCore:\n      return t('1st Core Item');\n    case LolChampionBuildItemsListType.SecondCore:\n      return t('2nd Core Item');\n    case LolChampionBuildItemsListType.FifthItem:\n      return t('5th Item');\n    case LolChampionBuildItemsListType.FourthItem:\n      return t('4th Item');\n    case LolChampionBuildItemsListType.SixthItem:\n      return t('6th Item');\n  }\n}\n\nexport function formatRunesPath(slug: number): string {\n  switch (slug) {\n    case 8000:\n      return t('Precision');\n    case 8100:\n      return t('Domination');\n    case 8200:\n      return t('Sorcery');\n    case 8300:\n      return t('Inspiration');\n    case 8400:\n      return t('Resolve');\n    default:\n      return '';\n  }\n}\n","import { FunctionComponent, h } from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\nimport { NString, Nullable } from '../../../common/types/lang';\nimport { useCallback, useState } from 'preact/hooks';\nimport { t } from '../../../common/i18n/i18n';\nimport { CdnVideo } from '../../../common/types/video';\nimport { championAbilityVideo } from '../../../common/format/video';\nimport { getSkillKeyColor } from '../../format/colors';\nimport { validateStrEnumValue } from '../../../common/utils/lang';\nimport { SkillKey } from '../../types/gql-dynamic/globalTypes';\nimport { SkillProgressionText } from './skill-progression-text.component';\nimport { RichText } from '../../../common/components/rich-text/rich-text.component';\nimport { Text12x400Mixin, Text12x500Mixin } from '../../ui/typography';\n\ninterface Props {\n  slug: string;\n  name: string;\n  description?: NString;\n  abilityKey?: NString;\n  cooldown?: NString;\n  cost?: NString;\n  range?: NString;\n  className?: string;\n}\n\nexport const ChampionAbilityTooltip: FunctionComponent<Props> = props => {\n  const { slug, name, description } = props;\n  const { abilityKey, range, cost, cooldown, className } = props;\n  const key = validateStrEnumValue<SkillKey>(SkillKey,abilityKey)\n  const color = key ? getSkillKeyColor(key) : null;\n\n  const [video, setVideo] = useState<Nullable<CdnVideo>>(championAbilityVideo(slug));\n  const style = { marginTop: !!video ? undefined : '0' };\n  const onVideoError = useCallback(() => setVideo(null), [setVideo]);\n\n  return (\n    <div className={clsx(Wrapper,className)}>\n      {!!video && (\n        <video className={VideoStyled} loop={true} autoPlay={true} muted={true} placeholder={video.placeholder} onError={onVideoError}>\n          <source src={video.webm} type=\"video/webm\" />\n          <source src={video.mp4} type=\"video/mp4\" />\n        </video>\n      )}\n      <div className={Content} style={style}>\n        <div className={Title}>\n          {name}\n          {color && key && <div className={ChampionAbilityKeySymbolStyled} style={{ color }}>{key}</div>}\n        </div>\n        {!!description && <RichText className={Description} markdown={description} />}\n        {!!range && (\n          <div className={AbilityMetric}>\n            <em>{t('Range')}:</em>\n            &nbsp;\n            <span className={AbilityMetricValue}>{range}</span>\n          </div>\n        )}\n        {!!cost && cost !== '0' && (\n          <div className={AbilityMetric}>\n            <em>{t('Cost')}:</em>\n            &nbsp;\n            <SkillProgressionText text={cost} />\n          </div>\n        )}\n        {!!cooldown && (\n          <div className={AbilityMetric}>\n            <em>{t('Cooldown')}:</em>\n            &nbsp;\n            <SkillProgressionText text={cooldown} />\n            &nbsp;\n            <span>{t('seconds')}</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  width: 280px;\n  background-color: #19133d!important;\n  border: 1px solid #221843;\n  border-radius: 5px;\n`;\n\nconst VideoStyled = css`\n  max-width: 100%;\n  min-height: 192px;\n  border-radius: 5px 5px 0 0;\n`;\n\nconst Content = css`\n  position: relative;\n  margin-top: -60px;\n  padding: 8px 12px;\n  background-image: linear-gradient(to bottom, rgba(25, 19, 61, 0), #19133d 60px, #19133d 100%);\n\n  > * + * {\n    margin-top: 4px;\n  }\n`;\n\nconst Title = css`\n  ${Text12x500Mixin};\n  display: flex;\n  align-items: center;\n  color: #fff!important;\n`;\n\nconst ChampionAbilityKeySymbolStyled = css`\n  width: 20px;\n  height: 20px;\n  border-radius: 3px;\n  cursor: default;\n\n  line-height: 20px!important;\n  text-transform: uppercase;\n  text-align: center;\n  margin-left: 4px;\n`;\n\nconst Description = css`\n  color: #aaabca!important;\n  line-height: 1.5!important;\n  ${Text12x400Mixin};\n`;\n\nconst AbilityMetric = css`\n  ${Text12x400Mixin};\n  color: #8890b5!important;\n`;\n\nconst AbilityMetricValue = css`\n  ${Text12x500Mixin};\n  color: #ffffff!important;\n`;\n\n","import { FunctionComponent, h} from 'preact';\nimport { css } from 'goober';\nimport clsx from 'clsx';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ChampionAbilitiesOrderSkeleton: FunctionComponent<Props> = props => {\n  const { className } = props;\n  return (\n    <div className={clsx(Wrapper, className)}>\n\n      <div className={SkillsWrapper}>\n        <div className={SkillIcon} />\n        <div className={SkillIcon} />\n        <div className={SkillIcon} />\n        <div className={SkillIcon} />\n      </div>\n\n      <div className={SkillsOrderWrapper}>\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '0%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '50%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '75%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '0' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '25%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '50%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '75%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '50%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '25%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '25%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '75%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '50%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '25%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '50%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '75%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '50%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '0%' }}/>\n          </div>\n        </div>\n\n        <div className={Col} >\n          <div className={Index}/>\n          <div className={Line}>\n            <div className={AbilityKeySymbol} style={{ top: '25%' }}/>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  );\n};\n\nconst Wrapper = css`\n  display: flex;\n`;\n\nconst SkillsWrapper = css`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  margin-right: 8px;\n`;\n\nconst SkillIcon = css`\n  width: 24px;\n  height: 24px;\n  margin-top: 8px;\n  background: #3C385C;\n`;\n\nconst SkillsOrderWrapper = css`\n  display: flex;\n`;\n\nconst Col = css`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-left: 3px;\n  height: 144px;\n`;\n\nconst Index = css`\n  background: #3C385C;\n  border-radius: 1px;\n  cursor: default;\n  height: 20px;\n  width: 20px;\n  margin-bottom: 2px;\n`;\n\nconst Line = css`\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n`;\n\nconst AbilityKeySymbol = css`\n  width: 20px;\n  height: 20px;\n  border-radius: 3px;\n  background: #3C385C;\n  position: relative;\n  transform: translate(0, 8px);\n\n  &:before {\n    display: block;\n    content: '';\n    width: 1px;\n    height: 200px;\n    background-color: rgba(255, 255, 255, 0.05);\n    position: absolute;\n    bottom: calc(100% + 4px);\n    left: 50%;\n  }\n`;\n"],"sourceRoot":""}